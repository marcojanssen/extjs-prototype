var Ext=Ext||{};Ext.Direct||(Ext.Direct={});Ext.Toolbar||(Ext.Toolbar={});Ext.app||(Ext.app={});Ext.app.domain||(Ext.app.domain={});Ext.button||(Ext.button={});Ext.chart||(Ext.chart={});Ext.chart.axis||(Ext.chart.axis={});Ext.chart.series||(Ext.chart.series={});Ext.chart.theme||(Ext.chart.theme={});Ext.container||(Ext.container={});Ext.core||(Ext.core={});Ext.data||(Ext.data={});Ext.data.association||(Ext.data.association={});Ext.data.flash||(Ext.data.flash={});Ext.data.proxy||(Ext.data.proxy={});
Ext.data.reader||(Ext.data.reader={});Ext.data.writer||(Ext.data.writer={});Ext.dd||(Ext.dd={});Ext.diag||(Ext.diag={});Ext.diag.layout||(Ext.diag.layout={});Ext.direct||(Ext.direct={});Ext.dom||(Ext.dom={});Ext.draw||(Ext.draw={});Ext.draw.engine||(Ext.draw.engine={});Ext.flash||(Ext.flash={});Ext.form||(Ext.form={});Ext.form.Action||(Ext.form.Action={});Ext.form.action||(Ext.form.action={});Ext.form.field||(Ext.form.field={});Ext.fx||(Ext.fx={});Ext.fx.target||(Ext.fx.target={});
Ext.grid||(Ext.grid={});Ext.grid.column||(Ext.grid.column={});Ext.grid.feature||(Ext.grid.feature={});Ext.grid.header||(Ext.grid.header={});Ext.grid.locking||(Ext.grid.locking={});Ext.grid.plugin||(Ext.grid.plugin={});Ext.grid.property||(Ext.grid.property={});Ext.layout||(Ext.layout={});Ext.layout.boxOverflow||(Ext.layout.boxOverflow={});Ext.layout.component||(Ext.layout.component={});Ext.layout.component.field||(Ext.layout.component.field={});Ext.layout.container||(Ext.layout.container={});
Ext.layout.container.border||(Ext.layout.container.border={});Ext.layout.container.boxOverflow||(Ext.layout.container.boxOverflow={});Ext.list||(Ext.list={});Ext.menu||(Ext.menu={});Ext.panel||(Ext.panel={});Ext.perf||(Ext.perf={});Ext.picker||(Ext.picker={});Ext.resizer||(Ext.resizer={});Ext.rtl||(Ext.rtl={});Ext.rtl.button||(Ext.rtl.button={});Ext.rtl.dd||(Ext.rtl.dd={});Ext.rtl.dom||(Ext.rtl.dom={});Ext.rtl.form||(Ext.rtl.form={});Ext.rtl.form.field||(Ext.rtl.form.field={});
Ext.rtl.grid||(Ext.rtl.grid={});Ext.rtl.grid.column||(Ext.rtl.grid.column={});Ext.rtl.grid.plugin||(Ext.rtl.grid.plugin={});Ext.rtl.layout||(Ext.rtl.layout={});Ext.rtl.layout.component||(Ext.rtl.layout.component={});Ext.rtl.layout.component.field||(Ext.rtl.layout.component.field={});Ext.rtl.layout.container||(Ext.rtl.layout.container={});Ext.rtl.layout.container.boxOverflow||(Ext.rtl.layout.container.boxOverflow={});Ext.rtl.panel||(Ext.rtl.panel={});Ext.rtl.resizer||(Ext.rtl.resizer={});
Ext.rtl.selection||(Ext.rtl.selection={});Ext.rtl.slider||(Ext.rtl.slider={});Ext.rtl.tab||(Ext.rtl.tab={});Ext.rtl.tip||(Ext.rtl.tip={});Ext.rtl.tree||(Ext.rtl.tree={});Ext.rtl.util||(Ext.rtl.util={});Ext.rtl.view||(Ext.rtl.view={});Ext.selection||(Ext.selection={});Ext.slider||(Ext.slider={});Ext.state||(Ext.state={});Ext.tab||(Ext.tab={});Ext.tip||(Ext.tip={});Ext.toolbar||(Ext.toolbar={});Ext.tree||(Ext.tree={});Ext.tree.plugin||(Ext.tree.plugin={});Ext.util||(Ext.util={});Ext.ux||(Ext.ux={});
Ext.ux.DataView||(Ext.ux.DataView={});Ext.ux.ajax||(Ext.ux.ajax={});Ext.ux.data||(Ext.ux.data={});Ext.ux.dd||(Ext.ux.dd={});Ext.ux.event||(Ext.ux.event={});Ext.ux.form||(Ext.ux.form={});Ext.ux.grid||(Ext.ux.grid={});Ext.ux.grid.filter||(Ext.ux.grid.filter={});Ext.ux.grid.menu||(Ext.ux.grid.menu={});Ext.ux.layout||(Ext.ux.layout={});Ext.ux.statusbar||(Ext.ux.statusbar={});Ext.view||(Ext.view={});Ext.window||(Ext.window={});var ExtThemeNeptune=ExtThemeNeptune||{};
ExtThemeNeptune.container||(ExtThemeNeptune.container={});ExtThemeNeptune.form||(ExtThemeNeptune.form={});ExtThemeNeptune.form.field||(ExtThemeNeptune.form.field={});ExtThemeNeptune.grid||(ExtThemeNeptune.grid={});ExtThemeNeptune.grid.column||(ExtThemeNeptune.grid.column={});ExtThemeNeptune.layout||(ExtThemeNeptune.layout={});ExtThemeNeptune.layout.component||(ExtThemeNeptune.layout.component={});ExtThemeNeptune.menu||(ExtThemeNeptune.menu={});ExtThemeNeptune.panel||(ExtThemeNeptune.panel={});
ExtThemeNeptune.picker||(ExtThemeNeptune.picker={});ExtThemeNeptune.resizer||(ExtThemeNeptune.resizer={});ExtThemeNeptune.tab||(ExtThemeNeptune.tab={});ExtThemeNeptune.toolbar||(ExtThemeNeptune.toolbar={});var Prototype=Prototype||{};Prototype.controller||(Prototype.controller={});Prototype.model||(Prototype.model={});Prototype.store||(Prototype.store={});Prototype.view||(Prototype.view={});Prototype.view.home||(Prototype.view.home={});Prototype.view.settings||(Prototype.view.settings={});
(function(a){var b=[],c=["constructor","toString","valueOf","toLocaleString"],d={},e={},g=0,h,i,j,k,l=function(a,b,c){var c=c.enumerableMembers,e=a.prototype,g,h,i;if(b){for(g in b)if((h=b[g])&&h.$isFunction&&!h.$isClass&&h!==Ext.emptyFn&&h!==Ext.identityFn){e[g]=h;h.$owner=a;h.$name=g}else e[g]=h;for(i=1;c;i=i<<1)if(c&i){c=c&~i;g=d[i];e[g]=h=b[g];h.$owner=a;h.$name=g}}},m=function(a,c,d,e,h,m,s,u,v,B,y){var w=function(){return this.constructor.apply(this,arguments)||null},z=w,e={enumerableMembers:e&
g,onCreated:y,onBeforeCreated:l,aliases:u},C=d.alternateClassName||[],y=Ext.global,A,x,D;for(A=b.length;A-- >0;){D=b[A];w[D]=i[D]}d.$isFunction&&(d=d(w));e.data=d;A=d.statics;d.$className=a;if(d.$className)w.$className=d.$className;w.extend(c);c=w.prototype;w.xtype=d.xtype=h[0];if(h)c.xtypes=h;c.xtypesChain=m;c.xtypesMap=s;d.alias=u;z.triggerExtended(w,d,e);if(d.onClassExtended){w.onExtended(d.onClassExtended,w);delete d.onClassExtended}if(A)for(x in A)if(A.hasOwnProperty(x)){if((m=A[x])&&m.$isFunction&&
!m.$isClass&&m!==Ext.emptyFn&&m!==Ext.identityFn){w[x]=h=m;h.$owner=w;h.$name=x}w[x]=m}delete d.statics;d.inheritableStatics&&w.addInheritableStatics(d.inheritableStatics);if(c.onClassExtended){z.onExtended(c.onClassExtended,z);delete c.onClassExtended}d.config&&k(w,d);e.onBeforeCreated(w,e.data,e);A=0;for(x=v&&v.length;A<x;++A)w.mixin.apply(w,v[A]);A=0;for(x=u.length;A<x;A++){v=u[A];j.setAlias(w,v)}d.singleton&&(z=new w);C instanceof Array||(C=[C]);A=0;for(u=C.length;A<u;A++){d=C[A];j.classes[d]=
z;v=j.getName(z);w=j.maps.nameToAlternates;if(v&&v!==d){j.maps.alternateToName[d]=v;C=w[v]||(w[v]=[]);C.push(d)}}A=0;for(x=B.length;A<x;A=A+2){(C=B[A])||(C=y);C[B[A+1]]=z}j.classes[a]=z;v=j.getName(z);w=j.maps.nameToAlternates;if(v&&v!==a){j.maps.alternateToName[a]=v;C=w[v]||(w[v]=[]);C.push(a)}delete c.alternateClassName;e.onCreated&&e.onCreated.call(z,z);a&&j.triggerCreated(a);return z};a.derive=function(){var l,p;i=Ext.Base;j=Ext.ClassManager;for(l=c.length;l-- >0;){p=1<<l;e[d[p]=c[l]]=p}for(l in e)g=
g|e[l];g=~g;Function.prototype.$isFunction=1;k=Ext.Class.getPreprocessor("config").fn;for(h in i)i.hasOwnProperty(h)&&b.push(h);a.derive=m;return m.apply(this,arguments)}})(Ext.cmd={});Ext=Ext||{};Ext._startTime=(new Date).getTime();
(function(){var a=Object.prototype,b=a.toString,c=true,d={toString:1},e=function(){},g=function(){var a=g.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},h,i=/\S/,j=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=true;Ext.global=this;for(h in d)c=null;c&&(c=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);Ext.enumerables=c;Ext.apply=function(a,
b,d){d&&Ext.apply(a,d);if(a&&b&&typeof b==="object"){for(var e in b)a[e]=b[e];if(c)for(d=c.length;d--;){e=c[d];b.hasOwnProperty(e)&&(a[e]=b[e])}}return a};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:e,identityFn:function(a){return a},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(a,b){var c;if(a)for(c in b)a[c]===void 0&&(a[c]=b[c]);return a},iterate:function(a,b,c){if(!Ext.isEmpty(a)){c===
void 0&&(c=a);Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,b,c):Ext.Object.each.call(Ext.Object,a,b,c)}}});Ext.apply(Ext,{extend:function(){var b=a.constructor,c=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return function(a,d,e){if(Ext.isObject(d)){e=d;d=a;a=e.constructor!==b?e.constructor:function(){d.apply(this,arguments)}}var g=function(){},h=d.prototype;g.prototype=h;g=a.prototype=new g;g.constructor=a;a.superclass=h;if(h.constructor===b)h.constructor=d;a.override=function(b){Ext.override(a,
b)};g.override=c;g.proto=g;a.override(e);a.extend=function(b){return Ext.extend(a,b)};return a}}(),override:function(a,b){if(a.$isClass)a.override(b);else if(typeof a=="function")Ext.apply(a.prototype,b);else{var c=a.self,d,e;if(c&&c.$isClass)for(d in b){if(b.hasOwnProperty(d)){e=b[d];if(typeof e=="function"){e.$name=d;e.$owner=c;e.$previous=a.hasOwnProperty(d)?a[d]:g}a[d]=e}}else Ext.apply(a,b)}return a}});Ext.apply(Ext,{valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},typeOf:function(a){var c;
if(a===null)return"null";c=typeof a;if(c==="undefined"||c==="string"||c==="number"||c==="boolean")return c;switch(b.call(a)){case "[object Array]":return"array";case "[object Date]":return"date";case "[object Boolean]":return"boolean";case "[object Number]":return"number";case "[object RegExp]":return"regexp"}if(c==="function")return"function";if(c==="object")return a.nodeType!==void 0?a.nodeType===3?i.test(a.nodeValue)?"textnode":"whitespace":"element":"object"},coerce:function(a,b){var c=Ext.typeOf(a),
d=Ext.typeOf(b),e=typeof a==="string";if(c!==d)switch(d){case "string":return""+a;case "number":return Number(a);case "boolean":return e&&(!a||a==="false")?false:Boolean(a);case "null":return e&&(!a||a==="null")?null:a;case "undefined":return e&&(!a||a==="undefined")?void 0:a;case "date":return e&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a))}return a},isEmpty:function(a,b){return a===null||a===void 0||(!b?a==="":false)||Ext.isArray(a)&&a.length===0},isArray:"isArray"in Array?
Array.isArray:function(a){return b.call(a)==="[object Array]"},isDate:function(a){return b.call(a)==="[object Date]"},isObject:b.call(null)==="[object Object]"?function(a){return a!==null&&a!==void 0&&b.call(a)==="[object Object]"&&a.ownerDocument===void 0}:function(a){return b.call(a)==="[object Object]"},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){a=typeof a;return a==="string"||a==="number"||a==="boolean"},isFunction:function(a){return!(!a||
!a.$extIsFunction)},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?a.nodeType===1:false},isTextNode:function(a){return a?a.nodeName==="#text":false},isDefined:function(a){return typeof a!=="undefined"},isIterable:function(a){return!a||typeof a.length!=="number"||typeof a==="string"||a.$extIsFunction?
false:!a.propertyIsEnumerable?!!a.item:a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")?true:j.test(b.call(a))}});Ext.apply(Ext,{clone:function(a){var d,e,g;if(a===null||a===void 0)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(true);d=b.call(a);if(d==="[object Date]")return new Date(a.getTime());if(d==="[object Array]"){d=a.length;for(g=[];d--;)g[d]=Ext.clone(a[d])}else if(d==="[object Object]"&&a.constructor===Object){g={};for(e in a)g[e]=Ext.clone(a[e]);if(c)for(d=c.length;d--;){e=
c[d];a.hasOwnProperty(e)&&(g[e]=a[e])}}return g||a},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===void 0){b=0;do a="ExtBox"+ ++b;while(Ext.global[a]!==void 0);Ext.global[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var a=Array.prototype.slice.call(arguments),b=this.functionFactoryCache,c,d;if(Ext.isSandboxed){c=a.length;if(c>0){c--;a[c]="var Ext=window."+Ext.name+";"+a[c]}}c=a.join("");d=b[c];if(!d){d=Function.prototype.constructor.apply(Function.prototype,
a);b[c]=d}return d},functionFactory:function(){var a=Array.prototype.slice.call(arguments),b;if(Ext.isSandboxed){b=a.length;if(b>0){b--;a[b]="var Ext=window."+Ext.name+";"+a[b]}}return Function.prototype.constructor.apply(Function.prototype,a)},Logger:{verbose:e,log:e,info:e,warn:e,error:function(a){throw Error(a);},deprecate:e}});Ext.type=Ext.typeOf;d=Ext.app;if(!d)d=Ext.app={};Ext.apply(d,{namespaces:{},collectNamespaces:function(a){var b=Ext.app.namespaces,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=
true)},addNamespaces:function(a){var b=Ext.app.namespaces,c,d;Ext.isArray(a)||(a=[a]);c=0;for(d=a.length;c<d;c++)b[a[c]]=true},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(a){var b=Ext.app.namespaces,c="",d;for(d in b)b.hasOwnProperty(d)&&(d.length>c.length&&d+"."===a.substring(0,d.length+1))&&(c=d);return c===""?void 0:c}})})();Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function(a){(function(){eval(a)})()};
(function(){var a;Ext.Version=a=Ext.extend(Object,{constructor:function(b){var c;if(b instanceof a)return b;this.version=this.shortVersion=(""+b).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");c=this.version.search(/([^\d\.])/);if(c!==-1){this.release=this.version.substr(c,b.length);this.shortVersion=this.version.substr(0,c)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");b=this.version.split(".");this.major=parseInt(b.shift()||0,10);this.minor=parseInt(b.shift()||0,10);this.patch=
parseInt(b.shift()||0,10);this.build=parseInt(b.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(b){return a.compare(this.version,b)===1},isGreaterThanOrEqual:function(b){return a.compare(this.version,b)>=
0},isLessThan:function(b){return a.compare(this.version,b)===-1},isLessThanOrEqual:function(b){return a.compare(this.version,b)<=0},equals:function(b){return a.compare(this.version,b)===0},match:function(a){a=""+a;return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,
arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(a,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return!a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(b,c){var d,e,g,b=(new a(b)).toArray(),c=(new a(c)).toArray();for(g=0;g<Math.max(b.length,c.length);g++){d=this.getComponentValue(b[g]);e=this.getComponentValue(c[g]);
if(d<e)return-1;if(d>e)return 1}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(b,c){Ext.versions[b]=new a(c);Ext.lastRegisteredVersion=Ext.versions[b];return this},getVersion:function(a){return a===void 0?Ext.lastRegisteredVersion:Ext.versions[a]},deprecate:function(b,c,d,e){a.compare(Ext.getVersion(b),c)<1&&d.call(e)}});Ext.setVersion("core","4.2.1.883")})();
Ext.String=function(){var a=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,b=/('|\\)/g,c=/\{(\d+)\}/g,d=/([-.*+?\^${}()|\[\]\/\\])/g,e=/^\s+|\s+$/g,g=/\s+/,h=/(^[^a-z]*|[^\w])/gi,i,j,k,l,m=function(a,b){return i[b]},n=function(a,b){return b in j?j[b]:String.fromCharCode(parseInt(b.substr(2),
10))},p=function(a,b){return a===null||a===void 0||b===null||b===void 0?false:b.length<=a.length};return{insert:function(a,b,c){if(!a)return b;if(!b)return a;var d=a.length;!c&&c!==0&&(c=d);if(c<0){c=c*-1;c=c>=d?0:d-c}return a=c===0?b+a:c>=a.length?a+b:a.substr(0,c)+b+a.substr(c)},startsWith:function(a,b,c){var d=p(a,b);if(d){if(c){a=a.toLowerCase();b=b.toLowerCase()}d=a.lastIndexOf(b,0)===0}return d},endsWith:function(a,b,c){var d=p(a,b);if(d){if(c){a=a.toLowerCase();b=b.toLowerCase()}d=a.indexOf(b,
a.length-b.length)!==-1}return d},createVarName:function(a){return a.replace(h,"")},htmlEncode:function(a){return!a?a:(""+a).replace(k,m)},htmlDecode:function(a){return!a?a:(""+a).replace(l,n)},addCharacterEntities:function(a){var b=[],c=[],d,e;for(d in a){e=a[d];j[d]=e;i[e]=d;b.push(e);c.push(d)}k=RegExp("("+b.join("|")+")","g");l=RegExp("("+c.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){i={};j={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},
urlAppend:function(a,b){return!Ext.isEmpty(b)?a+(a.indexOf("?")===-1?"?":"&")+b:a},trim:function(b){return b.replace(a,"")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.substr(1)},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var c=a.substr(0,b-2),d=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),c.lastIndexOf("?"));if(d!==-1&&d>=b-15)return c.substr(0,d)+"..."}return a.substr(0,b-3)+"..."}return a},
escapeRegex:function(a){return a.replace(d,"\\$1")},escape:function(a){return a.replace(b,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){a=""+a;for(c=c||" ";a.length<b;)a=c+a;return a},format:function(a){var b=Ext.Array.toArray(arguments,1);return a.replace(c,function(a,c){return b[c]})},repeat:function(a,b,c){b<1&&(b=0);for(var d=[];b--;)d.push(a);return d.join(c||"")},splitWords:function(a){return a&&typeof a=="string"?a.replace(e,"").split(g):a||[]}}}();Ext.String.resetCharacterEntities();
Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;
Ext.Number=new function(){var a=this,b=(0.9).toFixed()!=="1",c=Math;Ext.apply(this,{constrain:function(a,b,c){a=parseFloat(a);return a<b?b:a>c?c:a},snap:function(b,c,g,h){var i;if(b===void 0||b<g)return g||0;if(c){i=b%c;if(i!==0){b=b-i;i*2>=c?b=b+c:i*2<-c&&(b=b-c)}}return a.constrain(b,g,h)},snapInRange:function(b,c,g,h){var i,g=g||0;if(b===void 0||b<g)return g;if(c&&(i=(b-g)%c)){b=b-i;i*2>=c&&(b=b+c)}if(h!==void 0&&b>(h=a.snapInRange(h,c,g)))b=h;return b},toFixed:b?function(a,b){var b=b||0,g=c.pow(10,
b);return(c.round(a*g)/g).toFixed(b)}:function(a,b){return a.toFixed(b)},from:function(a,b){isFinite(a)&&(a=parseFloat(a));return!isNaN(a)?a:b},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return a.from.apply(this,arguments)}};
(function(){function a(a,b){return b<0?Math.max(0,a.length+b):Math.min(a.length,b)}function b(b,c,d,e){var g=e?e.length:0,h=b.length,c=a(b,c),i,j,k;if(c===h)g&&b.push.apply(b,e);else{i=Math.min(d,h-c);d=c+i;j=d+g-i;k=h-d;h=h-i;if(j<d)for(i=0;i<k;++i)b[j+i]=b[d+i];else if(j>d)for(i=k;i--;)b[j+i]=b[d+i];if(g&&c===h){b.length=h;b.push.apply(b,e)}else{b.length=h+g;for(i=0;i<g;++i)b[c+i]=e[i]}}return b}function c(a,b,c,d){d&&d.length?b===0&&!c?a.unshift.apply(a,d):b<a.length?a.splice.apply(a,[b,c].concat(d)):
a.push.apply(a,d):a.splice(b,c);return a}function d(a,c,d){return b(a,c,d)}function e(a,b,c){a.splice(b,c);return a}function g(c,d,e){var g=a(c,d),h=c.slice(d,a(c,g+e));arguments.length<4?b(c,g,e):b(c,g,e,j.call(arguments,3));return h}function h(a){return a.splice.apply(a,j.call(arguments,1))}var i=Array.prototype,j=i.slice,k=function(){var a=[],b;b=20;if(!a.splice)return false;for(;b--;)a.push("A");a.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");
b=a.length;a.splice(13,0,"XXX");return b+1!=a.length?false:true}(),l="forEach"in i,m="map"in i,n="indexOf"in i,p="every"in i,o="some"in i,q="filter"in i,r=function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}(),t=true,s,u,v;try{typeof document!=="undefined"&&j.call(document.getElementsByTagName("body"))}catch(B){t=false}u=k?e:d;v=k?c:b;k=k?h:g;s=Ext.Array={each:function(a,b,c,d){var a=s.from(a),e=a.length;if(d!==true)for(d=0;d<e;d++){if(b.call(c||
a[d],a[d],d,a)===false)return d}else for(d=e-1;d>-1;d--)if(b.call(c||a[d],a[d],d,a)===false)return d;return true},forEach:l?function(a,b,c){a.forEach(b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},indexOf:n?function(a,b,c){return i.indexOf.call(a,b,c)}:function(a,b,c){for(var d=a.length,c=c<0?Math.max(0,d+c):c||0;c<d;c++)if(a[c]===b)return c;return-1},contains:n?function(a,b){return i.indexOf.call(a,b)!==-1}:function(a,b){var c,d;c=0;for(d=a.length;c<d;c++)if(a[c]===b)return true;
return false},toArray:function(a,b,c){if(!a||!a.length)return[];typeof a==="string"&&(a=a.split(""));if(t)return j.call(a,b||0,c||a.length);for(var d=[],c=c?c<0?a.length+c:c:a.length,b=b||0;b<c;b++)d.push(a[b]);return d},pluck:function(a,b){var c=[],d,e,g;d=0;for(e=a.length;d<e;d++){g=a[d];c.push(g[b])}return c},map:m?function(a,b,c){return a.map(b,c)}:function(a,b,c){for(var d=[],e=0,g=a.length;e<g;e++)d[e]=b.call(c,a[e],e,a);return d},every:p?function(a,b,c){return a.every(b,c)}:function(a,b,c){for(var d=
0,e=a.length;d<e;++d)if(!b.call(c,a[d],d,a))return false;return true},some:o?function(a,b,c){return a.some(b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return true;return false},equals:function(a,b){var c=a.length,d;if(a===b)return true;if(c!==b.length)return false;for(d=0;d<c;++d)if(a[d]!==b[d])return false;return true},clean:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++){e=a[c];Ext.isEmpty(e)||b.push(e)}return b},unique:function(a){for(var b=[],c=0,d=a.length,e;c<
d;c++){e=a[c];s.indexOf(b,e)===-1&&b.push(e)}return b},filter:q?function(a,b,c){return a.filter(b,c)}:function(a,b,c){for(var d=[],e=0,g=a.length;e<g;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d},findBy:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c||a,a[d],d))return a[d];return null},from:function(a,b){if(a===void 0||a===null)return[];if(Ext.isArray(a))return b?j.call(a):a;var c=typeof a;return a&&a.length!==void 0&&c!=="string"&&(c!=="function"||!a.apply)?s.toArray(a):[a]},remove:function(a,
b){var c=s.indexOf(a,b);c!==-1&&u(a,c,1);return a},include:function(a,b){s.contains(a,b)||a.push(b)},clone:function(a){return j.call(a)},merge:function(){var a=j.call(arguments),b=[],c,d;c=0;for(d=a.length;c<d;c++)b=b.concat(a[c]);return s.unique(b)},intersect:function(){var a=[],b=j.call(arguments),c,d,e,g,h,i,k,l,m,n,p;if(!b.length)return a;c=b.length;for(m=d=0;m<c;m++){e=b[m];if(!g||e.length<g.length){g=e;d=m}}g=s.unique(g);u(b,d,1);h=g.length;c=b.length;for(m=0;m<h;m++){i=g[m];for(n=l=0;n<c;n++){d=
b[n];e=d.length;for(p=0;p<e;p++){k=d[p];if(i===k){l++;break}}}l===c&&a.push(i)}return a},difference:function(a,b){var c=j.call(a),d=c.length,e,g,h;e=0;for(h=b.length;e<h;e++)for(g=0;g<d;g++)if(c[g]===b[e]){u(c,g,1);g--;d--}return c},slice:[1,2].slice(1,void 0).length?function(a,b,c){return j.call(a,b,c)}:function(a,b,c){return typeof b==="undefined"?j.call(a):typeof c==="undefined"?j.call(a,b):j.call(a,b,c)},sort:r?function(a,b){return b?a.sort(b):a.sort()}:function(a,b){for(var c=a.length,d=0,e,
g,h;d<c;d++){h=d;for(g=d+1;g<c;g++)if(b){e=b(a[g],a[h]);e<0&&(h=g)}else a[g]<a[h]&&(h=g);if(h!==d){e=a[d];a[d]=a[h];a[h]=e}}return a},flatten:function(a){function b(a){var d,e,g;d=0;for(e=a.length;d<e;d++){g=a[d];Ext.isArray(g)?b(g):c.push(g)}return c}var c=[];return b(a)},min:function(a,b){var c=a[0],d,e,g;d=0;for(e=a.length;d<e;d++){g=a[d];b?b(c,g)===1&&(c=g):g<c&&(c=g)}return c},max:function(a,b){var c=a[0],d,e,g;d=0;for(e=a.length;d<e;d++){g=a[d];b?b(c,g)===-1&&(c=g):g>c&&(c=g)}return c},mean:function(a){return a.length>
0?s.sum(a)/a.length:void 0},sum:function(a){var b=0,c,d,e;c=0;for(d=a.length;c<d;c++){e=a[c];b=b+e}return b},toMap:function(a,b,c){var d={},e=a.length;if(b)if(typeof b=="string")for(;e--;)d[a[e][b]]=e+1;else for(;e--;)d[b.call(c,a[e])]=e+1;else for(;e--;)d[a[e]]=e+1;return d},toValueMap:function(a,b,c){var d={},e=a.length;if(b)if(typeof b=="string")for(;e--;)d[a[e][b]]=a[e];else for(;e--;)d[b.call(c,a[e])]=a[e];else for(;e--;)d[a[e]]=a[e];return d},erase:u,insert:function(a,b,c){return v(a,b,0,c)},
replace:v,splice:k,push:function(a){var b=arguments.length,c=1,d;for(a===void 0?a=[]:Ext.isArray(a)||(a=[a]);c<b;c++){d=arguments[c];Array.prototype.push[Ext.isIterable(d)?"apply":"call"](a,d)}return a}};Ext.each=s.each;s.union=s.merge;Ext.min=s.min;Ext.max=s.max;Ext.sum=s.sum;Ext.mean=s.mean;Ext.flatten=s.flatten;Ext.clean=s.clean;Ext.unique=s.unique;Ext.pluck=s.pluck;Ext.toArray=function(){return s.toArray.apply(s,arguments)}})();
Ext.Function={flexSetter:function(a){return function(b,c){var d,e;if(b===null)return this;if(typeof b!=="string"){for(d in b)b.hasOwnProperty(d)&&a.call(this,d,b[d]);if(Ext.enumerables)for(e=Ext.enumerables.length;e--;){d=Ext.enumerables[e];b.hasOwnProperty(d)&&a.call(this,d,b[d])}}else a.call(this,b,c);return this}},bind:function(a,b,c,d){if(arguments.length===2)return function(){return a.apply(b,arguments)};var e=Array.prototype.slice;return function(){var g=c||arguments;if(d===true){g=e.call(arguments,
0);g=g.concat(c)}else if(typeof d=="number"){g=e.call(arguments,0);Ext.Array.insert(g,d,c)}return a.apply(b||Ext.global,g)}},pass:function(a,b,c){Ext.isArray(b)||(b=Ext.isIterable(b)?Ext.Array.clone(b):b!==void 0?[b]:[]);return function(){var d=[].concat(b);d.push.apply(d,arguments);return a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,b,c,d){if(Ext.isFunction(b)){d=
Ext.isDefined(d)?d:null;return function(){var e=arguments;b.target=this;b.method=a;return b.apply(c||this||Ext.global,e)!==false?a.apply(this||Ext.global,e):d}}return a},createDelayed:function(a,b,c,d,e){if(c||d)a=Ext.Function.bind(a,c,d,e);return function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){a.apply(c,d)},b)}},defer:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);if(b>0)return setTimeout(Ext.supports.TimeoutActualLateness?function(){a()}:a,b);a();return 0},
createSequence:function(a,b,c){return b?function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}:a},createBuffered:function(a,b,c,d){var e;return function(){var g=d||Array.prototype.slice.call(arguments,0),h=c||this;e&&clearTimeout(e);e=setTimeout(function(){a.apply(h,g)},b)}},createThrottled:function(a,b,c){var d,e,g,h,i=function(){a.apply(c||this,g);d=Ext.Date.now()};return function(){e=Ext.Date.now()-d;g=arguments;clearTimeout(h);!d||e>=b?i():h=setTimeout(i,b-e)}},interceptBefore:function(a,
b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);e.apply(this,arguments);return a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){e.apply(this,arguments);return c.apply(d||this,arguments)}}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");
(function(){var a=function(){},b=Ext.Object={chain:Object.create||function(b){a.prototype=b;b=new a;a.prototype=null;return b},toQueryObjects:function(a,d,e){var g=b.toQueryObjects,h=[],i,j;if(Ext.isArray(d)){i=0;for(j=d.length;i<j;i++)e?h=h.concat(g(a+"["+i+"]",d[i],true)):h.push({name:a,value:d[i]})}else if(Ext.isObject(d))for(i in d)d.hasOwnProperty(i)&&(e?h=h.concat(g(a+"["+i+"]",d[i],true)):h.push({name:a,value:d[i]}));else h.push({name:a,value:d});return h},toQueryString:function(a,d){var e=
[],g=[],h,i,j,k;for(h in a)a.hasOwnProperty(h)&&(e=e.concat(b.toQueryObjects(h,a[h],d)));h=0;for(i=e.length;h<i;h++){j=e[h];k=j.value;Ext.isEmpty(k)?k="":Ext.isDate(k)&&(k=Ext.Date.toString(k));g.push(encodeURIComponent(j.name)+"="+encodeURIComponent(""+k))}return g.join("&")},fromQueryString:function(a,b){var e=a.replace(/^\?/,"").split("&"),g={},h,i,j,k,l,m,n,p,o;j=0;for(k=e.length;j<k;j++){i=e[j];if(i.length>0){i=i.split("=");h=decodeURIComponent(i[0]);i=i[1]!==void 0?decodeURIComponent(i[1]):
"";if(b){n=h.match(/(\[):?([^\]]*)\]/g);l=h.match(/^([^\[]+)/);h=l[0];p=[];if(n===null)g[h]=i;else{l=0;for(m=n.length;l<m;l++){o=n[l];o=o.length===2?"":o.substring(1,o.length-1);p.push(o)}p.unshift(h);h=g;l=0;for(m=p.length;l<m;l++){o=p[l];if(l===m-1)Ext.isArray(h)&&o===""?h.push(i):h[o]=i;else{if(h[o]===void 0||typeof h[o]==="string"){n=p[l+1];h[o]=Ext.isNumeric(n)||n===""?[]:{}}h=h[o]}}}}else if(g.hasOwnProperty(h)){Ext.isArray(g[h])||(g[h]=[g[h]]);g[h].push(i)}else g[h]=i}}return g},each:function(a,
b,e){for(var g in a)if(a.hasOwnProperty(g)&&b.call(e||a,g,a[g],a)===false)break},merge:function(a){for(var d=1,e=arguments.length,g=b.merge,h=Ext.clone,i,j,k,l;d<e;d++){i=arguments[d];for(j in i)if((k=i[j])&&k.constructor===Object)(l=a[j])&&l.constructor===Object?g(l,k):a[j]=h(k);else a[j]=k}return a},mergeIf:function(a){for(var b=1,e=arguments.length,g=Ext.clone,h,i,j;b<e;b++){h=arguments[b];for(i in h)if(!(i in a)){j=h[i];a[i]=j&&j.constructor===Object?g(j):j}}return a},getKey:function(a,b){for(var e in a)if(a.hasOwnProperty(e)&&
a[e]===b)return e;return null},getValues:function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(a[e]);return b},getKeys:typeof Object.keys=="function"?function(a){return!a?[]:Object.keys(a)}:function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(e);return b},getSize:function(a){var b=0,e;for(e in a)a.hasOwnProperty(e)&&b++;return b},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return false;return true},equals:function(){var a=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&
a[c]!==b[c])return false;return true};return function(b,e){return b===e?true:b&&e?a(b,e)&&a(e,b):!b&&!e?b===e:false}}(),classify:function(a){var d=[],e={},g=function(){for(var a=0,b=d.length,c;a<b;a++){c=d[a];this[c]=new e[c]}},h,i;for(h in a)if(a.hasOwnProperty(h))if((i=a[h])&&i.constructor===Object){d.push(h);e[h]=b.classify(i)}g.prototype=a;return g}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var a=Ext.Array.from(arguments),d="";if(typeof a[1]==="string"){d=
a[1]+"&";a[1]=false}return d+b.toQueryString.apply(b,a)};Ext.urlDecode=function(){return b.fromQueryString.apply(b,arguments)}})();
Ext.Date=new function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(h,function(a,c){return b[c]})}var b=this,c=/(\\.)/g,d=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,g=/\\/gi,h=/\{(\d+)\}/g,i=/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//;Ext.apply(b,{now:Date.now||function(){return+new Date},toString:function(a){var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),2,"0")+":"+b(a.getSeconds(),
2,"0")},getElapsed:function(a,c){return Math.abs(a-(c||b.now()))},useStrict:false,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];if(e){e=typeof e=="function"?e():e;b.parseCodes[c]=e}return e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a){return(a=(a||"").match(i))?new Date(((a[1]||"")+a[2])*1):null},time:function(a){return(a=parseInt(a,10))||a===0?new Date(a):null},timestamp:function(a){return(a=parseInt(a,10))||a===0?new Date(a*
1E3):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return b.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,
Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return d.test(a.replace(c,
""))},formatContainsDateInfo:function(a){return e.test(a.replace(c,""))},unescapeFormat:function(a){return a.replace(g,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",
m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",
A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",
Z:"(this.getTimezoneOffset() * -60)",c:function(){var a,c,d;a=[];for(c=0;c<12;++c){d="Y-m-dTH:i:sP".charAt(c);a.push(d=="T"?"'T'":b.getFormatCode(d))}return a.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,c,d,e,g,h,i){var e=e||0,g=g||0,h=h||0,i=i||0,q=b.add(new Date(a<100?100:a,c-1,d,e,g,h,i),b.YEAR,a<100?a-100:0);return a==q.getFullYear()&&c==q.getMonth()+1&&d==q.getDate()&&e==q.getHours()&&g==q.getMinutes()&&h==q.getSeconds()&&i==q.getMilliseconds()},parse:function(a,c,
d){var e=b.parseFunctions;e[c]==null&&b.createParser(c);return e[c].call(b,a,Ext.isDefined(d)?d:b.useStrict)},parseDate:function(a,c,d){return b.parse(a,c,d)},getFormatCode:function(a){var c=b.formatCodes[a];if(c){c=typeof c=="function"?c():c;b.formatCodes[a]=c}return c||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var c=[],d=false,e="",g;for(g=0;g<a.length;++g){e=a.charAt(g);if(!d&&e=="\\")d=true;else if(d){d=false;c.push("'"+Ext.String.escape(e)+"'")}else c.push(b.getFormatCode(e))}b.formatFunctions[a]=
Ext.functionFactory("return "+c.join("+"))},createParser:function(c){for(var d=b.parseRegexes.length,e=1,g=[],h=[],i=false,o="",q=0,r=c.length,t=[];q<r;++q){o=c.charAt(q);if(!i&&o=="\\")i=true;else if(i){i=false;h.push(Ext.String.escape(o))}else{o=b.formatCodeToRegex(o,e);e=e+o.g;h.push(o.s);o.g&&o.c&&(o.calcAtEnd?t.push(o.c):g.push(o.c))}}g=g.concat(t);b.parseRegexes[d]=RegExp("^"+h.join("")+"$","i");b.parseFunctions[c]=Ext.functionFactory("input","strict",a("var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,\ndef = me.defaults,\nfrom = Ext.Number.from,\nresults = String(input).match(me.parseRegexes[{0}]);\nif(results){\n{1}\nif(u != null){\nv = new Date(u * 1000);\n}else{\ndt = me.clearTime(new Date);\ny = from(y, from(def.y, dt.getFullYear()));\nm = from(m, from(def.m - 1, dt.getMonth()));\ndayMatched = d !== undefined;\nd = from(d, from(def.d, dt.getDate()));\nif (!dayMatched) {\ndt.setDate(1);\ndt.setMonth(m);\ndt.setFullYear(y);\ndaysInMonth = me.getDaysInMonth(dt);\nif (d > daysInMonth) {\nd = daysInMonth;\n}\n}\nh  = from(h, from(def.h, dt.getHours()));\ni  = from(i, from(def.i, dt.getMinutes()));\ns  = from(s, from(def.s, dt.getSeconds()));\nms = from(ms, from(def.ms, dt.getMilliseconds()));\nif(z >= 0 && y >= 0){\nv = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);\nv = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);\n}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){\nv = null;\n}else{\nif (W) {\nyear = y || (new Date()).getFullYear(),\njan4 = new Date(year, 0, 4, 0, 0, 0),\nweek1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));\nv = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));\n} else {\nv = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);\n}\n}\n}\n}\nif(v){\nif(zz != null){\nv = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn v;",
d,g.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],c=0;c<7;a.push(b.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},
W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;c<12;a.push(b.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},
o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",
s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",
s:"(\\d+)"},O:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn = o.substring(3,5) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{4})"},P:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn = o.substring(4,6) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",
s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a=[],c=[b.formatCodeToRegex("Y",1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("H",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {\nif(results[8] == 'Z'){\nzz = 0;\n}else if (results[8].indexOf(':') > -1){",
b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}\n}"].join("\n")}],d,e;d=0;for(e=c.length;d<e;++d)a.push(c[d].c);return{g:1,c:a.join(""),s:[c[0].s,"(?:-",c[1].s,"(?:-",c[2].s,"(?:(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,c){return b.format(a,c)},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},format:function(a,
c){var d=b.formatFunctions;if(!Ext.isDate(a))return"";d[c]==null&&b.createFormat(c);return d[c].call(a)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(c>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(a){var c=0,d=Ext.Date.clone(a),e=a.getMonth(),
g;g=0;d.setDate(1);for(d.setMonth(0);g<e;d.setMonth(++g))c=c+b.getDaysInMonth(d);return c+a.getDate()-1},getWeekOfYear:function(){return function(a){var a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()+3)/864E5,a=Math.floor(a/7),b=(new Date(a*6048E5)).getUTCFullYear();return a-Math.floor(Date.UTC(b,0,7)/6048E5)+1}}(),isLeapYear:function(a){a=a.getFullYear();return!!((a&3)==0&&(a%100||a%400==0&&a))},getFirstDayOfMonth:function(a){a=(a.getDay()-(a.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},
getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d==1&&b.isLeapYear(c)?29:a[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},
isDST:function(a){return(new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,c){if(c)return Ext.Date.clearTime(Ext.Date.clone(a));var d=a.getDate(),e,g;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(a.getDate()!=d){e=1;for(g=b.add(a,Ext.Date.HOUR,e);g.getDate()!=d;e++,g=b.add(a,Ext.Date.HOUR,e));a.setDate(d);a.setHours(g.getHours())}return a},add:function(a,c,d){var e=Ext.Date.clone(a),g,h,i=0;if(!c||d===0)return e;h=d-parseInt(d,
10);if(d=parseInt(d,10))switch(c.toLowerCase()){case Ext.Date.MILLI:e.setTime(e.getTime()+d);break;case Ext.Date.SECOND:e.setTime(e.getTime()+d*1E3);break;case Ext.Date.MINUTE:e.setTime(e.getTime()+d*6E4);break;case Ext.Date.HOUR:e.setTime(e.getTime()+d*36E5);break;case Ext.Date.DAY:e.setDate(e.getDate()+d);break;case Ext.Date.MONTH:g=a.getDate();g>28&&(g=Math.min(g,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.MONTH,d)).getDate()));e.setDate(g);e.setMonth(a.getMonth()+
d);break;case Ext.Date.YEAR:g=a.getDate();g>28&&(g=Math.min(g,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.YEAR,d)).getDate()));e.setDate(g);e.setFullYear(a.getFullYear()+d)}if(h){switch(c.toLowerCase()){case Ext.Date.MILLI:i=1;break;case Ext.Date.SECOND:i=1E3;break;case Ext.Date.MINUTE:i=6E4;break;case Ext.Date.HOUR:i=36E5;break;case Ext.Date.DAY:i=864E5;break;case Ext.Date.MONTH:g=b.getDaysInMonth(e);i=864E5*g;break;case Ext.Date.YEAR:g=b.isLeapYear(e)?366:365;
i=864E5*g}i&&e.setTime(e.getTime()+i*h)}return e},subtract:function(a,c,d){return b.add(a,c,-d)},between:function(a,b,c){a=a.getTime();return b.getTime()<=a&&a<=c.getTime()},compat:function(){var a=window.Date,c;c=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate",
"getFormatCode","createFormat","createParser","parseCodes"];var d=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],e=c.length,g=d.length,h,i,q;for(q=0;q<e;q++){h=c[q];a[h]=b[h]}for(c=0;c<g;c++){i=d[c];a.prototype[i]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b[i].apply(b,a)}}}})};
(function(a){var b=[],c=function(){},d=function(a,b,c,d){var j=function(){var b=this.callParent(arguments);a.apply(this,arguments);return b};j.$name=c;j.$owner=d;if(b){j.$previous=b.$previous;b.$previous=j}return j};Ext.apply(c,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(a){var b=a.prototype,c,d,j,k;d=this.prototype=Ext.Object.chain(b);d.self=this;this.superclass=d.superclass=b;if(!a.$isClass){c=
Ext.Base.prototype;for(j in c)j in d&&(d[j]=c[j])}if(k=b.$inheritableStatics){j=0;for(b=k.length;j<b;j++){c=k[j];this.hasOwnProperty(c)||(this[c]=a[c])}}if(a.$onExtended)this.$onExtended=a.$onExtended.slice();d.config=new d.configClass;d.initConfigList=d.initConfigList.slice();d.initConfigMap=Ext.clone(d.initConfigMap);d.configMap=Ext.Object.chain(d.configMap)},$onExtended:[],triggerExtended:function(){var a=this.$onExtended,b=a.length,c,d;if(b>0)for(c=0;c<b;c++){d=a[c];d.fn.apply(d.scope||this,arguments)}},
onExtended:function(a,b){this.$onExtended.push({fn:a,scope:b});return this},addConfig:function(a,b){var c=this.prototype,d=Ext.Class.configNameCache,j=c.configMap,k=c.initConfigList,l=c.initConfigMap,m=c.config,n,p,o;for(p in a)if(a.hasOwnProperty(p)){j[p]||(j[p]=true);o=a[p];n=d[p].initialized;if(!l[p]&&o!==null&&!c[n]){l[p]=true;k.push(p)}}b?Ext.merge(m,a):Ext.mergeIf(m,a);c.configClass=Ext.Object.classify(m)},addStatics:function(a){var b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];if(typeof b==
"function"&&!b.$isClass&&b!==Ext.emptyFn&&b!==Ext.identityFn){b.$owner=this;b.$name=c}this[c]=b}return this},addInheritableStatics:function(a){var b,c,d=this.prototype,j;b=d.$inheritableStatics;c=d.$hasInheritableStatics;if(!b){b=d.$inheritableStatics=[];c=d.$hasInheritableStatics={}}for(j in a)if(a.hasOwnProperty(j)){d=a[j];this[j]=d;if(!c[j]){c[j]=true;b.push(j)}}return this},addMembers:function(a){var b=this.prototype,c=Ext.enumerables,d=[],j,k,l;for(k in a)d.push(k);c&&d.push.apply(d,c);c=0;for(j=
d.length;c<j;c++){k=d[c];if(a.hasOwnProperty(k)){l=a[k];if(typeof l=="function"&&!l.$isClass&&l!==Ext.emptyFn&&l!==Ext.identityFn){l.$owner=this;l.$name=k}b[k]=l}}return this},addMember:function(a,b){if(typeof b=="function"&&!b.$isClass&&b!==Ext.emptyFn&&b!==Ext.identityFn){b.$owner=this;b.$name=a}this.prototype[a]=b;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(a,b){var c=this.prototype,d=a.prototype,j,k,l,m,b=Ext.Array.from(b);j=0;for(k=b.length;j<k;j++){l=
b[j];m=d[l];if(typeof m=="function"){m=Ext.Function.clone(m);m.$owner=this;m.$name=l}c[l]=m}return this},override:function(a){var b=Ext.enumerables,c=this.prototype,d=Ext.Function.clone,j,k,l,m,n,p;if(arguments.length===2){j=a;a={};a[j]=arguments[1];b=null}do{n=[];m=null;for(j in a)j=="statics"?m=a[j]:j=="inheritableStatics"?this.addInheritableStatics(a[j]):j=="config"?this.addConfig(a[j],true):n.push(j);b&&n.push.apply(n,b);for(k=n.length;k--;){j=n[k];if(a.hasOwnProperty(j)){l=a[j];if(typeof l==
"function"&&!l.$className&&l!==Ext.emptyFn&&l!==Ext.identityFn){typeof l.$owner!="undefined"&&(l=d(l));l.$owner=this;l.$name=j;if(p=c[j])l.$previous=p}c[j]=l}}c=this;a=m}while(a);return this},callParent:function(a){var c;return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,
b){var c=b.prototype,i=this.prototype,j,k,l,m;typeof c.onClassMixedIn!="undefined"&&c.onClassMixedIn.call(b,this);if(!i.hasOwnProperty("mixins"))i.mixins="mixins"in i?Ext.Object.chain(i.mixins):{};for(j in c){k=c[j];if(j==="mixins")Ext.merge(i.mixins,k);else if(j==="xhooks")for(l in k){m=k[l];m.$previous=Ext.emptyFn;i.hasOwnProperty(l)?d(m,i[l],l,this):i[l]=d(m,null,l,this)}else if(!(j==="mixinId"||j==="config")&&i[j]===void 0)i[j]=k}if(j=c.$inheritableStatics){k=0;for(l=j.length;k<l;k++){m=j[k];
this.hasOwnProperty(m)||(this[m]=b[m])}}"config"in c&&this.addConfig(c.config,false);i.mixins[a]=c;return this},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){this.override(a,function(){return this[b].apply(this,arguments)})}),addXtype:function(a){var b=this.prototype,c=b.xtypesMap,d=b.xtypes,j=b.xtypesChain;if(!b.hasOwnProperty("xtypesMap")){c=b.xtypesMap=Ext.merge({},b.xtypesMap||{});d=b.xtypes=b.xtypes?[].concat(b.xtypes):[];j=b.xtypesChain=b.xtypesChain?[].concat(b.xtypesChain):
[];b.xtype=a}if(!c[a]){c[a]=true;d.push(a);j.push(a);Ext.ClassManager.setAlias(this,"widget."+a)}return this}});c.implement({isInstance:true,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var a=this.statics.caller,b=this.self;return!a?b:a.$owner},callParent:function(a){var c;return((c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name])).apply(this,a||b)},callSuper:function(a){var c;return((c=
this.callSuper.caller)&&(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]).apply(this,a||b)},self:c,constructor:function(){return this},initConfig:function(a){var b=a,c=Ext.Class.configNameCache,d=new this.configClass,j=this.initConfigList,k=this.configMap,l,m;this.initConfig=Ext.emptyFn;this.initialConfig=b||{};this.config=a=b?Ext.merge(d,a):d;if(b){j=j.slice();for(l in b)if(k[l]&&b[l]!==null){j.push(l);this[c[l].initialized]=false}}d=0;for(k=j.length;d<k;d++){l=j[d];b=c[l];m=b.initialized;if(!this[m]){this[m]=
true;this[b.set].call(this,a[l])}}return this},hasConfig:function(a){return Boolean(this.configMap[a])},setConfig:function(a,b){if(!a)return this;var c=Ext.Class.configNameCache,d=this.config,j=this.configMap,k=this.initialConfig,l,m,b=Boolean(b);for(l in a)if(!b||!k.hasOwnProperty(l)){m=a[l];d[l]=m;if(j[l])this[c[l].set](m)}return this},getConfig:function(a){return this[Ext.Class.configNameCache[a].get]()},getInitialConfig:function(a){var b=this.config;return a?b[a]:b},onConfigUpdate:function(a,
b,c){var d=this.self,j,k,l,m,n,a=Ext.Array.from(a),c=c||this;j=0;for(k=a.length;j<k;j++){l=a[j];l="update"+Ext.String.capitalize(l);m=this[l]||Ext.emptyFn;n=function(){m.apply(this,arguments);c[b].apply(c,arguments)};n.$name=l;n.$owner=d;this[l]=n}},destroy:function(){this.destroy=Ext.emptyFn}});c.prototype.callOverridden=c.prototype.callParent;Ext.Base=c})(Ext.Function.flexSetter);
(function(){function a(){return function(){return this.constructor.apply(this,arguments)||null}}var b,c=Ext.Base,d=[],e,g;for(e in c)c.hasOwnProperty(e)&&d.push(e);g=d.length;Ext.Class=b=function(a,c,d){if(typeof a!="function"){d=c;c=a;a=null}c||(c={});a=b.create(a,c);b.process(a,c,d);return a};Ext.apply(b,{onBeforeCreated:function(a,b,c){a.addMembers(b);c.onCreated.call(a,a)},create:function(b){var e,j;b||(b=a());for(j=0;j<g;j++){e=d[j];b[e]=c[e]}return b},process:function(a,c,d){var e=c.preprocessors||
b.defaultPreprocessors,g=this.preprocessors,m={onBeforeCreated:this.onBeforeCreated},n=[],p,o,q,r,t,s,u;delete c.preprocessors;q=0;for(r=e.length;q<r;q++){p=e[q];if(typeof p=="string"){p=g[p];o=p.properties;if(o===true)n.push(p.fn);else if(o){t=0;for(s=o.length;t<s;t++){u=o[t];if(c.hasOwnProperty(u)){n.push(p.fn);break}}}}else n.push(p)}m.onCreated=d?d:Ext.emptyFn;m.preprocessors=n;this.doProcess(a,c,m)},doProcess:function(a,b,c){for(var d=c.preprocessors,e=d.shift(),g=this.doProcess;e;e=d.shift())if(e.call(this,
a,b,c,g)===false)return;c.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.preprocessors[a]={name:a,properties:c||false,fn:b};this.setDefaultPreprocessorPosition(a,d,e);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=
Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(a,b,c){var d=this.defaultPreprocessors;if(typeof b=="string"){if(b==="first"){d.unshift(a);return this}if(b==="last"){d.push(a);return this}b=b==="after"?1:-1}c=Ext.Array.indexOf(d,c);c!==-1&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this},configNameCache:{},getConfigNameMap:function(a){var b=this.configNameCache,c=b[a];if(!c){c=a.charAt(0).toUpperCase()+a.substr(1);c=b[a]={internal:a,initialized:"_is"+c+"Initialized",apply:"apply"+
c,update:"update"+c,set:"set"+c,get:"get"+c,doSet:"doSet"+c,changeEvent:a.toLowerCase()+"change"}}return c}});b.registerPreprocessor("extend",function(a,b,c){var d=Ext.Base,e=d.prototype,g=b.extend,n;delete b.extend;d=g&&g!==Object?g:d;g=d.prototype;if(!d.$isClass)for(n in e)g[n]||(g[n]=e[n]);a.extend(d);a.triggerExtended.apply(a,arguments);if(b.onClassExtended){a.onExtended(b.onClassExtended,a);delete b.onClassExtended}},true);b.registerPreprocessor("statics",function(a,b){a.addStatics(b.statics);
delete b.statics});b.registerPreprocessor("inheritableStatics",function(a,b){a.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});b.registerPreprocessor("config",function(a,c){var d=c.config,e=a.prototype;delete c.config;Ext.Object.each(d,function(a,d){var g=b.getConfigNameMap(a),h=g.internal,j=g.initialized,q=g.apply,r=g.update,t=g.set,s=g.get,g=t in e||c.hasOwnProperty(t),u=q in e||c.hasOwnProperty(q),v=r in e||c.hasOwnProperty(r),B,y;if(d===null||!g&&!u&&!v){e[h]=d;e[j]=
true}else e[j]=false;g||(c[t]=function(a){var b=this[h],c=this[q],d=this[r];this[j]||(this[j]=true);c&&(a=c.call(this,a,b));if(typeof a!="undefined"){this[h]=a;d&&a!==b&&d.call(this,a,b)}return this});if(!(s in e)||c.hasOwnProperty(s)){B=(y=c[s]||false)?function(){return y.apply(this,arguments)}:function(){return this[h]};c[s]=function(){var b;if(!this[j]){this[j]=true;this[t](this.config[a])}b=this[s];"$previous"in b?b.$previous=B:this[s]=B;return B.apply(this,arguments)}}});a.addConfig(d,true)});
b.registerPreprocessor("mixins",function(a,b,c){var d=b.mixins,e,g,n,p;delete b.mixins;Ext.Function.interceptBefore(c,"onCreated",function(){if(d instanceof Array){n=0;for(p=d.length;n<p;n++){g=d[n];e=g.prototype.mixinId||g.$className;a.mixin(e,g)}}else for(var b in d)d.hasOwnProperty(b)&&a.mixin(b,d[b])})});Ext.extend=function(a,c,d){if(arguments.length===2&&Ext.isObject(c)){d=c;c=a;a=null}var e;if(!c)throw Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");
d.extend=c;d.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(a){e=new b(a,d);e.prototype.constructor=a}else e=new b(d);e.prototype.override=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return e}})();
(function(a,b,c,d,e){function g(){return function(){return this.constructor.apply(this,arguments)||null}}var h=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(a){var b=this.existCache,c,d,g,h,p;if(this.classes[a]||b[a])return true;h=e;p=this.parseNamespace(a);c=0;for(d=p.length;c<d;c++){g=p[c];if(typeof g!=
"string")h=g;else{if(!h||!h[g])return false;h=h[g]}}b[a]=true;this.triggerCreated(a);return true},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(a){var b=this.createdListeners,c=this.nameCreatedListeners,d=this.maps.nameToAlternates[a],e=[a],g,h,o,q;g=0;for(h=b.length;g<h;g++){o=b[g];o.fn.call(o.scope,a)}d&&e.push.apply(e,d);g=0;for(h=e.length;g<h;g++){q=e[g];if(b=c[q]){a=0;for(d=b.length;a<d;a++){o=b[a];o.fn.call(o.scope,q)}delete c[q]}}},onCreated:function(a,b,c){var d=this.createdListeners,
e=this.nameCreatedListeners,g={fn:a,scope:b};if(c)if(this.isCreated(c))a.call(b,c);else{e[c]||(e[c]=[]);e[c].push(g)}else d.push(g)},parseNamespace:function(a){var b=this.namespaceParseCache,c,d,g,h,p,o,q,r;if(this.enableNamespaceParseCache&&b.hasOwnProperty(a))return b[a];c=[];d=this.namespaceRewrites;g=e;h=a;q=0;for(r=d.length;q<r;q++){p=d[q];o=p.from;p=p.to;if(h===o||h.substring(0,o.length)===o){h=h.substring(o.length);typeof p!="string"?g=p:c=c.concat(p.split("."));break}}c.push(g);c=c.concat(h.split("."));
this.enableNamespaceParseCache&&(b[a]=c);return c},setNamespace:function(a,b){var c=e,d=this.parseNamespace(a),g=d.length-1,h=d[g],p,o;for(p=0;p<g;p++){o=d[p];if(typeof o!="string")c=o;else{c[o]||(c[o]={});c=c[o]}}c[h]=b;return c[h]},createNamespaces:function(){var a=e,b,c,d,g,h,p;d=0;for(h=arguments.length;d<h;d++){b=this.parseNamespace(arguments[d]);g=0;for(p=b.length;g<p;g++){c=b[g];if(typeof c!="string")a=c;else{a[c]||(a[c]={});a=a[c]}}}return a},set:function(a,b){var c=this.maps,d=c.nameToAlternates,
e=this.getName(b);this.classes[a]=this.setNamespace(a,b);if(e&&e!==a){c.alternateToName[a]=e;c=d[e]||(d[e]=[]);c.push(a)}return this},get:function(a){var b=this.classes,c,d,g;if(b[a])return b[a];b=e;a=this.parseNamespace(a);d=0;for(g=a.length;d<g;d++){c=a[d];if(typeof c!="string")b=c;else{if(!b||!b[c])return null;b=b[c]}}return b},setAlias:function(a,b){var c=this.maps.aliasToName,d=this.maps.nameToAliases,e;e=typeof a=="string"?a:this.getName(a);b&&c[b]!==e&&(c[b]=e);d[e]||(d[e]=[]);b&&Ext.Array.include(d[e],
b);return this},addNameAliasMappings:function(a){var b=this.maps.aliasToName,c=this.maps.nameToAliases,d,e,g,h;for(d in a){e=c[d]||(c[d]=[]);for(h=0;h<a[d].length;h++){g=a[d][h];if(!b[g]){b[g]=d;e.push(g)}}}return this},addNameAlternateMappings:function(a){var b=this.maps.alternateToName,c=this.maps.nameToAlternates,d,e,g,h;for(d in a){e=c[d]||(c[d]=[]);for(h=0;h<a[d].length;h++){g=a[d][h];if(!b[g]){b[g]=d;e.push(g)}}}return this},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getNameByAlias:function(a){return this.maps.aliasToName[a]||
""},getNameByAlternate:function(a){return this.maps.alternateToName[a]||""},getAliasesByName:function(a){return this.maps.nameToAliases[a]||[]},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){var e=g();typeof c=="function"&&(c=c(e));c.$className=b;return new a(e,c,function(){var a=c.postprocessors||h.defaultPostprocessors,e=h.postprocessors,g=[],l,q,r,t,s,u,v;delete c.postprocessors;q=0;for(r=a.length;q<r;q++){l=a[q];if(typeof l==
"string"){l=e[l];u=l.properties;if(u===true)g.push(l.fn);else if(u){t=0;for(s=u.length;t<s;t++){v=u[t];if(c.hasOwnProperty(v)){g.push(l.fn);break}}}}else g.push(l)}c.postprocessors=g;c.createdFn=d;h.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=c.postprocessors.shift(),e=c.createdFn;if(d)d.call(this,a,b,c,this.processCreate)!==false&&this.processCreate(a,b,c);else{a&&this.set(a,b);e&&e.call(b,b);a&&this.triggerCreated(a)}},createOverride:function(a,b,c){var d=this,e=b.override,g=
b.requires,h=b.uses,o=function(){var q;if(g){q=g;g=null;Ext.Loader.require(q,o)}else{q=d.get(e);delete b.override;delete b.requires;delete b.uses;Ext.override(q,b);d.triggerCreated(a);h&&Ext.Loader.addUsedClasses(h);c&&c.call(q)}};d.existCache[a]=true;d.onCreated(o,d,e);return d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),d=this.getNameByAlias(a);if(!d){d=this.maps.aliasToName[a];Ext.syncRequire(d)}b[0]=d;return this.instantiate.apply(this,b)},instantiate:function(){var a=
arguments[0],b=typeof a,d=c.call(arguments,1),e;if(b!="function"){if(b!="string"&&d.length===0){d=[a];a=a.xclass}e=this.get(a)}else e=a;if(!e)if(b=this.getNameByAlias(a)){a=b;e=this.get(a)}if(!e)if(b=this.getNameByAlternate(a)){a=b;e=this.get(a)}if(!e){Ext.syncRequire(a);e=this.get(a)}return this.getInstantiator(d.length)(e,d)},dynInstantiate:function(a,b){b=d(b,true);b.unshift(a);return this.instantiate.apply(this,b)},getInstantiator:function(a){var b=this.instantiators,c,d;c=b[a];if(!c){d=[];for(c=
0;c<a;c++)d.push("a["+c+"]");c=b[a]=new Function("c","a","return new c("+d.join(",")+")")}return c},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.postprocessors[a]={name:a,properties:c||false,fn:b};this.setDefaultPostprocessorPosition(a,d,e);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=d(a);return this},setDefaultPostprocessorPosition:function(a,b,c){var d=this.defaultPostprocessors;if(typeof b=="string"){if(b===
"first"){d.unshift(a);return this}if(b==="last"){d.push(a);return this}b=b==="after"?1:-1}c=Ext.Array.indexOf(d,c);c!==-1&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this},getNamesByExpression:function(a){var b=this.maps.nameToAliases,c=[],d,e,g,h,o;if(a.indexOf("*")!==-1){a=a.replace(/\*/g,"(.*?)");g=RegExp("^"+a+"$");for(d in b)if(b.hasOwnProperty(d)){e=b[d];if(d.search(g)!==-1)c.push(d);else{h=0;for(o=e.length;h<o;h++){a=e[h];if(a.search(g)!==-1){c.push(d);break}}}}}else if(b=this.getNameByAlias(a))c.push(b);
else(b=this.getNameByAlternate(a))?c.push(b):c.push(a);return c}};h.registerPostprocessor("alias",function(a,c,d){var a=d.alias,e,d=0;for(e=a.length;d<e;d++){b=a[d];this.setAlias(c,b)}},["xtype","alias"]);h.registerPostprocessor("singleton",function(a,b,c,d){if(c.singleton)d.call(this,a,new b,c);else return true;return false});h.registerPostprocessor("alternateClassName",function(a,b,c){var a=c.alternateClassName,d,e;a instanceof Array||(a=[a]);c=0;for(d=a.length;c<d;c++){e=a[c];this.set(e,b)}});
Ext.apply(Ext,{create:b(h,"instantiate"),widget:function(a,b){var c=a,d,e;if(typeof c!="string"){b=a;c=b.xtype}else b=b||{};if(b.isComponent)return b;c="widget."+c;(d=h.getNameByAlias(c))||(e=true);d=h.get(d);return e||!d?h.instantiateByAlias(c,b):new d(b)},createByAlias:b(h,"instantiateByAlias"),define:function(a,b,c){return b.override?h.createOverride.apply(h,arguments):h.create.apply(h,arguments)},undefine:function(a){var b=h.classes,c=h.maps,d=c.aliasToName,e=c.nameToAliases,g=c.alternateToName,
p=c.nameToAlternates,c=e[a],o=p[a];delete h.namespaceParseCache[a];delete e[a];delete p[a];delete b[a];if(c)for(b=c.length;b--;)delete d[c[b]];if(o)for(b=o.length;b--;)delete g[o[b]];a=h.parseNamespace(a);d=a.length-1;g=a[0];for(b=1;b<d;b++){g=g[a[b]];if(!g)return}try{delete g[a[d]]}catch(q){g[a[d]]=void 0}},getClassName:b(h,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},
getClass:b(h,"getClass"),namespace:b(h,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;a.registerPreprocessor("className",function(a,b){if(b.$className)a.$className=b.$className},true,"first");a.registerPreprocessor("alias",function(a,b){var c=a.prototype,e=d(b.xtype),g=d(b.alias),h=Array.prototype.slice.call(c.xtypesChain||[]),p=Ext.merge({},c.xtypesMap||{}),o,q,r,t;o=0;for(q=g.length;o<q;o++){r=g[o];if(r.substring(0,7)==="widget."){t=r.substring(7);Ext.Array.include(e,t)}}a.xtype=
b.xtype=e[0];b.xtypes=e;o=0;for(q=e.length;o<q;o++){t=e[o];if(!p[t]){p[t]=true;h.push(t)}}b.xtypesChain=h;b.xtypesMap=p;Ext.Function.interceptAfter(b,"onClassCreated",function(){var a=c.mixins,b,d;for(b in a)if(a.hasOwnProperty(b)){d=a[b];if(e=d.xtypes){o=0;for(q=e.length;o<q;o++){t=e[o];if(!p[t]){p[t]=true;h.push(t)}}}}});o=0;for(q=e.length;o<q;o++){t=e[o];Ext.Array.include(g,"widget."+t)}b.alias=g},["xtype","alias"])})(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);
Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null);Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null);
Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Class,d=Ext.Function.flexSetter,e=Ext.Function.alias,g=Ext.Function.pass,h=Ext.Function.defer,i=Ext.Array.erase,j=["extend","mixins","requires"],k={},l=[],m=/\/\.\//g,n=/\./g,p=0;Ext.apply(a,{isInHistory:k,history:l,config:{enabled:false,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",garbageCollect:false,paths:{Ext:"."},preserveScripts:true,scriptCharset:void 0},setConfig:function(b,c){if(Ext.isObject(b)&&arguments.length===
1){Ext.merge(a.config,b);"paths"in b&&Ext.app.collectNamespaces(b.paths)}else{a.config[b]=Ext.isObject(c)?Ext.merge(a.config[b],c):c;b==="paths"&&Ext.app.collectNamespaces(c)}return a},getConfig:function(b){return b?a.config[b]:a.config},setPath:d(function(b,c){a.config.paths[b]=c;Ext.app.namespaces[b]=true;p++;return a}),addClassPathMappings:function(b){var c;if(p==0)a.config.paths=b;else for(c in b)a.config.paths[c]=b[c];p++;return a},getPath:function(b){var c="",d=a.config.paths,e=a.getPrefix(b);
if(e.length>0){if(e===b)return d[e];c=d[e];b=b.substring(e.length+1)}c.length>0&&(c=c+"/");return c.replace(m,"/")+b.replace(n,"/")+".js"},getPrefix:function(b){var c=a.config.paths,d,e="";if(c.hasOwnProperty(b))return b;for(d in c)c.hasOwnProperty(d)&&d+"."===b.substring(0,d.length+1)&&d.length>e.length&&(e=d);return e},isAClassNameWithAKnownPrefix:function(b){var c=a.getPrefix(b);return c!==""&&c!==b},require:function(a,b,c){b&&b.call(c)},syncRequire:function(){},exclude:function(b){return{require:function(c,
d,e){return a.require(c,d,e,b)},syncRequire:function(c,d,e){return a.syncRequire(c,d,e,b)}}},onReady:function(a,b,c,d){var e;if(c!==false&&Ext.onDocumentReady){e=a;a=function(){Ext.onDocumentReady(e,b,d)}}a.call(b)}});var o=[],q={},r={},t={},s={},u=[],v=[],B=function(a,b){return b.priority-a.priority};Ext.apply(a,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:o,isClassFileLoaded:q,isFileLoaded:r,readyListeners:u,optionalRequires:v,
requiresMap:{},numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:t,scriptsLoading:0,syncModeEnabled:false,scriptElements:s,refreshQueue:function(){var c=o.length,d,e,g,h;if(!c&&!a.scriptsLoading)return a.triggerReady();for(d=0;d<c;d++)if(e=o[d]){h=e.requires;if(!(h.length>a.numLoadedFiles)){for(g=0;g<h.length;)b.isCreated(h[g])?i(h,g,1):g++;if(e.requires.length===0){i(o,d,1);e.callback.call(e.scope);a.refreshQueue();break}}}return a},injectScriptElement:function(b,c,
d,e,g){var i=document.createElement("script"),j=false,k=a.config,l=function(){if(!j){j=true;i.onload=i.onreadystatechange=i.onerror=null;typeof k.scriptChainDelay=="number"?h(c,k.scriptChainDelay,e):c.call(e);a.cleanupScriptElement(i,k.preserveScripts===false,k.garbageCollect)}};i.type="text/javascript";i.onerror=function(){h(d,1,e);a.cleanupScriptElement(i,k.preserveScripts===false,k.garbageCollect)};if(g=g||k.scriptCharset)i.charset=g;"addEventListener"in i?i.onload=l:"readyState"in i?i.onreadystatechange=
function(){(this.readyState=="loaded"||this.readyState=="complete")&&l()}:i.onload=l;i.src=b;(a.documentHead||document.getElementsByTagName("head")[0]).appendChild(i);return i},removeScriptElement:function(b){if(s[b]){a.cleanupScriptElement(s[b],true,!!a.getConfig("garbageCollect"));delete s[b]}return a},cleanupScriptElement:function(b,c,d){var e;b.onload=b.onreadystatechange=b.onerror=null;if(c){Ext.removeNode(b);if(d)for(e in b)try{e!="src"&&(b[e]=null);delete b[e]}catch(g){}}return a},loadScript:function(b){var c=
a.getConfig(),d=typeof b=="string",e=d?b:b.url,g=!d&&b.onError,h=!d&&b.onLoad,i=!d&&b.scope;a.isLoading=true;a.numPendingFiles++;a.scriptsLoading++;b=c.disableCaching?e+"?"+c.disableCachingParam+"="+Ext.Date.now():e;s[e]=a.injectScriptElement(b,function(){a.numPendingFiles--;a.scriptsLoading--;h&&h.call(i);a.numPendingFiles+a.scriptsLoading===0&&a.refreshQueue()},function(){a.numPendingFiles--;a.scriptsLoading--;g&&g.call(i,"Failed loading '"+e+"', please verify that the file exists");a.numPendingFiles+
a.scriptsLoading===0&&a.refreshQueue()})},loadScriptFile:function(b,c,d,e,g){if(r[b])return a;var d=a.getConfig(),h=b+(d.disableCaching?"?"+d.disableCachingParam+"="+Ext.Date.now():""),d=false,i="",e=e||a;a.isLoading=true;if(g){g=typeof XMLHttpRequest!="undefined"?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{g.open("GET",h,false);g.send(null)}catch(j){d=true}h=g.status===1223?204:g.status===0&&((self.location||{}).protocol=="file:"||(self.location||{}).protocol=="ionp:")?200:g.status;
if(!(d||h===0)&&(h>=200&&h<300||h===304)){Ext.isIE||(i="\n//@ sourceURL="+b);Ext.globalEval(g.responseText+i);c.call(e)}g=null}else s[b]=a.injectScriptElement(h,c,function(){},e)},syncRequire:function(){var b=a.syncModeEnabled;if(!b)a.syncModeEnabled=true;a.require.apply(a,arguments);if(!b)a.syncModeEnabled=false;a.refreshQueue()},require:function(c,d,e,h){var i={},j={},k=[],k=[],l=[],m=[],n,p,r,s,u,v;if(h){h=typeof h==="string"?[h]:h;s=0;for(u=h.length;s<u;s++){n=h[s];if(typeof n=="string"&&n.length>
0){k=b.getNamesByExpression(n);n=0;for(v=k.length;n<v;n++)i[k[n]]=true}}}c=typeof c==="string"?[c]:c?c:[];h=d?d.length>0?function(){var a=[],c,e;c=0;for(e=m.length;c<e;c++)a.push(b.get(m[c]));return d.apply(this,a)}:d:Ext.emptyFn;e=e||Ext.global;s=0;for(u=c.length;s<u;s++){n=c[s];if(typeof n=="string"&&n.length>0){k=b.getNamesByExpression(n);v=k.length;for(n=0;n<v;n++){r=k[n];if(i[r]!==true){m.push(r);if(!b.isCreated(r)&&!j[r]){j[r]=true;l.push(r)}}}}}if(l.length>0){if(!a.config.enabled)throw Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+
(l.length>1?"es":"")+": "+l.join(", "));}else{h.call(e);return a}(c=a.syncModeEnabled)||o.push({requires:l.slice(),callback:h,scope:e});u=l.length;for(s=0;s<u;s++){p=l[s];i=a.getPath(p);if(c&&q.hasOwnProperty(p)&&!q[p]){a.numPendingFiles--;a.removeScriptElement(i);delete q[p]}if(!q.hasOwnProperty(p)){q[p]=false;t[p]=i;a.numPendingFiles++;a.loadScriptFile(i,g(a.onFileLoaded,[p,i],a),g(a.onFileLoadError,[p,i],a),a,c)}}if(c){h.call(e);if(u===1)return b.get(p)}return a},onFileLoaded:function(b,c){var d=
q[b];a.numLoadedFiles++;q[b]=true;r[c]=true;d||a.numPendingFiles--;a.numPendingFiles===0&&a.refreshQueue()},onFileLoadError:function(){a.numPendingFiles--;a.hasFileLoadError=true},addUsedClasses:function(b){var c,d,e;if(b){b=typeof b=="string"?[b]:b;d=0;for(e=b.length;d<e;d++){c=b[d];typeof c=="string"&&!Ext.Array.contains(v,c)&&v.push(c)}}return a},triggerReady:function(){var b;b=v;if(a.isLoading){a.isLoading=false;if(b.length!==0){b=b.slice();v.length=0;a.require(b,a.triggerReady,a);return a}}for(Ext.Array.sort(u,
B);u.length&&!a.isLoading;){b=u.shift();b.fn.call(b.scope)}return a},onReady:function(b,c,d,e){var g;if(d!==false&&Ext.onDocumentReady){g=b;b=function(){Ext.onDocumentReady(g,c,e)}}a.isLoading?u.push({fn:b,scope:c,priority:e&&e.priority||0}):b.call(c)},historyPush:function(b){if(b&&q.hasOwnProperty(b)&&!k[b]){k[b]=true;l.push(b)}return a}});Ext.disableCacheBuster=function(a,b){var c=new Date;c.setTime(c.getTime()+(a?3650:-1)*864E5);c=c.toGMTString();document.cookie="ext-cache=1; expires="+c+"; path="+
(b||"/")};Ext.require=e(a,"require");Ext.syncRequire=e(a,"syncRequire");Ext.exclude=e(a,"exclude");Ext.onReady=function(b,c,d){a.onReady(b,c,true,d)};c.registerPreprocessor("loader",function(c,d,e,g){var h=this,i=[];b.getName(c);var k,l,m,n,p,o,q;k=0;for(m=j.length;k<m;k++){o=j[k];if(d.hasOwnProperty(o)){q=d[o];if(typeof q=="string")i.push(q);else if(q instanceof Array){l=0;for(n=q.length;l<n;l++){p=q[l];typeof p=="string"&&i.push(p)}}else if(typeof q!="function")for(l in q)if(q.hasOwnProperty(l)){p=
q[l];typeof p=="string"&&i.push(p)}}}if(i.length!==0){a.require(i,function(){k=0;for(m=j.length;k<m;k++){o=j[k];if(d.hasOwnProperty(o)){q=d[o];if(typeof q=="string")d[o]=b.get(q);else if(q instanceof Array){l=0;for(n=q.length;l<n;l++){p=q[l];typeof p=="string"&&(d[o][l]=b.get(p))}}else if(typeof q!="function")for(var a in q)if(q.hasOwnProperty(a)){p=q[a];typeof p=="string"&&(d[o][a]=b.get(p))}}}g.call(h,c,d,e)});return false}},true,"after","className");b.registerPostprocessor("uses",function(b,c,
d){(b=d.uses)&&a.addUsedClasses(b)});b.onCreated(a.historyPush)};Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null);(function(){var a=document.getElementsByTagName("script"),a=a[a.length-1].src,a=a.substring(0,a.lastIndexOf("/")+1);Ext.Loader.setConfig({enabled:true,disableCaching:true,paths:{Ext:a+"src"}})})();Ext._endTime=(new Date).getTime();Ext._beforereadyhandler&&Ext._beforereadyhandler();
Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(a){a=a||{};Ext.isString(a)&&(a={msg:a});var b=this.raise.caller;if(b){if(b.$name)a.sourceMethod=b.$name;if(b.$owner)a.sourceClass=b.$owner.$className}if(Ext.Error.handle(a)!==true){b=Ext.Error.prototype.toString.call(a);Ext.log({msg:b,level:"error",dump:a,stack:true});throw new Ext.Error(a);}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){Ext.isString(a)&&(a={msg:a});Ext.apply(this,a);this.message=
this.message||this.msg},toString:function(){return(this.sourceClass?this.sourceClass:"")+(this.sourceMethod?"."+this.sourceMethod+"(): ":"")+(this.msg||"(No description provided)")}});Ext.deprecated=function(){return Ext.emptyFn};
Ext.JSON=new function(){var a=this,b,c,d=null,e=!!{}.hasOwnProperty,g=function(){d===null&&(d=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]");return d},h=function(a){return a<10?"0"+a:a},i=function(a){return eval("("+a+")")},j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},k=/[\\\"\x00-\x1f\x7f-\uffff]/g;a.encodeString=function(a){return'"'+a.replace(k,function(a){var b=j[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"'};a.encodeValue=function(a){if(a===null||a===void 0)return"null";if(Ext.isDate(a))return Ext.JSON.encodeDate(a);if(Ext.isString(a))return Ext.JSON.encodeString(a);if(typeof a=="number")return isFinite(a)?""+a:"null";if(Ext.isBoolean(a))return""+a;if(a.toJSON)return a.toJSON();if(Ext.isArray(a)){var b=["[",""],c=a.length,d;for(d=0;d<c;d=d+1)b.push(Ext.JSON.encodeValue(a[d]),",");b[b.length-1]="]";return b.join("")}if(Ext.isObject(a)){b=["{",""];for(c in a){d=a[c];if(!e||a.hasOwnProperty(c))typeof d===
"function"||d===void 0||b.push(Ext.JSON.encodeValue(c),":",Ext.JSON.encodeValue(d),",")}b[b.length-1]="}";return b.join("")}return typeof a==="function"?"null":"undefined"};a.encodeDate=function(a){return'"'+a.getFullYear()+"-"+h(a.getMonth()+1)+"-"+h(a.getDate())+"T"+h(a.getHours())+":"+h(a.getMinutes())+":"+h(a.getSeconds())+'"'};a.encode=function(c){b||(b=g()?JSON.stringify:a.encodeValue);return b(c)};a.decode=function(a,b){c||(c=g()?JSON.parse:i);try{return c(a)}catch(d){if(b===true)return null;
Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}}};Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;
Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1E3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(a,b,c){var c=c||b.dom,d=Ext.cache,a=a||b&&b.id||c.id,c=d[a]||(d[a]={data:{},events:{},dom:c,skipGarbageCollection:!(!c.getElementById&&!c.navigator)});if(b){b.$cache=c;c.el=b}return c},updateCacheEntry:function(a,b){a.dom=b;if(a.el)a.el.dom=b;return a},id:function(a,
b){var c="",a=Ext.getDom(a,true)||{};if(a===document)a.id=this.documentId;else if(a===window)a.id=this.windowId;if(!a.id){this.isSandboxed&&(c=Ext.sandboxName.toLowerCase()+"-");a.id=c+(b||"ext-gen")+ ++Ext.idSeed}return a.id},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(g){return a.test(g)?g:g.replace(b,d).replace(c,e)}}(),getBody:function(){var a;return function(){return a||
(a=Ext.get(document.body))}}(),getHead:function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var a;return function(){return a||(a=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++)(c=arguments[b])&&(Ext.isArray(c)?this.destroy.apply(this,c):c.isStore?c.destroyStore():Ext.isFunction(c.destroy)?c.destroy():
c.dom&&c.remove())},callback:function(a,b,c,d){var e,g;Ext.isFunction(a)?e=a:b&&Ext.isString(a)&&(e=b[a]);if(e){c=c||[];b=b||window;d?Ext.defer(e,d,b,c):g=e.apply(b,c)}return g},resolveMethod:function(a,b){return Ext.isFunction(a)?a:b[a]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;
(function(){var a=function(a){return a.test(Ext.userAgent)},b=document.compatMode=="CSS1Compat",c=function(a,b){var c;return a&&(c=b.exec(Ext.userAgent))?parseFloat(c[1]):0},d=document.documentMode,e=a(/opera/),g=e&&a(/version\/10\.5/),h=a(/\bchrome\b/),i=a(/webkit/),j=!h&&a(/safari/),k=j&&a(/applewebkit\/4/),l=j&&a(/version\/3/),m=j&&a(/version\/4/),n=j&&a(/version\/5\.0/),p=j&&a(/version\/5/),o=!e&&a(/msie/),q=o&&(a(/msie 7/)&&d!=8&&d!=9&&d!=10||d==7),r=o&&(a(/msie 8/)&&d!=7&&d!=9&&d!=10||d==8),
t=o&&(a(/msie 9/)&&d!=7&&d!=8&&d!=10||d==9),d=o&&(a(/msie 10/)&&d!=7&&d!=8&&d!=9||d==10),s=o&&a(/msie 6/),u=!i&&a(/gecko/),v=u&&a(/rv:1\.9/),B=u&&a(/rv:2\.0/),y=u&&a(/rv:5\./),w=u&&a(/rv:10\./),z=v&&a(/rv:1\.9\.0/),C=v&&a(/rv:1\.9\.1/),A=v&&a(/rv:1\.9\.2/),x=a(/windows|win32/),D=a(/macintosh|mac os x/),a=a(/linux/),G=null,I=c(true,/\bchrome\/(\d+\.\d+)/),E=c(true,/\bfirefox\/(\d+\.\d+)/),J=c(o,/msie (\d+\.\d+)/),K=c(e,/version\/(\d+\.\d+)/),L=c(j,/version\/(\d+\.\d+)/),c=c(i,/webkit\/(\d+\.\d+)/),
H=/^https/i.test(window.location.protocol),F;try{document.execCommand("BackgroundImageCache",false,true)}catch(M){}F=function(){};F.info=F.warn=F.error=Ext.emptyFn;Ext.setVersion("extjs","4.2.1.883");Ext.apply(Ext,{SSL_SECURE_URL:H&&o?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(a,b){if(!a||!document)return null;if(a.dom)return a.dom;
if(typeof a=="string"){var c=Ext.getElementById(a);return c&&(o&&b)&&a!=c.getAttribute("id")?null:c}return a},removeNode:s||q||r?function(){var a;return function(b){if(b&&b.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(b):Ext.EventManager.removeAll(b);var c=Ext.cache,d=b.id;if(c[d]){delete c[d].dom;delete c[d]}r&&b.parentNode&&b.parentNode.removeChild(b);a=a||document.createElement("div");a.appendChild(b);a.innerHTML=""}}}():function(a){if(a&&a.parentNode&&
a.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(a):Ext.EventManager.removeAll(a);var b=Ext.cache,c=a.id;if(b[c]){delete b[c].dom;delete b[c]}a.parentNode.removeChild(a)}},isStrict:b,isIEQuirks:o&&!b&&(s||q||r||t),isOpera:e,isOpera10_5:g,isWebKit:i,isChrome:h,isSafari:j,isSafari3:l,isSafari4:m,isSafari5:p,isSafari5_0:n,isSafari2:k,isIE:o,isIE6:s,isIE7:q,isIE7m:s||q,isIE7p:o&&!s,isIE8:r,isIE8m:s||q||r,isIE8p:o&&!(s||q),isIE9:t,isIE9m:s||q||r||t,isIE9p:o&&
!(s||q||r),isIE10:d,isIE10m:s||q||r||t||d,isIE10p:o&&!(s||q||r||t),isGecko:u,isGecko3:v,isGecko4:B,isGecko5:y,isGecko10:w,isFF3_0:z,isFF3_5:C,isFF3_6:A,isFF4:4<=E&&E<5,isFF5:5<=E&&E<6,isFF10:10<=E&&E<11,isLinux:a,isWindows:x,isMac:D,chromeVersion:I,firefoxVersion:E,ieVersion:J,operaVersion:K,safariVersion:L,webKitVersion:c,isSecure:H,BLANK_IMAGE_URL:s||q?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(a,b,c){return Ext.isEmpty(a,
c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(a){if(Ext.isReady){var b={},c,d,e;for(d in a)if((c=d.split("@"))[1]){e=c[0];b[e]||(b[e]=Ext.select(e));b[e].on(c[1],a[d])}b=null}else Ext.onReady(function(){Ext.addBehaviors(a)})},getScrollbarSize:function(a){if(!Ext.isReady)return{};if(a||!G){var a=document.body,b=document.createElement("div");b.style.width=b.style.height="100px";b.style.overflow="scroll";b.style.position="absolute";a.appendChild(b);
G={width:b.offsetWidth-b.clientWidth,height:b.offsetHeight-b.clientHeight};a.removeChild(b)}return G},getScrollBarWidth:function(a){return Ext.getScrollbarSize(a).width+2},copyTo:function(a,b,c,d){typeof c=="string"&&(c=c.split(/[,;\s]/));var e,g=c?c.length:0,h;for(e=0;e<g;e++){h=c[e];if(d||b.hasOwnProperty(h))a[h]=b[h]}return a},destroyMembers:function(a){for(var b=1,c=arguments,d=c.length;b<d;b++){Ext.destroy(a[c[b]]);delete a[c[b]]}},log:F,partition:function(a,b){var c=[[],[]],d,e,g=a.length;for(d=
0;d<g;d++){e=a[d];c[b&&b(e,d,a)||!b&&e?0:1].push(e)}return c},invoke:function(a,b){var c=[],d=Array.prototype.slice.call(arguments,2),e,g,h=a.length;for(e=0;e<h;e++)(g=a[e])&&typeof g[b]=="function"?c.push(g[b].apply(g,d)):c.push(void 0);return c},zip:function(){var a=Ext.partition(arguments,function(a){return typeof a!="function"}),b=a[0],a=a[1][0],c=Ext.max(Ext.pluck(b,"length")),d=[],e,g,h;for(e=0;e<c;e++){d[e]=[];if(a)d[e]=a.apply(a,Ext.pluck(b,e));else{g=0;for(h=b.length;g<h;g++)d[e].push(b[g][e])}}return d},
toSentence:function(a,b){var c=a.length,d;if(c<=1)return a[0];d=a.slice(0,c-1);c=a[c-1];return Ext.util.Format.format("{0} {1} {2}",d.join(", "),b||"and",c)},setGlyphFontFamily:function(a){Ext._glyphFontFamily=a},useShims:s})})();
Ext.application=function(a){var b,c,d;if(typeof a==="string")Ext.require(a,function(){b=Ext.ClassManager.get(a)});else{Ext.Loader.setPath(a.name,a.appFolder||"app");if(c=a.paths)for(d in c)c.hasOwnProperty(d)&&Ext.Loader.setPath(d,c[d]);a["paths processed"]=true;Ext.define(a.name+".$application",Ext.apply({extend:"Ext.app.Application"},a),function(){b=this})}Ext.onReady(function(){Ext.app.Application.instance=new b})};
(function(){Ext.ns("Ext.util");var a=Ext.util.Format={},b=/<\/?[^>]+>/gi,c=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,d=/\r?\n/g,e=/^#+$/,g=/[\d,\.#]+/,h=/[^\d\.#]/g,i,j={};Ext.apply(a,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(a){return a!==void 0?a:""},defaultValue:function(a,b){return a!==void 0&&a!==""?a:b},substr:"ab".substr(-1)!="b"?function(a,b,c){a=""+a;return b<0?a.substr(Math.max(a.length+b,0),c):a.substr(b,c)}:
function(a,b,c){return(""+a).substr(b,c)},lowercase:function(a){return(""+a).toLowerCase()},uppercase:function(a){return(""+a).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(b,c,d,e){var g="",h=",0",i=0,b=b-0;if(b<0){b=-b;g="-"}d=Ext.isDefined(d)?d:a.currencyPrecision;for(h=h+(d>0?".":"");i<d;i++)h=h+"0";b=a.number(b,h);return(e||a.currencyAtEnd)===true?Ext.String.format("{0}{1}{2}",g,b,c||a.currencySign):Ext.String.format("{0}{1}{2}",g,c||a.currencySign,b)},date:function(a,
b){if(!a)return"";Ext.isDate(a)||(a=new Date(Date.parse(a)));return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},stripTags:function(a){return!a?a:(""+a).replace(b,"")},stripScripts:function(a){return!a?a:(""+a).replace(c,"")},fileSize:function(){return function(a){return a<1024?a===1?"1 byte":a+" bytes":a<1048576?Math.round(a*10/1024)/10+" KB":a<1073741824?Math.round(a*10/1048576)/10+" MB":Math.round(a*10/1073741824)/10+" GB"}}(),
math:function(){var a={};return function(b,c){a[c]||(a[c]=Ext.functionFactory("v","return v "+c+";"));return a[c](b)}}(),round:function(a,b){var c=Number(a);if(typeof b=="number"){b=Math.pow(10,b);c=Math.round(a*b)/b}return c},number:function(b,c){if(!c)return b;var d=j[c];if(!d){var d=c,n=a.thousandSeparator,p=a.decimalSeparator,o,q=0,r;if(c.substr(c.length-2)=="/i"){i||(i=RegExp("[^\\d\\"+a.decimalSeparator+"]","g"));c=c.substr(0,c.length-2);n=c.indexOf(n)!=-1;o=c.replace(i,"").split(p)}else{n=
c.indexOf(",")!=-1;o=c.replace(h,"").split(".")}p=c.replace(g,"");if(!(o.length>2)&&o.length===2){q=o[1].length;r=e.test(o[1])}o=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(n?",thousandSeparator,thousands=[],j,n,i":"")+(p?',formatString="'+c+'",formatPattern=/[\\d,\\.#]+/':"")+(r?",trailingZeroes=/\\.?0+$/;":";")+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"fnum=Ext.Number.toFixed(Math.abs(v), "+q+");"];if(n){if(q){o[o.length]=
'parts=fnum.split(".");';o[o.length]="fnum=parts[0];"}o[o.length]="if(v>=1000) {";o[o.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";q&&(o[o.length]="fnum += utilFormat.decimalSeparator+parts[1];")}else q&&(o[o.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}');
r&&(o[o.length]='fnum=fnum.replace(trailingZeroes,"");');o[o.length]='if(neg&&fnum!=="'+(q?"0."+Ext.String.repeat("0",q):"0")+'")fnum="-"+fnum;';o[o.length]="return ";o[o.length]=p?"formatString.replace(formatPattern, fnum);":"fnum;";o[o.length]="};";d=j[d]=Ext.functionFactory("Ext",o.join(""))(Ext)}return d(b)},numberRenderer:function(b){return function(c){return a.number(c,b)}},attributes:function(a){if(typeof a==="object"){var b=[],c;for(c in a)b.push(c,'="',c==="style"?Ext.DomHelper.generateStyles(a[c]):
Ext.htmlEncode(a[c]),'"');a=b.join("")}return a||""},plural:function(a,b,c){return a+" "+(a==1?b:c?c:b+"s")},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(d,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(a){a=a||0;if(typeof a==="number")return{top:a,right:a,bottom:a,left:a};var a=a.split(" "),b=a.length;if(b==1)a[1]=
a[2]=a[3]=a[0];else if(b==2){a[2]=a[0];a[3]=a[1]}else b==3&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},escapeRegex:function(a){return a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})})();
Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(a){typeof a=="number"?this.interval=a:a&&Ext.apply(this,a);this.tasks=[];this.timerFn=Ext.Function.bind(this.onTick,this)},newTask:function(a){a=new Ext.util.TaskRunner.Task(a);a.manager=this;return a},start:function(a){var b=Ext.Date.now();if(!a.pending){this.tasks.push(a);a.pending=true}a.stopped=false;a.taskStartTime=b;a.taskRunTime=a.fireOnStart!==false?0:a.taskStartTime;a.taskRunCount=0;this.firing||
(a.fireOnStart!==false?this.startTimer(0,b):this.startTimer(a.interval,b));return a},stop:function(a){if(!a.stopped){a.stopped=true;a.onStop&&a.onStop.call(a.scope||a,a)}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1.0E99,onTick:function(){var a=this.tasks,b=Ext.Date.now(),c=1.0E99,d=a.length,e,g,h,i,j;this.timerId=null;this.firing=true;for(h=0;h<d||h<(d=a.length);++h){i=a[h];if(!(j=i.stopped)){e=i.taskRunTime+i.interval;if(e<=b){j=1;try{j=i.run.apply(i.scope||
i,i.args||[++i.taskRunCount])}catch(k){try{i.onError&&(j=i.onError.call(i.scope||i,i,k))}catch(l){}}i.taskRunTime=b;if(j===false||i.taskRunCount===i.repeat){this.stop(i);j=true}else{j=i.stopped;e=b+i.interval}}if(!j&&i.duration&&i.duration<=b-i.taskStartTime){this.stop(i);j=true}}if(j){i.pending=false;g||(g=a.slice(0,h))}else{g&&g.push(i);c>e&&(c=e)}}if(g)this.tasks=g;this.firing=false;this.tasks.length&&this.startTimer(c-b,Ext.Date.now());this.fireIdleEvent!==false&&Ext.EventManager.idleEvent.fire()},
startTimer:function(a,b){var c=b+a,d=this.timerId;if(d&&this.nextExpires-c>this.interval){clearTimeout(d);d=null}if(!d){if(a<this.interval)a=this.interval;this.timerId=setTimeout(this.timerFn,a);this.nextExpires=c}}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var a=this.prototype;a.destroy=a.stopAll;Ext.util.TaskManager=Ext.TaskManager=new this;this.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==void 0)this.interval=
a;this.manager.start(this)},start:function(a){this.stopped&&this.restart(a)},stop:function(){this.manager.stop(this)}});a=this.Task.prototype;a.destroy=a.stop});Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:!0},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0);
Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){function a(a,b){a.sum=a.sum+b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function b(b){var b=b?b:i()-this.time,c=this.accum;++c.count;--c.depth||a(c.total,b);a(c.pure,b-this.childTime);if(e=this.parent){++e.accum.childCount;e.childTime=e.childTime+b}}function c(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);c.leave();return d}}function d(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};if(a){e.sum=d.sum-b*(c||0);e.avg=
e.sum/a}return e}var e=null,g=Ext.global.chrome,h,i=function(){i=function(){return(new Date).getTime()};var a,b;if(Ext.isChrome&&g&&g.Interval){a=new g.Interval;a.start();i=function(){return a.microseconds()/1E3}}else if(window.ActiveXObject)try{b=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=b;i=function(){return b.milliseconds}}catch(c){}else if(Date.now)i=Date.now;Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=i;return i()};return{constructor:function(a){this.count=this.childCount=
this.depth=this.maxDepth=0;this.pure={min:Number.MAX_VALUE,max:0,sum:0};this.total={min:Number.MAX_VALUE,max:0,sum:0};this.name=a},statics:{getTimestamp:i},format:function(a){h||(h=new Ext.XTemplate('{name} - {count} call(s)<tpl if="count"><tpl if="childCount"> ({childCount} children)</tpl><tpl if="depth - 1"> ({depth} deep)</tpl><tpl for="times">, {type}: {[this.time(values.sum)]} msec (avg={[this.time(values.sum / parent.count)]})</tpl></tpl>',{time:function(a){return Math.round(a*100)/100}}));
a=this.getData(a);a.name=this.name;a.pure.type="Pure";a.total.type="Total";a.times=[a.pure,a.total];return h.apply(a)},getData:function(a){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:d(this.count,this.childCount,a,this.pure),total:d(this.count,this.childCount,a,this.total)}},enter:function(){var a={accum:this,leave:b,childTime:0,parent:e};++this.depth;if(this.maxDepth<this.depth)this.maxDepth=this.depth;e=a;a.time=i();return a},monitor:function(a,b,c){var d=this.enter();
c?a.apply(b,c):a.call(b);d.leave()},report:function(){Ext.log(this.format())},tap:function(a,b){var d=this,e=typeof b=="string"?[b]:b,g,h,i,q,r,t,s;Ext.ClassManager.onCreated(function(){if(typeof a=="string"){g=Ext.global;q=a.split(".");i=0;for(r=q.length;i<r;++i)g=g[q[i]]}else g=a;i=0;for(r=e.length;i<r;++i){t=e[i];(h=t.charAt(0)=="!")?t=t.substring(1):h=!(t in g.prototype);s=h?g:g.prototype;s[t]=c(d,s[t])}},d,a);return d}}}(),1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=
this.getTimestamp});
Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var a=new Ext.perf.Accumulator("$"),b=a.total,c=Ext.perf.Accumulator.getTimestamp,d=0,e,g;g=c();do{e=a.enter();e.leave();++d}while(b.sum<100);return(c()-g)/d},get:function(a){var b=this.accumulatorsByName[a];if(!b){this.accumulatorsByName[a]=b=new Ext.perf.Accumulator(a);this.accumulators.push(b)}return b},enter:function(a){return this.get(a).enter()},
monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this.accumulators,b=this.calibrate();a.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});this.updateGC();Ext.log("Calibration: "+Math.round(b*100)/100+" msec/sample");Ext.each(a,function(a){Ext.log(a.format(b))})},getData:function(a){var b={};Ext.each(this.accumulators,function(c){if(a||c.count)b[c.name]=c.getData()});return b},reset:function(){Ext.each(this.accumulators,function(a){a.count=a.childCount=a.depth=
a.maxDepth=0;a.pure={min:Number.MAX_VALUE,max:0,sum:0};a.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,c;if(a){a.count=b.garbageCollectionCounter||0;if(a.count){c=a.pure;a.total.sum=c.sum=b.garbageCollectionMilliseconds;c.min=c.max=c.sum/a.count;c=a.total;c.min=c.max=c.sum/a.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},setup:function(a){a||(a=
{render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}});this.currentConfig=a;var b,c,d,e,g;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=Ext.Perf.get(b);for(e in c)if(c.hasOwnProperty(e)){g=c[e];d.tap(e,g)}}this.watchGC()}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0);
Ext.is={init:function(a){var b=this.platforms,c=b.length,d,e,a=a||window.navigator;for(d=0;d<c;d++){e=b[d];this[e.identity]=e.regex.test(a[e.property])}this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android;this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",
regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();
(function(){var a=function(a,b){var c=a.ownerDocument.defaultView;return((c?c.getComputedStyle(a,null):a.currentStyle)||a.style)[b]},b={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,
0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]},c=Ext,d="pointerEvents"in document.documentElement.style,
e;try{e="localStorage"in window&&window.localStorage!==null}catch(g){e=false}c.supports={init:function(){var a=document,c=this.toRun||this.tests,d=c.length,e=d&&Ext.isReady&&a.createElement("div"),g=[],m;m=(m=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"")?m+(Ext.isStrict?"-strict":"-quirks"):"";var n,p;if(e){e.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';
a.body.appendChild(e)}for(n=b[m];d--;){m=c[d];p=n&&n[d];p!==void 0?this[m.identity]=p:e||m.early?this[m.identity]=m.fn.call(this,a,e):g.push(m)}e&&a.body.removeChild(e);this.toRun=g},PointerEvents:d,LocalStorage:e,CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in
window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:"Transitions",fn:function(b,c){for(var d=["webkit","Moz","o","ms","khtml"],e=[d[0]+"TransitionEnd","transitionend",d[2]+"TransitionEnd",d[3]+"TransitionEnd",d[4]+"TransitionEnd"],g=d.length,m=0,n=false;m<g;m++)if(a(c,d[m]+"TransitionProperty")){Ext.supports.CSS3Prefix=d[m];
Ext.supports.CSS3TransitionEnd=e[m];n=true;break}return n}},{identity:"RightMargin",fn:function(a,b){var c=a.defaultView;return!(c&&c.getComputedStyle(b.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{identity:"TransparentColor",fn:function(a,b,c){c=a.defaultView;return!(c&&
c.getComputedStyle(b.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(a,b,c){return(c=a.defaultView)&&c.getComputedStyle}},{identity:"Svg",fn:function(a){return!!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return!!a.createElement("canvas").getContext}},{identity:"Vml",fn:function(a){a=a.createElement("div");a.innerHTML="<\!--[if vml]><br/><br/><![endif]--\>";return a.childNodes.length==
2}},{identity:"Float",fn:function(a,b){return!!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return!!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){var a=window.history;return!(!a||!a.pushState)}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(a,b){b.style.cssText="background-image:-webkit-gradient(linear, left top, right bottom, from(black), to(white));background-image:linear-gradient(left top, black, white);background-image:-moz-linear-gradient(left top, black, white);background-image:-ms-linear-gradient(left top, black, white);background-image:-o-linear-gradient(left top, black, white)";
return(""+b.style.backgroundImage).indexOf("gradient")!==-1&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(){var a=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],b;for(b=0;b<a.length;b++)if(document.body.style[a[b]]!==void 0)return true;return false}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&"geolocation"in navigator||typeof google!="undefined"&&typeof google.gears!="undefined"}},{identity:"MouseEnterLeave",
fn:function(a,b){return"onmouseenter"in b&&"onmouseleave"in b}},{identity:"MouseWheel",fn:function(a,b){return"onmousewheel"in b}},{identity:"Opacity",fn:function(a,b){if(Ext.isIE6||Ext.isIE7||Ext.isIE8)return false;b.firstChild.style.cssText="opacity:0.73";return b.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},
{identity:"BoundingClientRect",fn:function(a,b){return Ext.isFunction(b.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var a=document.body,b=false,c=document.createElement("div"),d=c.style;if(c.getBoundingClientRect){d.WebkitTransform=d.MozTransform=d.OTransform=d.transform="rotate(90deg)";d.width="100px";d.height="30px";a.appendChild(c);b=c.getBoundingClientRect().height!==100;a.removeChild(c)}return b}},{identity:"IncludePaddingInWidthCalculation",fn:function(a,b){return b.childNodes[1].firstChild.offsetWidth==
210}},{identity:"IncludePaddingInHeightCalculation",fn:function(a,b){return b.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var a=[1,2,3,4,5].sort(function(){return 0});return a[0]===1&&a[1]===2&&a[2]===3&&a[3]===4&&a[4]===5}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var a=Ext.supports.Range?document.createRange():false;return a&&!!a.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||
Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){return"maxlength"in document.createElement("textarea")}},{identity:"GetPositionPercentage",fn:function(b,c){return a(c.childNodes[2],"left")=="10%"}},{identity:"PercentageHeightOverflowBug",fn:function(a){var b=false,c,d;if(Ext.getScrollbarSize().height){d=a.createElement("div");c=d.style;c.height="50px";c.width="50px";c.overflow="auto";c.position="absolute";d.innerHTML='<div style="display:table;height:100%;"><div style="width:51px;"></div></div>';
a.body.appendChild(d);d.firstChild.offsetHeight===50&&(b=true);a.body.removeChild(d)}return b}},{identity:"xOriginBug",fn:function(a,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var c=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),
e=document.getElementById("b3").getBoundingClientRect();return d.left!==c.left&&e.right!==c.right}},{identity:"ScrollWidthInlinePaddingBug",fn:function(a){var b=false,c,d;d=a.createElement("div");c=d.style;c.height="50px";c.width="50px";c.padding="10px";c.overflow="hidden";c.position="absolute";d.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';a.body.appendChild(d);d.scrollWidth===70&&(b=true);a.body.removeChild(d);return b}}]}})();Ext.supports.init();
Ext.util.DelayedTask=function(a,b,c,d){var e=this,g,h=function(){clearInterval(e.id);e.id=null;a.apply(b,c||[]);Ext.EventManager.idleEvent.fire()},d=typeof d==="boolean"?d:true;e.id=null;e.delay=function(i,j,k,l){d&&e.cancel();g=i||g;a=j||a;b=k||b;c=l||c;if(!e.id)e.id=setInterval(h,g)};e.cancel=function(){if(e.id){clearInterval(e.id);e.id=null}}};
Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var a=Array.prototype.slice,b=Ext.Array.insert,c=Ext.Array.toArray,d=Ext.util.DelayedTask;return{isEvent:true,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(a,c,d){var i,j,k,l,m,n,c=c||this.observable;if(!this.isListening(a,c)){c=this.createListener(a,c,d);if(this.firing)this.listeners=this.listeners.slice(0);a=this.listeners;m=l=a.length;d=d&&d.priority;j=this._highestNegativePriorityIndex;
k=j!==void 0;if(d){i=d<0;if(!i||k)for(k=i?j:0;k<l;k++){n=a[k].o?a[k].o.priority||0:0;if(n<d){m=k;break}}else this._highestNegativePriorityIndex=m}else k&&(m=j);!i&&m<=j&&this._highestNegativePriorityIndex++;m===l?this.listeners[l]=c:b(this.listeners,m,[c])}},createListener:function(a,b,c){var b=b||this.observable,d={fn:a,scope:b,ev:this};if(c){d.o=c;c.single&&(a=this.createSingle(a,d,c,b));c.target&&(a=this.createTargeted(a,d,c,b));c.delay&&(a=this.createDelayed(a,d,c,b));c.buffer&&(a=this.createBuffered(a,
d,c,b))}d.fireFn=a;return d},findListener:function(a,b){for(var c=this.listeners,d=c.length,j,k;d--;)if(j=c[d]){k=j.scope;if(j.fn==a&&k==(b||this.observable))return d}return-1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(a,b){var c,d,j,k;c=this.findListener(a,b);if(c!=-1){d=this.listeners[c];j=this._highestNegativePriorityIndex;if(this.firing)this.listeners=this.listeners.slice(0);if(d.task){d.task.cancel();delete d.task}if(k=d.tasks&&d.tasks.length){for(;k--;)d.tasks[k].cancel();
delete d.tasks}this.listeners.splice(c,1);j&&(c<j?this._highestNegativePriorityIndex--:c===j&&c===this.listeners.length&&delete this._highestNegativePriorityIndex);return true}return false},clearListeners:function(){for(var a=this.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},suspend:function(){this.suspended=this.suspended+1},resume:function(){this.suspended&&this.suspended--},fire:function(){var b=this.listeners,c=b.length,d,i,j,k;if(!this.suspended&&c>0){this.firing=true;i=
arguments.length?a.call(arguments,0):[];k=i.length;for(d=0;d<c;d++){j=b[d];if(j.o)i[k]=j.o;if(j&&j.fireFn.apply(j.scope||this.observable,i)===false)return this.firing=false}}this.firing=false;return true},createTargeted:function(a,b,c,d){return function(){c.target===arguments[0]&&a.apply(d,arguments)}},createBuffered:function(a,b,h,i){b.task=new d;return function(){b.task.delay(h.buffer,a,i,c(arguments))}},createDelayed:function(a,b,h,i){return function(){var j=new d;if(!b.tasks)b.tasks=[];b.tasks.push(j);
j.delay(h.delay||10,a,i,c(arguments))}},createSingle:function(a,b,c,d){return function(){var c=b.ev;c.removeListener(b.fn,d)&&c.observable&&c.observable.hasListeners[c.name]--;return a.apply(d,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0);
Ext.EventManager=new function(){var a=this,b=document,c=window,d=/\\/g,e=Ext.baseCSSPrefix,g=!Ext.isIE9&&"addEventListener"in b,h;Ext.apply(a,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){h=new Ext.util.Event;h.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime();h.self.prototype.fire.apply(h,arguments);Ext._afterReadytime=(new Date).getTime()};return h}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&
!Ext._continueFireReady},bindReadyEvent:function(){if(!a.hasBoundOnReady)if(b.readyState=="complete")a.onReadyEvent({type:b.readyState||"body"});else{b.addEventListener("DOMContentLoaded",a.onReadyEvent,false);c.addEventListener("load",a.onReadyEvent,false);a.hasBoundOnReady=true}},onReadyEvent:function(d){d&&d.type&&a.onReadyChain.push(d.type);if(a.hasBoundOnReady){b.removeEventListener("DOMContentLoaded",a.onReadyEvent,false);c.removeEventListener("load",a.onReadyEvent,false)}Ext.isReady||a.fireDocReady()},
fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=(new Date).getTime();Ext.isReady=true;Ext.supports.init();a.onWindowUnload();h.onReadyChain=a.onReadyChain;if(Ext.isNumber(a.deferReadyEvent)){Ext.Function.defer(a.fireReadyEvent,a.deferReadyEvent);a.hasDocReadyTimer=true}else a.fireReadyEvent()}},fireReadyEvent:function(){a.hasDocReadyTimer=false;for(a.isFiring=true;h.listeners.length&&!a.isReadyPaused();)h.fire();a.isFiring=false;a.hasFiredReady=true;Ext.EventManager.idleEvent.fire()},onDocumentReady:function(b,
c,d){d=d||{};d.single=true;h.addListener(b,c,d);!a.isFiring&&!a.hasDocReadyTimer&&(Ext.isReady?a.fireReadyEvent():a.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(a){var d,a=Ext.getDom(a);d=a===b||a===c?a===b?Ext.documentId:Ext.windowId:Ext.id(a);Ext.cache[d]||Ext.addCacheEntry(d,null,a);return d},prepareListenerConfig:function(b,c,d){var e=a.propRe,g,
h;for(g in c)if(c.hasOwnProperty(g)&&!e.test(g)){h=c[g];h=typeof h=="function"?[b,g,h,c.scope,c]:[b,g,h.fn,h.scope,h];d?a.removeListener.apply(a,h):a.addListener.apply(a,h)}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(b,c){if(a.mouseEnterLeaveRe.test(b)&&!Ext.supports.MouseEnterLeave){c&&(c=Ext.Function.createInterceptor(c,a.contains));b=b=="mouseenter"?"mouseover":"mouseout"}else b=="mousewheel"&&(!Ext.supports.MouseWheel&&!Ext.isOpera)&&(b="DOMMouseScroll");return{eventName:b,
fn:c}},contains:function(b){var b=b.browserEvent||b,c=b.currentTarget,b=a.getRelatedTarget(b);if(c&&c.firstChild)for(;b;){if(b===c)return false;(b=b.parentNode)&&b.nodeType!=1&&(b=null)}return true},addListener:function(c,d,e,h,m){if(typeof d!=="string")a.prepareListenerConfig(c,d);else{var n=c.dom||Ext.getDom(c),p,o,q;typeof e==="string"&&(e=Ext.resolveMethod(e,h||c));m=m||{};p=a.normalizeEvent(d,e);o=a.createListenerWrap(n,d,p.fn,h,m);c=a.getEventListenerCache(c.dom?c:n,d);d=p.eventName;p=g||Ext.isIE9&&
!n.attachEvent;if(!p)if(q=a.normalizeId(n))(q=Ext.cache[q][d])&&q.firing&&(c=a.cloneEventListenerCache(n,d));m=!!m.capture;c.push({fn:e,wrap:o,scope:h,capture:m});if(p)n.addEventListener(d,o,m);else if(c.length===1){q=a.normalizeId(n,true);e=Ext.Function.bind(a.handleSingleEvent,a,[q,d],true);Ext.cache[q][d]={firing:false,fn:e};n.attachEvent("on"+d,e)}n==b&&d=="mousedown"&&a.stoppedMouseDownEvent.addListener(o)}},normalizeId:function(b,c){var d;d=b===document?Ext.documentId:b===window?Ext.windowId:
b.id;!d&&c&&(d=a.getId(b));return d},handleSingleEvent:function(b,c,d){var e=a.getEventListenerCache(c,d),c=Ext.cache[c][d],g;if(!c.firing){c.firing=true;g=0;for(d=e.length;g<d;++g)e[g].wrap(b);c.firing=false}},removeListener:function(c,d,e,h){if(typeof d!=="string")a.prepareListenerConfig(c,d,true);else{var m=Ext.getDom(c),n,p=c.dom?c:Ext.get(m),p=a.getEventListenerCache(p,d),o=a.normalizeEvent(d).eventName,q=p.length,r,t;if(m){t=g||Ext.isIE9&&!m.detachEvent;for(typeof e==="string"&&(e=Ext.resolveMethod(e,
h||c));q--;)if((r=p[q])&&(!e||r.fn==e)&&(!h||r.scope===h)){c=r.wrap;if(c.task){clearTimeout(c.task);delete c.task}if(n=c.tasks&&c.tasks.length){for(;n--;)clearTimeout(c.tasks[n]);delete c.tasks}if(t)m.removeEventListener(o,c,r.capture);else{n=a.normalizeId(m,true);(r=Ext.cache[n][o])&&r.firing&&(p=a.cloneEventListenerCache(m,o));if(p.length===1){e=r.fn;delete Ext.cache[n][o];m.detachEvent("on"+o,e)}}c&&(m==b&&d=="mousedown")&&a.stoppedMouseDownEvent.removeListener(c);Ext.Array.erase(p,q,1)}}}},removeAll:function(b){var c=
typeof b==="string"?b:b.id,d,e;if(c&&(d=Ext.cache[c])){c=d.events;for(e in c)c.hasOwnProperty(e)&&a.removeListener(b,e);d.events={}}},purgeElement:function(b,c){var d=Ext.getDom(b),e=0,g;c?a.removeListener(b,c):a.removeAll(b);if(d&&d.childNodes){g=d.childNodes;for(d=g.length;e<d;e++)a.purgeElement(g[e],c)}},createListenerWrap:function(b,c,e,g,h){var h=h||{},n,p,o=function(q,r){if(!p){n=["if(!"+Ext.name+") {return;}"];if(h.buffer||h.delay||h.freezeEvent){h.freezeEvent&&n.push("e = X.EventObject.setEvent(e);");
n.push("e = new X.EventObjectImpl(e, "+(h.freezeEvent?"true":"false")+");")}else n.push("e = X.EventObject.setEvent(e);");if(h.delegate){n.push('var result, t = e.getTarget("'+(h.delegate+"").replace(d,"\\\\")+'", this);');n.push("if(!t) {return;}")}else n.push("var t = e.target, result;");h.target&&n.push("if(e.target !== options.target) {return;}");if(h.stopEvent)n.push("e.stopEvent();");else{h.preventDefault&&n.push("e.preventDefault();");h.stopPropagation&&n.push("e.stopPropagation();")}h.normalized===
false&&n.push("e = e.browserEvent;");if(h.buffer){n.push("(wrap.task && clearTimeout(wrap.task));");n.push("wrap.task = setTimeout(function() {")}if(h.delay){n.push("wrap.tasks = wrap.tasks || [];");n.push("wrap.tasks.push(setTimeout(function() {")}n.push("result = fn.call(scope || dom, e, t, options);");h.single&&n.push("evtMgr.removeListener(dom, ename, fn, scope);");if(c!=="mousemove"&&c!=="unload"){n.push("if (evtMgr.idleEvent.listeners.length) {");n.push("evtMgr.idleEvent.fire();");n.push("}")}h.delay&&
n.push("}, "+h.delay+"));");h.buffer&&n.push("}, "+h.buffer+");");n.push("return result;");p=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",n.join("\n"))}return p.call(b,q,h,e,g,c,b,o,r,Ext,a)};return o},getEventCache:function(b){if(!b)return[];if(b.$cache)b=b.$cache;else{b=typeof b==="string"?b:a.getId(b);b=Ext.cache[b]}return b.events||(b.events={})},getEventListenerCache:function(b,c){var d=a.getEventCache(b);return d[c]||(d[c]=[])},cloneEventListenerCache:function(b,
c){var d=a.getEventCache(b),e;e=d[c]?d[c].slice(0):[];return d[c]=e},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(b){a.stopPropagation(b);a.preventDefault(b)},stopPropagation:function(a){a=a.browserEvent||a;a.stopPropagation?a.stopPropagation():a.cancelBubble=true},preventDefault:function(a){a=a.browserEvent||a;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;try{if(a.ctrlKey||a.keyCode>111&&a.keyCode<124)a.keyCode=-1}catch(b){}}},getRelatedTarget:function(b){var b=
b.browserEvent||b,c=b.relatedTarget;if(!c)if(a.mouseLeaveRe.test(b.type))c=b.toElement;else if(a.mouseEnterRe.test(b.type))c=b.fromElement;return a.resolveTextNode(c)},getPageX:function(b){return a.getPageXY(b)[0]},getPageY:function(b){return a.getPageXY(b)[1]},getPageXY:function(a){var a=a.browserEvent||a,c=a.pageX,d=a.pageY,e=b.documentElement,g=b.body;if(!c&&c!==0){c=a.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||0);d=a.clientY+(e&&e.scrollTop||g&&g.scrollTop||
0)-(e&&e.clientTop||g&&g.clientTop||0)}return[c,d]},getTarget:function(b){b=b.browserEvent||b;return a.resolveTextNode(b.target||b.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if(b!=="[xpconnect wrapped native prototype]"&&b!=="[object XULElement]")return a.nodeType==3?a.parentNode:a}}:function(a){return a&&a.nodeType==3?a.parentNode:a},curWidth:0,curHeight:0,onWindowResize:function(b,d,e){var g=a.resizeEvent;if(!g){a.resizeEvent=g=new Ext.util.Event;
a.on(c,"resize",a.fireResize,null,{buffer:100})}g.addListener(b,d,e)},fireResize:function(){var b=Ext.Element.getViewWidth(),c=Ext.Element.getViewHeight();if(a.curHeight!=c||a.curWidth!=b){a.curHeight=c;a.curWidth=b;a.resizeEvent.fire(b,c)}},removeResizeListener:function(b,c){var d=a.resizeEvent;d&&d.removeListener(b,c)},onWindowUnload:function(b,d,e){var g=a.unloadEvent;if(!g){a.unloadEvent=g=new Ext.util.Event;a.addListener(c,"unload",a.fireUnload)}b&&g.addListener(b,d,e)},fireUnload:function(){try{b=
c=void 0;var d,e,g,h,m;a.unloadEvent.fire();if(Ext.isGecko3){d=Ext.ComponentQuery.query("gridview");e=0;for(g=d.length;e<g;e++)d[e].scrollToTop()}m=Ext.cache;for(h in m)m.hasOwnProperty(h)&&a.removeAll(h)}catch(n){}},removeUnloadListener:function(b,c){var d=a.unloadEvent;d&&d.removeListener(b,c)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return a.useKeyDown?"keydown":"keypress"}});
!g&&document.attachEvent&&Ext.apply(a,{pollScroll:function(){var b=true;try{document.documentElement.doScroll("left")}catch(c){b=false}if(b&&document.body)a.onReadyEvent({type:"doScroll"});else a.scrollTimeout=setTimeout(a.pollScroll,20);return b},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var b=document.readyState;if(a.readyStatesRe.test(b))a.onReadyEvent({type:b})},bindReadyEvent:function(){var c=true;if(!a.hasBoundOnReady){try{c=window.frameElement===void 0}catch(d){c=
false}if(!c||!b.documentElement.doScroll)a.pollScroll=Ext.emptyFn;if(a.pollScroll()!==true)if(b.readyState=="complete")a.onReadyEvent({type:"already "+(b.readyState||"body")});else{b.attachEvent("onreadystatechange",a.checkReadyState);window.attachEvent("onload",a.onReadyEvent);a.hasBoundOnReady=true}}},onReadyEvent:function(b){b&&b.type&&a.onReadyChain.push(b.type);if(a.hasBoundOnReady){document.detachEvent("onreadystatechange",a.checkReadyState);window.detachEvent("onload",a.onReadyEvent)}if(Ext.isNumber(a.scrollTimeout)){clearTimeout(a.scrollTimeout);
delete a.scrollTimeout}Ext.isReady||a.fireDocReady()},onReadyChain:[]});Ext.onReady=function(a,b,c){Ext.Loader.onReady(a,b,true,c)};Ext.onDocumentReady=a.onDocumentReady;a.on=a.addListener;a.un=a.removeListener;Ext.onReady(function(){function a(b){d.push(e+b)}var c=b.body||b.getElementsByTagName("body")[0],d=[e+"body"],g=[],h=Ext.supports.CSS3LinearGradient,n=Ext.supports.CSS3BorderRadius,p;if(!c)return false;p=c.parentNode;if(Ext.isIE&&Ext.isIE9m){a("ie");if(Ext.isIE6)a("ie6");else{a("ie7p");if(Ext.isIE7)a("ie7");
else{a("ie8p");if(Ext.isIE8)a("ie8");else{a("ie9p");Ext.isIE9&&a("ie9")}}}Ext.isIE7m&&a("ie7m");Ext.isIE8m&&a("ie8m");Ext.isIE9m&&a("ie9m");(Ext.isIE7||Ext.isIE8)&&a("ie78")}Ext.isIE10&&a("ie10");if(Ext.isGecko){a("gecko");Ext.isGecko3&&a("gecko3");Ext.isGecko4&&a("gecko4");Ext.isGecko5&&a("gecko5")}Ext.isOpera&&a("opera");Ext.isWebKit&&a("webkit");if(Ext.isSafari){a("safari");Ext.isSafari2&&a("safari2");Ext.isSafari3&&a("safari3");Ext.isSafari4&&a("safari4");Ext.isSafari5&&a("safari5");Ext.isSafari5_0&&
a("safari5_0")}Ext.isChrome&&a("chrome");Ext.isMac&&a("mac");Ext.isLinux&&a("linux");n||a("nbr");h||a("nlg");if(p){Ext.isBorderBox=Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?false:true;Ext.isBorderBox||g.push(e+"content-box");Ext.isStrict?g.push(e+"strict"):g.push(e+"quirks");Ext.fly(p,"_internal").addCls(g)}Ext.fly(c,"_internal").addCls(d);return true})};
Ext.cmd.derive("Ext.util.Observable",Ext.Base,function(a){var b=[],c=Array.prototype.slice,d=Ext.util.Event,e=function(a){if(a instanceof e)return a;this.observable=a;if(arguments[1].isObservable)this.managedListeners=true;this.args=c.call(arguments,1)};e.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(a,b,c){this.captureArgs(a,
function(a,d){return b.apply(c,[a].concat(d))},c)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this);this.captureArgs(a.prototype,a.fireEventArgs,a)}if(Ext.isObject(b))a.on(b)}return a},prepareClass:function(b,c){if(!b.HasListeners){var d=function(){},e=b.superclass.HasListeners||c&&c.HasListeners||a.HasListeners;b.prototype.HasListeners=b.HasListeners=d;d.prototype=b.hasListeners=
new e}}},isObservable:true,eventsSuspended:0,constructor:function(a){Ext.apply(this,a);if(!this.hasListeners)this.hasListeners=new this.HasListeners;this.events=this.events||{};if(this.listeners){this.on(this.listeners);this.listeners=null}this.bubbleEvents&&this.enableBubble(this.bubbleEvents)},onClassExtended:function(b){b.HasListeners||a.prepareClass(b)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,
addManagedListener:function(a,b,c,d,k,l){var m=this.managedListeners=this.managedListeners||[],n;if(typeof b!=="string"){n=arguments.length>4?k:b;k=b;for(b in k)if(k.hasOwnProperty(b)){m=k[b];this.eventOptionsRe.test(b)||this.addManagedListener(a,b,m.fn||m,m.scope||k.scope||d,m.fn?m:n,true)}if(k&&k.destroyable)return new e(this,a,k)}else{if(typeof c==="string"){d=d||this;c=Ext.resolveMethod(c,d)}m.push({item:a,ename:b,fn:c,scope:d,options:k});a.on(b,c,d,k);if(!l&&k&&k.destroyable)return new e(this,
a,b,c,d)}},removeManagedListener:function(a,b,c,d){var e,l,m;if(typeof b!=="string"){c=b;for(b in c)if(c.hasOwnProperty(b)){e=c[b];this.eventOptionsRe.test(b)||this.removeManagedListener(a,b,e.fn||e,e.scope||c.scope||d)}}else{e=this.managedListeners?this.managedListeners.slice():[];if(typeof c==="string"){d=d||this;c=Ext.resolveMethod(c,d)}m=0;for(l=e.length;m<l;m++)this.removeManagedListenerItem(false,e[m],a,b,c,d)}},fireEvent:function(a){return this.fireEventArgs(a,c.call(arguments,1))},fireEventArgs:function(a,
c){var a=a.toLowerCase(),d=this.events,d=d&&d[a],e=true;d&&this.hasListeners[a]&&(e=this.continueFireEvent(a,c||b,d.bubble));return e},continueFireEvent:function(a,b,c){var d=this,e,l,m=true;do{if(d.eventsSuspended){(e=d.eventQueue)&&e.push([a,b,c]);break}if((l=d.events[a])&&l!==true&&(m=l.fire.apply(l,b))===false)break}while(c&&(d=d.getBubbleParent()));return m},getBubbleParent:function(){var a=this.getBubbleTarget&&this.getBubbleTarget();return a&&a.isObservable?a:null},addListener:function(a,b,
c,j){var k,l=0;if(typeof a!=="string"){j=a;for(a in j)if(j.hasOwnProperty(a)){b=j[a];this.eventOptionsRe.test(a)||this.addListener(a,b.fn||b,b.scope||j.scope,b.fn?b:j)}if(j&&j.destroyable)return new e(this,j)}else{a=a.toLowerCase();(k=this.events[a])&&k.isEvent?l=k.listeners.length:this.events[a]=k=new d(this,a);if(typeof b==="string"){c=c||this;b=Ext.resolveMethod(b,c)}k.addListener(b,c,j);k.listeners.length!==l&&this.hasListeners._incr_(a);if(j&&j.destroyable)return new e(this,a,b,c,j)}},removeListener:function(a,
b,c){var d;if(typeof a!=="string"){c=a;for(a in c)if(c.hasOwnProperty(a)){b=c[a];this.eventOptionsRe.test(a)||this.removeListener(a,b.fn||b,b.scope||c.scope)}}else{a=a.toLowerCase();if((d=this.events[a])&&d.isEvent){if(typeof b==="string"){c=c||this;b=Ext.resolveMethod(b,c)}d.removeListener(b,c)&&this.hasListeners._decr_(a)}}},clearListeners:function(){var a=this.events,b=this.hasListeners,c,d;for(d in a)if(a.hasOwnProperty(d)){c=a[d];if(c.isEvent){delete b[d];c.clearListeners()}}this.clearManagedListeners()},
clearManagedListeners:function(){for(var a=this.managedListeners||[],b=0,c=a.length;b<c;b++)this.removeManagedListenerItem(true,a[b]);this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,l){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!l||b.scope===l)){b.item.un(b.ename,b.fn,b.scope);a||Ext.Array.remove(this.managedListeners,b)}},addEvents:function(a){var b=this.events||(this.events={}),c,d,e;if(typeof a=="string"){d=arguments;for(e=d.length;e--;){c=d[e];b[c]||(b[c]=true)}}else Ext.applyIf(this.events,
a)},hasListener:function(a){return!!this.hasListeners[a.toLowerCase()]},suspendEvents:function(a){this.eventsSuspended=this.eventsSuspended+1;if(a&&!this.eventQueue)this.eventQueue=[]},suspendEvent:function(a){var b=arguments.length,c,d;for(c=0;c<b;c++)(d=this.events[arguments[c]])&&d.suspend&&d.suspend()},resumeEvent:function(){var a=arguments.length,b,c;for(b=0;b<a;b++)(c=this.events[arguments[b]])&&c.resume&&c.resume()},resumeEvents:function(){var a=this.eventQueue,b,c;if(this.eventsSuspended&&
!--this.eventsSuspended){delete this.eventQueue;if(a){b=a.length;for(c=0;c<b;c++)this.continueFireEvent.apply(this,a[c])}}},relayEvents:function(a,b,c){for(var d=b.length,k=0,l,m={};k<d;k++){l=b[k];m[l]=this.createRelayer(c?c+l:l)}this.mon(a,m,null,null,void 0);return new e(this,a,m)},createRelayer:function(a,b){var d=this;return function(){return d.fireEventArgs.call(d,a,b?c.apply(arguments,b):arguments)}},enableBubble:function(a){if(a){var b=typeof a=="string"?arguments:a,c=b.length,e=this.events,
k,l,m;for(m=0;m<c;++m){k=b[m].toLowerCase();l=e[k];if(!l||typeof l=="boolean")e[k]=l=new d(this,k);this.hasListeners._incr_(k);l.bubble=true}}}}},1,0,0,0,0,0,[Ext.util,"Observable"],function(){function a(a){var b=(this.methodEvents=this.methodEvents||{})[a],c,d,e,g=this,n;if(!b){this.methodEvents[a]=b={};b.originalFn=this[a];b.methodName=a;b.before=[];b.after=[];n=function(a,b,h){if((d=a.apply(b||g,h))!==void 0)if(typeof d=="object"){c=d.returnValue!==void 0?d.returnValue:d;e=!!d.cancel}else d===
false?e=true:c=d};this[a]=function(){var a=Array.prototype.slice.call(arguments,0),h,q,r;c=d=void 0;e=false;q=0;for(r=b.before.length;q<r;q++){h=b.before[q];n(h.fn,h.scope,a);if(e)return c}if((d=b.originalFn.apply(g,a))!==void 0)c=d;q=0;for(r=b.after.length;q<r;q++){h=b.after[q];n(h.fn,h.scope,a);if(e)break}return c}}return b}var b=this,c=b.prototype,d=function(){},e=function(a){if(!a.HasListeners){var c=a.prototype;b.prepareClass(a,this);a.onExtended(function(a){b.prepareClass(a)});c.onClassMixedIn?
Ext.override(a,{onClassMixedIn:function(a){e.call(this,a);this.callParent(arguments)}}):c.onClassMixedIn=function(a){e.call(this,a)}}},g;d.prototype={_decr_:function(a){--this[a]||delete this[a]},_incr_:function(a){this.hasOwnProperty(a)?++this[a]:this[a]=1}};c.HasListeners=b.HasListeners=d;b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});b.observeClass=b.observe;Ext.globalEvents=g=new b({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});
Ext.on=function(){return g.addListener.apply(g,arguments)};Ext.un=function(){return g.removeListener.apply(g,arguments)};Ext.apply(c,{onClassMixedIn:e,beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,b,c){var a=this.getMethodEvent(a),d,e;d=0;for(e=a.before.length;d<e;d++)if(a.before[d].fn==b&&a.before[d].scope==c){Ext.Array.erase(a.before,d,1);return}d=0;for(e=a.after.length;d<
e;d++)if(a.after[d].fn==b&&a.after[d].scope==c){Ext.Array.erase(a.after,d,1);break}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})});
Ext.cmd.derive("Ext.EventObjectImpl",Ext.Base,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,
NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var a;if(Ext.isGecko)a=3;else if(Ext.isMac){a=Ext.isSafari&&Ext.webKitVersion>=532?120:12;a=a*3}else a=120;return a}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,
63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{"0":0,1:1,2:2},constructor:function(a,b){a&&this.setEvent(a.browserEvent||a,b)},setEvent:function(a,b){var c;if(a===this||a&&a.browserEvent)return a;if(this.browserEvent=a){c=a.button?this.btnMap[a.button]:a.which?a.which-1:-1;this.clickRe.test(a.type)&&c==-1&&(c=0);c={type:a.type,button:c,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey||a.metaKey||false,altKey:a.altKey,keyCode:a.keyCode,charCode:a.charCode,target:Ext.EventManager.getTarget(a),
relatedTarget:Ext.EventManager.getRelatedTarget(a),currentTarget:a.currentTarget,xy:b?this.getXY():null}}else c={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]};Ext.apply(this,c);return this},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var a=this.browserEvent;if(a){a.type=="mousedown"&&Ext.EventManager.stoppedMouseDownEvent.fire(this);
Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?this.safariKeys[a]||a:a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy)this.xy=Ext.EventManager.getPageXY(this.browserEvent);return this.xy},getTarget:function(a,
b,c){return a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getRelatedTarget:function(a,b,c){return a&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(a,b,c):c?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var b=Math.round(a/this.WHEEL_SCALE);!b&&a&&(b=a<0?-1:1);return b},getWheelDeltas:function(){var a=this.browserEvent,b=0,c=0;if(Ext.isDefined(a.wheelDeltaX)){b=a.wheelDeltaX;c=a.wheelDeltaY}else if(a.wheelDelta)c=a.wheelDelta;
else if(a.detail){c=-a.detail;c>100?c=3:c<-100&&(c=-3);if(Ext.isDefined(a.axis)&&a.axis===a.HORIZONTAL_AXIS){b=c;c=0}}return{x:this.correctWheelDelta(b),y:this.correctWheelDelta(c)}},getWheelDelta:function(){return this.getWheelDeltas().y},within:function(a,b,c){if(a){var b=b?this.getRelatedTarget():this.getTarget(),d;if(b){d=Ext.fly(a,"_internal").contains(b);!d&&c&&(d=b==Ext.getDom(a));return d}}return false},isNavKeyPress:function(){var a=this.normalizeKey(this.keyCode);return a>=33&&a<=40||a==
this.RETURN||a==this.TAB||a==this.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return this.type=="keypress"&&this.ctrlKey||this.isNavKeyPress()||a==this.BACKSPACE||a>=16&&a<=20||a>=44&&a<=46},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function a(a,b){var d=a!="mousemove";return function(e,k){var l=k.getXY(),l=c.createMouseEvent(e.ownerDocument,
a,true,d,b,l[0],l[1],k.ctrlKey,k.altKey,k.shiftKey,k.metaKey,k.button,k.relatedTarget);c.fireEvent(e,a,l)}}function b(){}var c,d={},e;if(!Ext.isIE9m&&document.createEvent)c={createHtmlEvent:function(a,b,c,d){a=a.createEvent("HTMLEvents");a.initEvent(b,c,d);return a},createMouseEvent:function(a,b,c,d,e,l,m,n,p,o,q,r,t){var s=a.createEvent("MouseEvents"),u=a.defaultView||window;if(s.initMouseEvent)s.initMouseEvent(b,c,d,u,e,l,m,l,m,n,p,o,q,r,t);else{s=a.createEvent("UIEvents");s.initEvent(b,c,d);s.view=
u;s.detail=e;s.screenX=l;s.screenY=m;s.clientX=l;s.clientY=m;s.ctrlKey=n;s.altKey=p;s.metaKey=q;s.shiftKey=o;s.button=r;s.relatedTarget=t}return s},createUIEvent:function(a,b,c,d,e){var l=a.createEvent("UIEvents");l.initUIEvent(b,c,d,a.defaultView||window,e);return l},fireEvent:function(a,b,c){a.dispatchEvent(c)},fixTarget:function(a){return a==window&&!a.dispatchEvent?document:a}};else if(document.createEventObject){e={"0":1,1:4,2:2};c={createHtmlEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=
c;a.cancelable=d;return a},createMouseEvent:function(a,b,c,d,k,l,m,n,p,o,q,r,t){a=a.createEventObject();a.bubbles=c;a.cancelable=d;a.detail=k;a.screenX=l;a.screenY=m;a.clientX=l;a.clientY=m;a.ctrlKey=n;a.altKey=p;a.shiftKey=o;a.metaKey=q;a.button=e[r]||r;a.relatedTarget=t;return a},createUIEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=c;a.cancelable=d;return a},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)},fixTarget:function(a){return a==document?document.documentElement:a}}}Ext.Object.each({load:[false,
false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(a,b){var e=b[0],j=b[1];d[a]=function(b){var d=c.createHtmlEvent(a,e,j);c.fireEvent(b,a,d)}});Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(b){d[b]=a(b,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(a,b){var e=
b[0],j=b[1];d[a]=function(b){var d=c.createUIEvent(b.ownerDocument,a,e,j,1);c.fireEvent(b,a,d)}});if(!c){d={};c={fixTarget:Ext.identityFn}}return function(a){var e=d[this.type]||b,a=a?a.dom||a:this.getTarget(),a=c.fixTarget(a);e(a,this)}}()},1,0,0,0,0,0,[Ext,"EventObjectImpl"],function(){Ext.EventObject=new Ext.EventObjectImpl});
Ext.cmd.derive("Ext.dom.AbstractQuery",Ext.Base,{select:function(a,b){var c=[],d,e,g,h,i,b=b||document;typeof b=="string"&&(b=document.getElementById(b));a=a.split(",");e=0;for(h=a.length;e<h;e++)if(typeof a[e]=="string")if(typeof a[e][0]=="@"){d=b.getAttributeNode(a[e].substring(1));c.push(d)}else{d=b.querySelectorAll(a[e]);g=0;for(i=d.length;g<i;g++)c.push(d[g])}return c},selectNode:function(a,b){return this.select(a,b)[0]},is:function(a,b){typeof a=="string"&&(a=document.getElementById(a));return this.select(b).indexOf(a)!==
-1}},0,0,0,0,0,0,[Ext.dom,"AbstractQuery"],0);
Ext.cmd.derive("Ext.dom.AbstractHelper",Ext.Base,{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function a(a,b,c){return b+"-"+c.toLowerCase()}var b=/([a-z])([A-Z])/g,c={};return function(d){return c[d]||(c[d]=d.replace(b,a))}}(),generateMarkup:function(a,b){var c=typeof a,d,e;if(c=="string"||
c=="number")b.push(a);else if(Ext.isArray(a))for(d=0;d<a.length;d++)a[d]&&this.generateMarkup(a[d],b);else{c=a.tag||"div";b.push("<",c);for(d in a)if(a.hasOwnProperty(d)){e=a[d];if(!this.confRe.test(d))if(typeof e=="object"){b.push(" ",d,'="');this.generateStyles(e,b).push('"')}else b.push(" ",this.attributeTransform[d]||d,'="',e,'"')}if(this.emptyTags.test(c))b.push("/>");else{b.push(">");(e=a.tpl)&&e.applyOut(a.tplData,b);(e=a.html)&&b.push(e);(e=a.cn||a.children)&&this.generateMarkup(e,b);d=this.closeTags;
b.push(d[c]||(d[c]="</"+c+">"))}}return b},generateStyles:function(a,b){var c=b||[],d;for(d in a)a.hasOwnProperty(d)&&c.push(this.decamelizeName(d),":",a[d],";");return b||c.join("")},markup:function(a){return typeof a=="string"?a:this.generateMarkup(a,[]).join("")},applyStyles:function(a,b){if(b){var c=0,d,a=Ext.fly(a,"_applyStyles");typeof b=="function"&&(b=b.call());if(typeof b=="string"){b=Ext.util.Format.trim(b).split(this.styleSepRe);for(d=b.length;c<d;)a.setStyle(b[c++],b[c++])}else Ext.isObject(b)&&
a.setStyle(b)}},insertHtml:function(a,b,c){var d={},e,g,a=a.toLowerCase();d.beforebegin=["BeforeBegin","previousSibling"];d.afterend=["AfterEnd","nextSibling"];g=b.ownerDocument.createRange();e="setStart"+(this.endRe.test(a)?"After":"Before");if(d[a]){g[e](b);c=g.createContextualFragment(c);b.parentNode.insertBefore(c,a=="beforebegin"?b:b.nextSibling);return b[(a=="beforebegin"?"previous":"next")+"Sibling"]}d=(a=="afterbegin"?"first":"last")+"Child";if(b.firstChild){g[e](b[d]);c=g.createContextualFragment(c);
a=="afterbegin"?b.insertBefore(c,b.firstChild):b.appendChild(c)}else b.innerHTML=c;return b[d];throw'Illegal insertion point -> "'+a+'"';},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",true)},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=
this.markup(b);return c?Ext.get(a.firstChild):a.firstChild},doInsert:function(a,b,c,d){a=this.insertHtml(d,Ext.getDom(a),this.markup(b));return c?Ext.get(a,true):a}},0,0,0,0,0,0,[Ext.dom,"AbstractHelper"],0);
Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",
r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){return typeof a=="number"?a+(b||this.defaultUnit||"px"):a===""||(a=="auto"||a===void 0||a===null)||!this.unitRe.test(a)?a||"":a},isAncestor:function(a,b){var c=false,a=Ext.getDom(a),b=Ext.getDom(b);if(a&&b){if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);for(;b=b.parentNode;)c=b==a||c}return c},parseBox:function(a){var a=a||0,b=typeof a;if(b==="number")return{top:a,right:a,
bottom:a,left:a};if(b!=="string")return a;a=a.split(" ");b=a.length;if(b==1)a[1]=a[2]=a[3]=a[0];else if(b==2){a[2]=a[0];a[3]=a[1]}else b==3&&(a[3]=a[1]);return{top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},unitizeBox:function(a,b){var c=this.addUnits,d=this.parseBox(a);return c(d.top,b)+" "+c(d.right,b)+" "+c(d.bottom,b)+" "+c(d.left,b)},camelReplaceFn:function(a,b){return b.charAt(1).toUpperCase()},normalize:function(a){a=="float"&&(a=Ext.supports.Float?
"cssFloat":"styleFloat");return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},
getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?window.orientation==0?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(a){var b={},c=this.cssRe,d;if(a)for(c.lastIndex=0;d=c.exec(a);)b[d[1]]=d[2]||"";return b}}},function(){function a(a,
b,c){return function(){a.selectionStart=b;a.selectionEnd=c}}var b=document,c=null,d=b.compatMode=="CSS1Compat";!("activeElement"in b)&&b.addEventListener&&b.addEventListener("focus",function(a){a&&a.target&&(c=a.target==b?null:a.target)},true);this.addInheritableStatics({getActiveElement:function(){var a;try{a=b.activeElement}catch(d){}a=a||c;if(!a)a=c=document.body;return a},getRightMarginFixCleaner:function(d){var g=Ext.supports,h=g.DisplayChangeInputSelectionBug,i=g.DisplayChangeTextAreaSelectionBug,
j;if(h||i){j=(g=b.activeElement||c)&&g.tagName;if((i&&j=="TEXTAREA"||h&&j=="INPUT"&&g.type=="text")&&Ext.dom.Element.isAncestor(d,g)){d=g.selectionStart;h=g.selectionEnd;if(Ext.isNumber(d)&&Ext.isNumber(h))return a(g,d,h)}}return Ext.emptyFn},getViewWidth:function(a){return a?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(a){return a?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!d?
b.body.scrollHeight:b.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!d?b.body.scrollWidth:b.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?b.body.clientWidth:Ext.isIE9m?b.documentElement.clientWidth:self.innerWidth},serializeForm:function(a){var a=
a.elements||(document.forms[a]||Ext.getDom(a)).elements,b=false,c=encodeURIComponent,d="",j=a.length,k,l,m,n,p,o,q;for(p=0;p<j;p++){k=a[p];l=k.name;m=k.type;n=k.options;if(!k.disabled&&l)if(/select-(one|multiple)/i.test(m)){o=n.length;for(m=0;m<o;m++){q=n[m];if(q.selected){k=q.hasAttribute?q.hasAttribute("value"):q.getAttributeNode("value").specified;d=d+Ext.String.format("{0}={1}&",c(l),c(k?q.value:q.text))}}}else if(!/file|undefined|reset|button/i.test(m)&&(!/radio|checkbox/i.test(m)||k.checked)&&
!(m=="submit"&&b)){d=d+(c(l)+"="+c(k.value)+"&");b=/submit/i.test(m)}}return d.substr(0,d.length-1)}})});
Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(a,b){var c,d,e;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);this.dom.appendChild(a);return!b?Ext.get(a):a}if(a.length){c=Ext.fly(document.createDocumentFragment(),"_internal");d=a.length;Ext.DomHelper.useDom=true;for(e=0;e<d;e++)c.appendChild(a[e],b);Ext.DomHelper.useDom=void 0;this.dom.appendChild(c.dom);return b?c.dom:c}return this.createChild(a,null,b)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);
return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return!b?Ext.get(a):a}return this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,b,c){var d=Ext.core.DomHelper,e=d.useDom,b=(b||"before").toLowerCase()==
"after",g,h,i,j;if(Ext.isArray(a)){h=Ext.fly(document.createDocumentFragment(),"_internal");i=a.length;d.useDom=true;for(j=0;j<i;j++)g=h.appendChild(a[j],c);d.useDom=e;this.dom.parentNode.insertBefore(h.dom,b?this.dom.nextSibling:this.dom);return g}a=a||{};if(a.nodeType||a.dom){g=this.dom.parentNode.insertBefore(Ext.getDom(a),b?this.dom.nextSibling:this.dom);c||(g=Ext.get(g))}else g=b&&!this.dom.nextSibling?d.append(this.dom.parentNode,a,!c):d[b?"insertAfter":"insertBefore"](this.dom,a,!c);return g},
replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);this.dom.parentNode.insertBefore(a.dom,this.dom)}else a=Ext.core.DomHelper.insertBefore(this.dom,a);delete Ext.cache[this.id];Ext.removeNode(this.dom);this.id=Ext.id(this.dom=a);Ext.dom.AbstractElement.addToCache(this.isFlyweight?new Ext.dom.AbstractElement(this.dom):this);return this},createChild:function(a,b,c){a=a||{tag:"div"};return b?Ext.core.DomHelper.insertBefore(b,
a,c!==true):Ext.core.DomHelper.append(this.dom,a,c!==true)},wrap:function(a,b,c){var d=a=Ext.core.DomHelper.insertBefore(this.dom,a||{tag:"div"},true);c&&(d=Ext.DomQuery.selectNode(c,a.dom));d.appendChild(this.dom);return b?a.dom:a},insertHtml:function(a,b,c){a=Ext.core.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(a):a}});
Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var a=this,b=/\w/g,c=/\s+/,d=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,e=Ext.supports.ClassList,g={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},h={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},i=new a.Fly;Ext.override(a,{styleHooks:{},addStyles:function(a,c){var d=0,e=(a||"").match(b),g,h=e.length,i,q=[];if(h==1)d=Math.abs(parseFloat(this.getStyle(c[e[0]]))||
0);else if(h){for(g=0;g<h;g++){i=e[g];q.push(c[i])}q=this.getStyle(q);for(g=0;g<h;g++){i=e[g];d=d+Math.abs(parseFloat(q[c[i]])||0)}}return d},addCls:function(){var a=function(a){var d=this.dom,e=this.trimRe,g=a,h,i,j,t;typeof a=="string"&&(a=a.replace(e,"").split(c));if(d&&a&&(j=a.length))if(d.className)if(h=d.classList){for(g=0;g<j;++g)if((t=a[g])&&!h.contains(t))if(i)i.push(t);else i=(i=d.className.replace(e,""))?[i,t]:[t];if(i)d.className=i.join(" ")}else b(g);else d.className=a.join(" ");return this},
b=function(a){var b=this.dom;if(b&&a&&a.length){a=Ext.Element.mergeClsList(b.className,a);if(a.changed)b.className=a.join(" ")}return this};return e?a:b}(),removeCls:function(a){var b=this.dom,d,e;typeof a=="string"&&(a=a.replace(this.trimRe,"").split(c));if(b&&b.className&&a&&(e=a.length)){d=b.classList;if(e===1&&d)a[0]&&d.remove(a[0]);else{a=Ext.Element.removeCls(b.className,a);if(a.changed)b.className=a.join(" ")}}return this},radioCls:function(a){var b=this.dom.parentNode.childNodes,c,d,e,a=Ext.isArray(a)?
a:[a];d=0;for(e=b.length;d<e;d++)(c=b[d])&&c.nodeType==1&&i.attach(c).removeCls(a);return this.addCls(a)},toggleCls:function(){var a=function(a){var c=this.dom;if(c)if(a=a.replace(this.trimRe,""))(c=c.classList)?c.toggle(a):b(a);return this},b=function(a){return this.hasCls(a)?this.removeCls(a):this.addCls(a)};return e?a:b}(),hasCls:function(){var a=function(a){var c=this.dom,d=false;if(c&&a)d=(c=c.classList)?c.contains(a):b(a);return d},b=function(a){var b=this.dom;return b?a&&(" "+b.className+" ").indexOf(" "+
a+" ")!==-1:false};return e?a:b}(),replaceCls:function(a,b){return this.removeCls(a).addCls(b)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(b,c){var d=this.dom,e=typeof b!="string",g=this.styleHooks,h=b,i=h,q=1,r,t,s,u;if(e){t={};h=i[0];u=0;if(!(q=i.length))return t}if(!d||d.documentElement)return t||"";r=d.style;if(c)s=r;else{s=d.ownerDocument.defaultView.getComputedStyle(d,null);if(!s){c=true;s=r}}do{(r=g[h])||(g[h]=r={name:a.normalize(h)});if(r.get)r=r.get(d,this,c,s);else{r=
r.name;r=s[r]}if(!e)return r;t[h]=r;h=i[++u]}while(u<q);return t},getStyles:function(){var a=Ext.Array.slice(arguments),b=a.length,c;b&&typeof a[b-1]=="boolean"&&(c=a.pop());return this.getStyle(a,c)},isTransparent:function(a){return(a=this.getStyle(a))?d.test(a):false},setStyle:function(b,c){var d=this.dom,e=this.styleHooks,g=d.style,h=b,i;if(typeof h=="string"){(i=e[h])||(e[h]=i={name:a.normalize(h)});c=c==null?"":c;i.set?i.set(d,c,this):g[i.name]=c;i.afterSet&&i.afterSet(d,c,this)}else for(h in b)if(b.hasOwnProperty(h)){(i=
e[h])||(e[h]=i={name:a.normalize(h)});c=b[h];c=c==null?"":c;i.set?i.set(d,c,this):g[i.name]=c;i.afterSet&&i.afterSet(d,c,this)}return this},getHeight:function(a){var b=this.dom,a=a?b.clientHeight-this.getPadding("tb"):b.offsetHeight;return a>0?a:0},getWidth:function(a){var b=this.dom,a=a?b.clientWidth-this.getPadding("lr"):b.offsetWidth;return a>0?a:0},setWidth:function(b){this.dom.style.width=a.addUnits(b);return this},setHeight:function(b){this.dom.style.height=a.addUnits(b);return this},getBorderWidth:function(a){return this.addStyles(a,
g)},getPadding:function(a){return this.addStyles(a,h)},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},applyStyles:function(b){if(b){var c,d,e=this.dom;typeof b=="function"&&(b=b.call());if(typeof b=="string"){b=Ext.util.Format.trim(b).split(/\s*(?::|;)\s*/);c=0;for(d=b.length;c<d;)e.style[a.normalize(b[c++])]=b[c++]}else typeof b=="object"&&this.setStyle(b)}},setSize:function(b,c){var d=this.dom.style;if(Ext.isObject(b)){c=b.height;b=b.width}d.width=a.addUnits(b);d.height=
a.addUnits(c);return this},getViewSize:function(){var b=document,c=this.dom;return c==b||c==b.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:c.clientWidth,height:c.clientHeight}},getSize:function(a){var b=this.dom;return{width:Math.max(0,a?b.clientWidth-this.getPadding("lr"):b.offsetWidth),height:Math.max(0,a?b.clientHeight-this.getPadding("tb"):b.offsetHeight)}},repaint:function(){var a=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){i.attach(a).removeCls(Ext.baseCSSPrefix+
"repaint")},1);return this},getMargin:function(a){var b={t:"top",l:"left",r:"right",b:"bottom"},c;if(a)return this.addStyles(a,this.margins);a=[];for(c in this.margins)this.margins.hasOwnProperty(c)&&a.push(this.margins[c]);if((a=this.getStyle(a))&&typeof a=="object")for(c in this.margins)this.margins.hasOwnProperty(c)&&(a[b[c]]=parseFloat(a[this.margins[c]])||0);return a},mask:function(a,b,c){var d=this,e=d.dom,g=(d.$cache||d.getCache()).data,h=g.mask,i,r,t=Ext.baseCSSPrefix;d.addCls(t+"masked");
d.getStyle("position")=="static"&&d.addCls(t+"masked-relative");h&&h.remove();i=d.createChild({cls:t+"mask"+(c!==false?"":" "+t+"mask-gray"),html:a?'<div class="'+(b||t+"mask-message")+'">'+a+"</div>":""});r=d.getSize();g.mask=i;if(e===document.body){r.height=window.innerHeight;d.orientationHandler&&Ext.EventManager.unOrientationChange(d.orientationHandler,d);d.orientationHandler=function(){r=d.getSize();r.height=window.innerHeight;i.setSize(r)};Ext.EventManager.onOrientationChange(d.orientationHandler,
d)}i.setSize(r);Ext.is.iPad&&Ext.repaint()},unmask:function(){var a=(this.$cache||this.getCache()).data,b=a.mask,c=Ext.baseCSSPrefix;if(b){b.remove();delete a.mask}this.removeCls([c+"masked",c+"masked-relative"]);if(this.dom===document.body){Ext.EventManager.unOrientationChange(this.orientationHandler,this);delete this.orientationHandler}}});Ext.onReady(function(){function b(a,c,e,g){a=g[this.name]||"";return d.test(a)?"transparent":a}function c(a,b,d,e){var b=e.marginRight,g,h;if(b!="0px"){g=a.style;
h=g.display;g.display="inline-block";b=(d?e:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight;g.display=h}return b}function e(b,c,d,g){var c=g.marginRight,h,i,j;if(c!="0px"){h=b.style;i=a.getRightMarginFixCleaner(b);j=h.display;h.display="inline-block";c=(d?g:b.ownerDocument.defaultView.getComputedStyle(b,"")).marginRight;h.display=j;i()}return c}var g=Ext.supports,h,i,o,q;h=a.prototype.styleHooks;g.init&&g.init();if(!g.RightMargin)h.marginRight=h["margin-right"]={name:"marginRight",
get:g.DisplayChangeInputSelectionBug||g.DisplayChangeTextAreaSelectionBug?e:c};if(!g.TransparentColor){g=["background-color","border-color","color","outline-color"];for(i=g.length;i--;){o=g[i];q=a.normalize(o);h[o]=h[q]={name:q,get:b}}}})});
Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(a,b,c){var d=this.dom,e=document.documentElement,g=0,h,b=b||50;if(isNaN(b)){h=Ext.getDom(b);b=Number.MAX_VALUE}for(;d&&d.nodeType==1&&g<b&&d!=e&&d!=h;){if(Ext.DomQuery.is(d,a))return c?Ext.get(d):d;g++;d=d.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b,c){return this.findParentNode(a,b,!c)},
select:function(a,b){return Ext.dom.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var c;c=Ext.id(this.dom);c=Ext.escapeId(c);c=Ext.DomQuery.selectNode("#"+c+" > "+a,this.dom);return b?c:Ext.get(c)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,
b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){if(!this.dom)return null;for(b=this.dom[b];b;){if(b.nodeType==1&&(!c||Ext.DomQuery.is(b,c)))return!d?Ext.get(b):b;b=b[a]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});
Ext.cmd.derive("Ext.dom.AbstractElement",Ext.Base,{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(a){var b=window.document,c=Ext.dom.Element,d,e;if(!a)return null;if(a.isFly)a=a.dom;if(typeof a=="string"){if(a==Ext.windowId)return c.get(window);if(a==Ext.documentId)return c.get(b);if((d=Ext.cache[a])&&d.skipGarbageCollection)return b=d.el;if(!(b=b.getElementById(a)))return null;return b=d&&d.el?Ext.updateCacheEntry(d,b).el:new c(b,!!d)}if(a.tagName){if(!(e=
a.id))e=Ext.id(a);return b=(d=Ext.cache[e])&&d.el?Ext.updateCacheEntry(d,a).el:new c(a,!!d)}if(a instanceof this){if(a!=this.docEl&&a!=this.winEl){e=a.id;(d=Ext.cache[e])&&Ext.updateCacheEntry(d,b.getElementById(e)||a.dom)}return a}if(a.isComposite)return a;if(Ext.isArray(a))return this.select(a);if(a===b){if(!this.docEl){c=this.docEl=Ext.Object.chain(c.prototype);c.dom=b;c.el=c;c.id=Ext.id(b);this.addToCache(c)}return this.docEl}if(a===window){if(!this.winEl){this.winEl=Ext.Object.chain(c.prototype);
this.winEl.dom=window;this.winEl.id=Ext.id(window);this.addToCache(this.winEl)}return this.winEl}return null},addToCache:function(a,b){a&&Ext.addCacheEntry(b,a);return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var a,b={},c,d,e,g,h,i=[],j=false,k=this.trimRe,l=this.whitespaceRe;c=0;for(d=arguments.length;c<d;c++){a=arguments[c];Ext.isString(a)&&(a=a.replace(k,"").split(l));if(a){e=0;for(g=a.length;e<g;e++){h=a[e];if(!b[h]){c&&(j=true);b[h]=true}}}}for(h in b)i.push(h);
i.changed=j;return i},removeCls:function(a,b){var c={},d,e,g,h=[],i=false,j=this.whitespaceRe;if(a){Ext.isString(a)&&(a=a.replace(this.trimRe,"").split(j));d=0;for(e=a.length;d<e;d++)c[a[d]]=true}if(b){Ext.isString(b)&&(b=b.split(j));d=0;for(e=b.length;d<e;d++){g=b[d];if(c[g]){i=true;delete c[g]}}}for(g in c)h.push(g);h.changed=i;return h},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(a,b){var c=typeof a=="string"?document.getElementById(a):a,d;this.el=this;if(!c)return null;d=
c.id;if(!b&&d&&Ext.cache[d])return Ext.cache[d].el;this.dom=c;this.id=d||Ext.id(c);this.self.addToCache(this)},set:function(a,b){var c=this.dom,d,e;for(d in a)if(a.hasOwnProperty(d)){e=a[d];d=="style"?this.applyStyles(e):d=="cls"?c.className=e:b!==false?e===void 0?c.removeAttribute(d):c.setAttribute(d,e):c[d]=e}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var a=this.dom;this.isAnimate&&
this.stopAnimation();if(a){Ext.removeNode(a);delete this.dom}},contains:function(a){if(!a)return false;a=a.dom||a;return a===this.dom||Ext.dom.AbstractElement.isAncestor(this.dom,a)},getAttribute:function(a,b){var c=this.dom;return c.getAttributeNS(b,a)||c.getAttribute(b+":"+a)||c.getAttribute(a)||c[a]},update:function(a){if(this.dom)this.dom.innerHTML=a;return this},setHTML:function(a){if(this.dom)this.dom.innerHTML=a;return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);
return this},show:function(){this.setVisible(true);return this},setVisible:function(a){var b=this.self,c=this.getVisibilityMode(),d=Ext.baseCSSPrefix;switch(c){case b.VISIBILITY:this.removeCls([d+"hidden-display",d+"hidden-offsets"]);this[a?"removeCls":"addCls"](d+"hidden-visibility");break;case b.DISPLAY:this.removeCls([d+"hidden-visibility",d+"hidden-offsets"]);this[a?"removeCls":"addCls"](d+"hidden-display");break;case b.OFFSETS:this.removeCls([d+"hidden-visibility",d+"hidden-display"]);this[a?
"removeCls":"addCls"](d+"hidden-offsets")}return this},getVisibilityMode:function(){var a=(this.$cache||this.getCache()).data,b=a.visibilityMode;if(b===void 0)a.visibilityMode=b=this.self.DISPLAY;return b},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var a=this.dom.id||Ext.id(this.dom);return this.$cache=Ext.cache[a]||Ext.addCacheEntry(a,null,this.dom)}},1,0,0,0,0,0,[Ext.dom,"AbstractElement"],function(){var a=this;Ext.getDetachedBody=
function(){var b=a.detachedBodyEl;if(!b){b=document.createElement("div");a.detachedBodyEl=b=new a.Fly(b);b.isDetachedBody=true}return b};Ext.getElementById=function(b){var c=document.getElementById(b),d;if(!c&&(d=a.detachedBodyEl))c=d.dom.querySelector("#"+Ext.escapeId(b));return c};Ext.get=function(a){return Ext.dom.Element.get(a)};this.addStatics({Fly:new Ext.Class({extend:a,isFly:true,constructor:function(a){this.dom=a;this.el=this},attach:function(a){this.dom=a;this.$cache=a.id?Ext.cache[a.id]:
null;return this}}),_flyweights:{},fly:function(b,c){var d=null,e=a._flyweights,c=c||"_global";if(b=Ext.getDom(b)){d=e[c]||(e[c]=new a.Fly);d.dom=b;d.$cache=b.id?Ext.cache[b.id]:null}return d}});Ext.fly=function(){return a.fly.apply(a,arguments)};(function(a){a.destroy=a.remove;a.getById=document.querySelector?function(a,b){var e=document.getElementById(a)||this.dom.querySelector("#"+Ext.escapeId(a));return b?e:e?Ext.get(e):null}:function(a,b){var e=document.getElementById(a);return b?e:e?Ext.get(e):
null}})(this.prototype)});
Ext.cmd.derive("Ext.dom.Helper",Ext.dom.AbstractHelper,function(){var a=document.createElement("div"),b=["BeforeBegin","previousSibling"],c=["AfterEnd","nextSibling"],d={beforebegin:b,afterend:c},e={beforebegin:b,afterend:c,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:false,createDom:function(a,b){var c;c=document;var d,e,l;if(Ext.isArray(a)){c=c.createDocumentFragment();e=0;for(d=
a.length;e<d;e++)this.createDom(a[e],c)}else if(typeof a=="string")c=c.createTextNode(a);else{c=c.createElement(a.tag||"div");d=!!c.setAttribute;for(e in a)if(!this.confRe.test(e)){l=a[e];e=="cls"?c.className=l:d?c.setAttribute(e,l):c[e]=l}Ext.DomHelper.applyStyles(c,a.style);if(e=a.children||a.cn)this.createDom(e,c);else if(a.html)c.innerHTML=a.html}b&&b.appendChild(c);return c},ieTable:function(b,c,d,e){a.innerHTML=[c,d,e].join("");d=-1;for(c=a;++d<b;)c=c.firstChild;if(b=c.nextSibling){b=c;for(c=
document.createDocumentFragment();b;){nx=b.nextSibling;c.appendChild(b);b=nx}}return c},insertIntoTable:function(a,b,c,d){var e=b=="beforebegin",l=b=="afterbegin",m=b=="beforeend",n=b=="afterend";if(a=="td"&&(l||m)||!this.tableElRe.test(a)&&(e||n))return null;b=e?c:n?c.nextSibling:l?c.firstChild:null;if(e||n)c=c.parentNode;a=a=="td"||a=="tr"&&(m||l)?this.ieTable(4,"<table><tbody><tr>",d,"</tr></tbody></table>"):(a=="tbody"||a=="thead")&&(m||l)||a=="tr"&&(e||n)?this.ieTable(3,"<table><tbody>",d,"</tbody></table>"):
this.ieTable(2,"<table>",d,"</table>");c.insertBefore(a,b);return a},createContextualFragment:function(b){var c=document.createDocumentFragment(),d;a.innerHTML=b;d=a.childNodes;for(b=d.length;b--;)c.appendChild(d[0]);return c},applyStyles:function(a,b){if(b){typeof b=="function"&&(b=b.call());typeof b=="string"&&(b=Ext.dom.Element.parseStyles(b));typeof b=="object"&&Ext.fly(a,"_applyStyles").setStyle(b)}},createHtml:function(a){return this.markup(a)},doInsert:function(a,b,c,d,e,l){a=a.dom||Ext.getDom(a);
if(this.useDom){b=this.createDom(b,null);l?a.appendChild(b):(e=="firstChild"?a:a.parentNode).insertBefore(b,a[e]||a)}else b=this.insertHtml(d,a,this.markup(b));return c?Ext.get(b,true):b},overwrite:function(a,b,c){a=Ext.getDom(a);b=this.markup(b);if(Ext.isIE&&this.tableRe.test(a.tagName)){for(;a.firstChild;)a.removeChild(a.firstChild);if(b){a=this.insertHtml("afterbegin",a,b);return c?Ext.get(a):a}return null}a.innerHTML=b;return c?Ext.get(a.firstChild):a.firstChild},insertHtml:function(a,b,c){var j,
k,l,m,a=a.toLowerCase();if(b.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(b.tagName)&&(k=this.insertIntoTable(b.tagName.toLowerCase(),a,b,c)))return k;if(j=e[a]){Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){b.insertAdjacentHTML(j[0],c)}):b.insertAdjacentHTML(j[0],c);return b[j[1]]}}else{if(b.nodeType===3){a=a==="afterbegin"?"beforebegin":a;a=a==="beforeend"?"afterend":a}k=Ext.supports.CreateContextualFragment?b.ownerDocument.createRange():
void 0;m="setStart"+(this.endRe.test(a)?"After":"Before");if(d[a]){if(k){k[m](b);k=k.createContextualFragment(c)}else k=this.createContextualFragment(c);b.parentNode.insertBefore(k,a=="beforebegin"?b:b.nextSibling);return b[(a=="beforebegin"?"previous":"next")+"Sibling"]}l=(a=="afterbegin"?"first":"last")+"Child";if(b.firstChild){if(k){k[m](b[l]);k=k.createContextualFragment(c)}else k=this.createContextualFragment(c);a=="afterbegin"?b.insertBefore(k,b.firstChild):b.appendChild(k)}else b.innerHTML=
c;return b[l]}},createTemplate:function(a){a=this.markup(a);return new Ext.Template(a)}}}(),0,0,0,0,0,0,[Ext.dom,"Helper"],function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this});
Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b=arguments,c=[],d=0,e=b.length,g;this.initialConfig={};if(e===1&&Ext.isArray(a)){b=a;e=b.length}if(e>1)for(;d<e;d++){g=b[d];if(typeof g=="object"){Ext.apply(this.initialConfig,g);Ext.apply(this,g)}else c.push(g)}else c.push(a);this.html=c.join("");this.compiled&&this.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,
apply:function(a){var b=this.disableFormats!==true,c=Ext.util.Format,d=this;return this.compiled?this.compiled(a).join(""):this.html.replace(this.re,function(e,g,h,i){if(h&&b){i=i?[a[g]].concat(Ext.functionFactory("return ["+i+"];")()):[a[g]];return h.substr(0,5)=="this."?d[h.substr(5)].apply(d,i):c[h].apply(c,i)}return a[g]!==void 0?a[g]:""})},applyOut:function(a,b){this.compiled?b.push.apply(b,this.compiled(a)):b.push(this.apply(a));return b},applyTemplate:function(){return this.apply.apply(this,
arguments)},set:function(a,b){this.html=a;this.compiled=null;return b?this.compile():this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a=this.disableFormats!==true,b;b=this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,"\\'").replace(this.re,function(b,d,e,g){if(e&&a){g=g?","+g:"";e=e.substr(0,5)!="this."?"fm."+e+"(":"this."+e.substr(5)+"("}else{g="";e="(values['"+d+"'] == undefined ? '' : "}return"',"+e+"values['"+
d+"']"+g+") ,'"});eval("this.compiled = function(values){ return ['"+b+"'];};");return this},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){a=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(a):a},overwrite:function(a,b,c){a=
Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(a):a}},1,0,0,0,0,0,[Ext,"Template"],0);
Ext.cmd.derive("Ext.XTemplateParser",Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=a.length,c={elseif:"elif"},d=this.topRe,e=this.actionsRe,g,h,i,j,k,l,m;this.level=0;this.stack=h=[];for(g=0;g<b;g=m){d.lastIndex=g;j=d.exec(a);if(!j){this.doText(a.substring(g,b));break}i=j.index;m=d.lastIndex;g<i&&this.doText(a.substring(g,i));if(j[1]){m=a.indexOf("%}",i+2);this.doEval(a.substring(i+2,m));m=m+2}else if(j[2]){m=a.indexOf("]}",i+2);this.doExpr(a.substring(i+
2,m));m=m+2}else if(j[3])this.doTag(j[3]);else if(j[4]){for(g=null;(k=e.exec(j[4]))!==null;)if(i=k[2]||k[3]){i=Ext.String.htmlDecode(i);k=k[1];k=c[k]||k;g=g||{};l=g[k];typeof l=="string"?g[k]=[l,i]:l?g[k].push(i):g[k]=i}if(g)if(g["if"]){this.doIf(g["if"],g);h.push({type:"if"})}else if(g["switch"]){this.doSwitch(g["switch"],g);h.push({type:"switch"})}else if(g["case"])this.doCase(g["case"],g);else if(g.elif)this.doElseIf(g.elif,g);else if(g["for"]){++this.level;if(j=this.propRe.exec(j[4]))g.propName=
j[1]||j[2];this.doFor(g["for"],g);h.push({type:"for",actions:g})}else if(g.foreach){++this.level;if(j=this.propRe.exec(j[4]))g.propName=j[1]||j[2];this.doForEach(g.foreach,g);h.push({type:"foreach",actions:g})}else{if(g.exec){this.doExec(g.exec,g);h.push({type:"exec",actions:g})}}else if(this.elseRe.test(j[4]))this.doElse();else if(this.defaultRe.test(j[4]))this.doDefault();else{this.doTpl();h.push({type:"tpl"})}}else if(j[0].length===5)h.push({type:"tpl"});else{j=h.pop();this.doEnd(j.type,j.actions);
(j.type=="for"||j.type=="foreach")&&--this.level}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext,"XTemplateParser"],0);
Ext.cmd.derive("Ext.XTemplateCompiler",Ext.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){a=this.generate(a);return this.useEval?this.evalTpl(a):(new Function("Ext",a))(Ext)},generate:function(a){this.maxLevel=0;this.body=["var c0=values, a0="+this.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];this.definitions?typeof this.definitions==="string"?this.definitions=[this.definitions,"var fm=Ext.util.Format,ts=Object.prototype.toString;"]:
this.definitions.push("var fm=Ext.util.Format,ts=Object.prototype.toString;"):this.definitions=["var fm=Ext.util.Format,ts=Object.prototype.toString;"];this.switches=[];this.parse(a);this.definitions.push((this.useEval?"$=":"return")+" function ("+this.fnArgs+") {",this.body.join(""),"}");a=this.definitions.join("\n");this.definitions.length=this.body.length=this.switches.length=0;delete this.definitions;delete this.body;delete this.switches;return a},doText:function(a){var b=this.body,a=a.replace(this.aposRe,
"\\'").replace(this.newLineRe,"\\n");this.useIndex?b.push("out[out.length]='",a,"'\n"):b.push("out.push('",a,"')\n")},doExpr:function(a){var b=this.body;b.push("if ((v="+a+") != null) out");this.useIndex?b.push("[out.length]=v+''\n"):b.push(".push(v+'')\n")},doTag:function(a){var b=this.parseTag(a);b?this.doExpr(b):this.doText("{"+a+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){a==="."?this.body.push("if (values) {\n"):this.propNameRe.test(a)?
this.body.push("if (",this.parseTag(a),") {\n"):this.body.push("if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doElseIf:function(a,b){a==="."?this.body.push("else if (values) {\n"):this.propNameRe.test(a)?this.body.push("} else if (",this.parseTag(a),") {\n"):this.body.push("} else if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doSwitch:function(a){a==="."?this.body.push("switch (values) {\n"):this.propNameRe.test(a)?this.body.push("switch (",this.parseTag(a),
") {\n"):this.body.push("switch (",this.addFn(a),this.callFn,") {\n");this.switches.push(0)},doCase:function(a){var a=Ext.isArray(a)?a:[a],b=this.switches.length-1,c,d;this.switches[b]?this.body.push("break;\n"):this.switches[b]++;d=0;for(b=a.length;d<b;++d){c=this.intRe.exec(a[d]);a[d]=c?c[1]:"'"+a[d].replace(this.aposRe,"\\'")+"'"}this.body.push("case ",a.join(": case "),":\n")},doDefault:function(){var a=this.switches.length-1;this.switches[a]?this.body.push("break;\n"):this.switches[a]++;this.body.push("default:\n")},
doEnd:function(a,b){var c=this.level-1;if(a=="for"||a=="foreach"){b.exec&&this.doExec(b.exec);this.body.push("}\n");this.body.push("parent=p",c,";values=r",c+1,";xcount=n"+c+";xindex=i",c,"+1;xkey=k",c,";\n")}else(a=="if"||a=="switch")&&this.body.push("}\n")},doFor:function(a,b){var c,d=this.level,e=d-1;c=a==="."?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;if(this.maxLevel<d){this.maxLevel=d;this.body.push("var ")}this.body.push("i",d,"=0,n",d,"=0,c",d,"=",c,",a",d,
"=",this.createArrayTest(d),",r",d,"=values,p",d,",k",d,";\n","p",d,"=parent=",a=="."?"c"+d:"a"+e+"?c"+e+"[i"+e+"]:c"+e,"\n","if (c",d,"){if(a",d,"){n",d,"=c",d,".length;}else if (c",d,".isMixedCollection){c",d,"=c",d,".items;n",d,"=c",d,".length;}else if(c",d,".isStore){c",d,"=c",d,".data.items;n",d,"=c",d,".length;}else{c",d,"=[c",d,"];n",d,"=1;}}\n","for (xcount=n",d,";i",d,"<n"+d+";++i",d,"){\n","values=c",d,"[i",d,"]");b.propName&&this.body.push(".",b.propName);this.body.push("\n","xindex=i",
d,"+1\n");b.between&&this.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},doForEach:function(a,b){var c,d=this.level,e=d-1;c=a==="."?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;if(this.maxLevel<d){this.maxLevel=d;this.body.push("var ")}this.body.push("i",d,"=-1,n",d,"=0,c",d,"=",c,",a",d,"=",this.createArrayTest(d),",r",d,"=values,p",d,",k",d,";\n","p",d,"=parent=",a=="."?"c"+d:"a"+e+"?c"+e+"[i"+e+"]:c"+e,"\n","for(k",d," in c",d,"){\n","xindex=++i",d,"+1;\n",
"xkey=k",d,";\n","values=c",d,"[k",d,"];");b.propName&&this.body.push(".",b.propName);b.between&&this.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a){var b="f"+this.definitions.length;this.definitions.push("function "+b+"("+this.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {","}","}");this.body.push(b+this.callFn+"\n")},addFn:function(a){var b=
"f"+this.definitions.length;a==="."?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return values","}"):a===".."?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return parent","}"):this.definitions.push("function "+b+"("+this.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {","}","}");return b},parseTag:function(a){var b=this.tagRe.exec(a),c,d;if(!b)return null;c=b[1];a=b[2];d=b[3];b=b[4];if(c=="."){if(!this.validTypes){this.definitions.push("var validTypes={string:1,number:1,boolean:1};");
this.validTypes=true}c='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else c=c=="#"?"xindex":c=="$"?"xkey":c.substr(0,7)=="parent."?c:isNaN(c)&&c.indexOf("-")==-1&&c.indexOf(".")!=-1?"values."+c:"values['"+c+"']";b&&(c="("+c+b+")");if(a&&this.useFormat){d=d?","+d:"";a=a.substr(0,5)!="this."?"fm."+a+"(":a+"("}else return c;return a+c+d+")"},evalTpl:function(a){eval(a);return a},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},
0,0,0,0,0,0,[Ext,"XTemplateCompiler"],function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";a.callFn=".call(this,"+a.fnArgs+")"});
Ext.cmd.derive("Ext.XTemplate",Ext.Template,{emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d;if(!this.fn){d=new Ext.XTemplateCompiler({useFormat:this.disableFormats!==true,definitions:this.definitions});this.fn=d.compile(this.html)}try{this.fn(b,a,c||this.emptyObj,1,1)}catch(e){}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b))d=
a;else for(d=a.self.prototype;d&&!d.hasOwnProperty(b);d=d.superclass);d[b]=c;c.owner=d}return c||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0);Ext.ns("Ext.core");
Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function a(a){if(!a)return[];var b=a.length,c,d,e=a,g=-1;if(!b||typeof a.nodeType!="undefined"||b==1)return a;if(r&&typeof a[0].selectSingleNode!="undefined"){e=++t;a[0].setAttribute("_nodup",e);g=[a[0]];b=1;for(d=a.length;b<d;b++){c=a[b];if(!c.getAttribute("_nodup")!=e){c.setAttribute("_nodup",e);g[g.length]=c}}b=0;for(d=a.length;b<d;b++)a[b].removeAttribute("_nodup");return g}b=++t;a[0]._nodup=b;for(d=1;c=a[d];d++)if(c._nodup!=b)c._nodup=b;
else{e=[];for(c=0;c<d;c++)e[++g]=a[c];for(c=d+1;d=a[c];c++)if(d._nodup!=b){d._nodup=b;e[++g]=d}break}return e}var b,c=document,d={},e={},g={},h=!!c.documentElement.classList,i=!!c.documentElement.firstElementChild,j=function(){var a=c.createElement("div");a.innerHTML="<\!-- --\>text<\!-- --\>";return a.children&&a.children.length===0}(),k=/^\s+|\s+$/g,l=/\{(\d+)\}/g,m=/^(\s?[\/>+~]\s?|\s|$)/,n=/^(#)?([\w\-\*\|\\]+)/,p=/(\d*)n\+?(\d*)/,o=/\D/,q=/^\s*#/,r=window.ActiveXObject?true:false,t=30803,s=/\\([0-9a-fA-F]{6})/g,
u=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,v=/\\([^0-9a-fA-F]{1})/g,B=/\\/g,y,w;(function(){var a;if(window.DOMParser)a=(new DOMParser).parseFromString('<r><a:b xmlns:a="n"></a:b></r>',"application/xml");else{a=new ActiveXObject("Microsoft.XMLDOM");a.loadXML('<r><a:b xmlns:a="n"></a:b></r>')}return!!a.getElementsByTagName("a:b").length})();var z=function(a,b){return String.fromCharCode(parseInt(b,16))},C=function(a,b){for(;b.length<6;)b="0"+b;return"\\"+b},A=function(a,b){y=b.charCodeAt(0).toString(16);y.length===
1&&(y="0"+y);return"\\0000"+y},x=function(a){(w=a.indexOf("\\")>-1)&&(a=a.replace(u,C).replace(v,A).replace(B,"\\\\"));return a};eval("var batch = 30803, child, next, prev, byClassName;");child=j?function(a,b){return a.children[b]}:function(a,b){for(var c=0,d=a.firstChild;d;){if(d.nodeType==1&&++c==b)return d;d=d.nextSibling}return null};next=i?function(a){return a.nextElementSibling}:function(a){for(;(a=a.nextSibling)&&a.nodeType!=1;);return a};prev=i?function(a){return a.previousElementSibling}:
function(a){for(;(a=a.previousSibling)&&a.nodeType!=1;);return a};byClassName=h?function(a,b){b=w?b.replace(s,z):b;if(!b)return a;var c=[],d=-1,e,g,h;for(e=0;g=a[e];e++)(h=g.classList)?h.contains(b)&&(c[++d]=g):(" "+g.className+" ").indexOf(b)!==-1&&(c[++d]=g);return c}:function(a,b){b=w?b.replace(s,z):b;if(!b)return a;var c=[],d=-1,e,g;for(e=0;g=a[e];e++)(" "+g.className+" ").indexOf(b)!==-1&&(c[++d]=g);return c};return b={getStyle:function(a,b){return Ext.fly(a,"_DomQuery").getStyle(b)},compile:function(a,
c){var c=c||"select",d=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],e,g=b.matchers,h=g.length,i;i=a.match(m);var j,p,o,a=x(a);if(i&&i[1]){d[d.length]='mode="'+i[1].replace(k,"")+'";';a=a.replace(i[1],"")}for(;a.substr(0,1)=="/";)a=a.substr(1);for(;a&&e!=a;){e=a;i=a.match(n);if(c=="select")if(i){d[d.length]=i[1]=="#"?'n = quickId(n, mode, root, "'+i[2]+'");':'n = getNodes(n, mode, "'+i[2]+'");';a=a.replace(i[0],"")}else a.substr(0,1)!="@"&&(d[d.length]='n = getNodes(n, mode, "*");');
else if(i){d[d.length]=i[1]=="#"?'n = byId(n, "'+i[2]+'");':'n = byTag(n, "'+i[2]+'");';a=a.replace(i[0],"")}for(;!(i=a.match(m));){i=false;for(j=0;j<h;j++){p=g[j];if(o=a.match(p.re)){d[d.length]=p.select.replace(l,function(a,b){return o[b]});a=a.replace(o[0],"");i=true;break}}i||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+a+'"'})}if(i[1]){d[d.length]='mode="'+i[1].replace(k,"")+'";';a=a.replace(i[1],"")}}d[d.length]="return nodup(n);\n}";
eval(d.join(""));return f},jsSelect:function(e,g,h){g=g||c;typeof g=="string"&&(g=c.getElementById(g));var e=e.split(","),i=[],j,l,m;j=0;for(l=e.length;j<l;j++){m=e[j].replace(k,"");if(d[m])x(m);else{d[m]=b.compile(m,h);d[m]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:m+" is not a valid selector"})}(m=d[m](g))&&m!==c&&(i=i.concat(m))}return e.length>1?a(i):i},isXml:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false},select:c.querySelectorAll?
function(a,d,e,g){d=d||c;if(!b.isXml(d))try{if(d.parentNode&&d.nodeType!==9&&a.indexOf(",")===-1&&!q.test(a)){a="#"+Ext.escapeId(Ext.id(d))+" "+a;d=d.parentNode}return g?[d.querySelector(a)]:Ext.Array.toArray(d.querySelectorAll(a))}catch(h){}return b.jsSelect.call(this,a,d,e)}:function(a,c,d){return b.jsSelect.call(this,a,c,d)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,true)[0]},selectValue:function(a,c,d){a=a.replace(k,"");g[a]?x(a):g[a]=b.compile(a,"select");a=g[a](c);a=a[0]?
a[0]:a;typeof a.normalize=="function"&&a.normalize();a=a&&a.firstChild?a.firstChild.nodeValue:null;return a===null||a===void 0||a===""?d:a},selectNumber:function(a,c,d){a=b.selectValue(a,c,d||0);return parseFloat(a)},is:function(a,d){typeof a=="string"&&(a=c.getElementById(a));var e=Ext.isArray(a),g=b.filter(e?a:[a],d);return e?g.length==a.length:g.length>0},filter:function(a,c,d){c=c.replace(k,"");e[c]?x(c):e[c]=b.compile(c,"simple");c=e[c](a);if(d){var g=c.length,d=++t,h=[],i;if(g){if(r&&typeof c[0].selectSingleNode!=
"undefined"){d=++t;h=[];i=0;for(g=c.length;i<g;i++)c[i].setAttribute("_qdiff",d);i=0;for(g=a.length;i<g;i++)a[i].getAttribute("_qdiff")!=d&&(h[h.length]=a[i]);i=0;for(g=c.length;i<g;i++)c[i].removeAttribute("_qdiff")}else{for(i=0;i<g;i++)c[i]._qdiff=d;i=0;for(c=a.length;i<c;i++)a[i]._qdiff!=d&&(h[h.length]=a[i])}a=h}}else a=c;return a},matchers:[{re:/^\.([\w\-\\]+)/,select:h?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},
{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&a.indexOf(b)!==-1},
"%=":function(a,b){return a%b===0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&(" "+a+" ").indexOf(" "+b+" ")!=-1}},pseudos:{"first-child":function(a){var b=[],c=-1,d,e,g;for(e=0;g=d=a[e];e++){for(;(d=d.previousSibling)&&d.nodeType!=1;);d||(b[++c]=g)}return b},"last-child":function(a){var b=[],c=-1,d,e,g;for(e=0;g=d=a[e];e++){for(;(d=d.nextSibling)&&d.nodeType!=1;);d||(b[++c]=g)}return b},"nth-child":function(a,b){var c=[],d=-1,e=p.exec(b=="even"&&
"2n"||b=="odd"&&"2n+1"||!o.test(b)&&"n+"+b||b),g=(e[1]||1)-0,e=e[2]-0,h,i,j,k,l;for(h=0;i=a[h];h++){l=i.parentNode;if(batch!=l._batch){j=0;for(k=l.firstChild;k;k=k.nextSibling)if(k.nodeType==1)k.nodeIndex=++j;l._batch=batch}if(g==1){if(e===0||i.nodeIndex==e)c[++d]=i}else(i.nodeIndex+e)%g===0&&(c[++d]=i)}return c},"only-child":function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)!prev(e)&&!next(e)&&(b[++c]=e);return b},empty:function(a){var b=[],c=-1,d,e,g,h,i,j;for(d=0;e=a[d];d++){g=e.childNodes;h=0;
for(j=true;i=g[h];){++h;if(i.nodeType==1||i.nodeType==3){j=false;break}}j&&(b[++c]=e)}return b},contains:function(a,b){var c=[],d=-1,e,g;for(e=0;g=a[e];e++)if((g.textContent||g.innerText||g.text||"").indexOf(b)!=-1)c[++d]=g;return c},nodeValue:function(a,b){var c=[],d=-1,e,g;for(e=0;g=a[e];e++)g.firstChild&&g.firstChild.nodeValue==b&&(c[++d]=g);return c},checked:function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)e.checked===true&&(b[++c]=e);return b},not:function(a,c){return b.filter(a,c,true)},any:function(a,
c){var d=c.split("|"),e=[],g=-1,h,i,j,k;for(i=0;j=a[i];i++)for(k=0;h=d[k];k++)if(b.is(j,h)){e[++g]=j;break}return e},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,c){var d=b.select,e=[],g=-1,h,i;for(h=0;i=a[h];h++)d(c,i).length>0&&(e[++g]=i);return e},next:function(a,c){var d=b.is,e=[],g=-1,h,i,j;for(h=0;i=a[h];h++)(j=
next(i))&&d(j,c)&&(e[++g]=i);return e},prev:function(a,c){var d=b.is,e=[],g=-1,h,i,j;for(h=0;i=a[h];h++)(j=prev(i))&&d(j,c)&&(e[++g]=i);return e},focusable:function(a){for(var b=a.length,c=[],d=0,e;d<b;d++){e=a[d];Ext.fly(e,"_DomQuery").isFocusable()&&c.push(e)}return c},visible:function(a,b){for(var c=a.length,d=[],e=0,g;e<c;e++){g=a[e];Ext.fly(g,"_DomQuery").isVisible(b)&&d.push(g)}return d}}}}();Ext.query=Ext.DomQuery.select;
Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(a){var b,c=this.dom.id||Ext.id(this.dom);if(!Ext.fx.Manager.hasFxBlock(c)){if(a.listeners){b=a.listeners;delete a.listeners}if(a.internalListeners){a.listeners=a.internalListeners;delete a.internalListeners}a=new Ext.fx.Anim(this.anim(a));if(b)a.on(b);Ext.fx.Manager.queueFx(a)}return this},anim:function(a){if(!Ext.isObject(a))return a?{}:false;var b=a.duration||Ext.fx.Anim.prototype.duration,c=a.easing||"ease";a.stopAnimation&&
this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));Ext.fx.Manager.setFxDefaults(this.id,{delay:0});b={target:this.dom,remove:a.remove,alternate:a.alternate||false,duration:b,easing:c,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:true,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)};Ext.apply(b.to,a.to);delete b.to.to;delete b.to.from;delete b.to.remove;delete b.to.alternate;
delete b.to.keyframes;delete b.to.iterations;delete b.to.listeners;delete b.to.target;delete b.to.paused;delete b.to.callback;delete b.to.scope;delete b.to.duration;delete b.to.easing;delete b.to.concurrent;delete b.to.block;delete b.to.stopAnimation;delete b.to.delay;return b},slideIn:function(a,b,c){var d=this,e=d.dom,g=e.style,h,i,j,a=a||"t",b=b||{};d.animate({duration:b.duration?Math.max(b.duration,500)*2:1E3,listeners:{beforeanimate:function(){var k,l,m=this,n=b.listeners,p=Ext.fly(e,"_anim"),
o,q,r;c||p.fixDisplay();o=p.getBox();if((a=="t"||a=="b")&&o.height===0)o.height=e.scrollHeight;else if((a=="l"||a=="r")&&o.width===0)o.width=e.scrollWidth;q=p.getStyles("width","height","left","right","top","bottom","position","z-index",true);p.setSize(o.width,o.height);b.preserveScroll&&(i=p.cacheScrollValues());r=p.wrap({id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:c?"visible":"hidden"}});j=r.dom.parentNode;r.setPositioning(p.getPositioning(true));r.isStyle("position","static")&&r.position("relative");
p.clearPositioning("auto");r.clip();i&&i();p.setStyle({visibility:"",position:"absolute"});c&&r.setSize(o.width,o.height);switch(a){case "t":k={width:o.width+"px",height:"0px"};l={width:o.width+"px",height:o.height+"px"};g.bottom="0px";break;case "l":k={width:"0px",height:o.height+"px"};l={width:o.width+"px",height:o.height+"px"};d.anchorAnimX(a);break;case "r":k={x:o.x+o.width,width:"0px",height:o.height+"px"};l={x:o.x,width:o.width+"px",height:o.height+"px"};d.anchorAnimX(a);break;case "b":k={y:o.y+
o.height,width:o.width+"px",height:"0px"};l={y:o.y,width:o.width+"px",height:o.height+"px"};break;case "tl":k={x:o.x,y:o.y,width:"0px",height:"0px"};l={width:o.width+"px",height:o.height+"px"};g.bottom="0px";d.anchorAnimX("l");break;case "bl":k={y:o.y+o.height,width:"0px",height:"0px"};l={y:o.y,width:o.width+"px",height:o.height+"px"};d.anchorAnimX("l");break;case "br":k={x:o.x+o.width,y:o.y+o.height,width:"0px",height:"0px"};l={x:o.x,y:o.y,width:o.width+"px",height:o.height+"px"};d.anchorAnimX("r");
break;case "tr":k={x:o.x+o.width,width:"0px",height:"0px"};l={x:o.x,width:o.width+"px",height:o.height+"px"};g.bottom="0px";d.anchorAnimX("r")}r.show();h=Ext.apply({},b);delete h.listeners;h=new Ext.fx.Anim(Ext.applyIf(h,{target:r,duration:500,easing:"ease-out",from:c?l:k,to:c?k:l}));h.on("afteranimate",function(){var a=Ext.fly(e,"_anim");a.setStyle(q);c&&(b.useDisplay?a.setDisplayed(false):a.hide());if(r.dom){r.dom.parentNode?r.dom.parentNode.insertBefore(a.dom,r.dom):j.appendChild(a.dom);r.remove()}i&&
i();m.end()});if(n)h.on(n)}}});return d},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(a){var b=this.dom,c=this.getBox(),d=this.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",true),a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:false});this.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:function(){var e=Ext.fly(b,"_anim");e.clearOpacity();e.show();this.to={width:c.width*2,height:c.height*
2,x:c.x-c.width/2,y:c.y-c.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var c=Ext.fly(b,"_anim");if(c){a.useDisplay?c.setDisplayed(false):c.hide();c.setStyle(d);Ext.callback(a.callback,a.scope)}})}}}});return this},switchOff:function(a){var b=this.dom,a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});this.animate({duration:Math.max(a.duration,500)*2,listeners:{beforeanimate:{fn:function(){var c=Ext.fly(b,"_anim"),d=this,e=c.getSize(),g=c.getXY(),
h;c.clearOpacity();c.clip();h=c.getPositioning();(new Ext.fx.Animator({target:b,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:g[1]+e.height/2},100:{width:1,x:g[0]+e.width/2}}})).on("afteranimate",function(){var c=Ext.fly(b,"_anim");a.useDisplay?c.setDisplayed(false):c.hide();c.clearOpacity();c.setPositioning(h);c.setSize(e);d.end()})}}},callback:a.callback,scope:a.scope});return this},frame:function(a,b,c){var d=this.dom,a=a||"#C3DAF9",b=b||1,c=c||{};this.animate({duration:Math.max(c.duration,
500)*2||2E3,listeners:{beforeanimate:{fn:function(){var e=Ext.fly(d,"_anim"),g=this,h,i;e.show();h=e.getBox();i=Ext.getBody().createChild({id:e.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35E3,border:"0px solid "+a}});(new Ext.fx.Anim({target:i,duration:c.duration||1E3,iterations:b,from:{top:h.y,left:h.x,borderWidth:0,opacity:1,height:h.height,width:h.width},to:{top:h.y-20,left:h.x-20,borderWidth:10,opacity:0,height:h.height+40,width:h.width+40}})).on("afteranimate",
function(){i.remove();g.end()})}}},callback:c.callback,scope:c.scope});return this},ghost:function(a,b){var c=this.dom,a=a||"b";this.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:function(){var b=Ext.fly(c,"_anim"),e=b.getWidth(),g=b.getHeight(),h=b.getXY(),i=b.getPositioning(),b={opacity:0};switch(a){case "t":b.y=h[1]-g;break;case "l":b.x=h[0]-e;break;case "r":b.x=h[0]+e;break;case "b":b.y=h[1]+g;break;case "tl":b.x=h[0]-e;b.y=h[1]-g;break;case "bl":b.x=h[0]-
e;b.y=h[1]+g;break;case "br":b.x=h[0]+e;b.y=h[1]+g;break;case "tr":b.x=h[0]+e;b.y=h[1]-g}this.to=b;this.on("afteranimate",function(){var a=Ext.fly(c,"_anim");if(a){a.hide();a.clearOpacity();a.setPositioning(i)}})}}}));return this},highlight:function(a,b){var c=this.dom,d={},e,g,h,i,j,k;if(c.tagName.match(this.tableTagRe))return this.select("div").highlight(a,b);b=b||{};i=b.listeners||{};h=b.attr||"backgroundColor";d[h]=a||"ffff9c";if(b.to)g=b.to;else{g={};g[h]=b.endColor||this.getColor(h,"ffffff",
"")}b.listeners=Ext.apply(Ext.apply({},i),{beforeanimate:function(){e=c.style[h];var a=Ext.fly(c,"_anim");a.clearOpacity();a.show();if(j=i.beforeanimate){k=j.fn||j;return k.apply(j.scope||i.scope||window,arguments)}},afteranimate:function(){c&&(c.style[h]=e);if(j=i.afteranimate){k=j.fn||j;k.apply(j.scope||i.scope||window,arguments)}}});this.animate(Ext.apply({},b,{duration:1E3,easing:"ease-in",from:d,to:g}));return this},pause:function(a){Ext.fx.Manager.setFxDefaults(this.id,{delay:a});return this},
fadeIn:function(a){var b=this.dom;this.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(){var a=Ext.fly(b,"_anim");a.isStyle("display","none")?a.setDisplayed(""):a.show()}}}));return this},fadeOut:function(a){var b=this.dom,a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(c){if(b&&c.to.opacity===0){c=Ext.fly(b,"_anim");a.useDisplay?c.setDisplayed(false):c.hide()}}}},a);this.animate(a);return this},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,
height:b}));return this},shift:function(a){this.animate(a);return this},anchorAnimX:function(a){this.dom.style[a==="l"?"right":"left"]="0px"}});Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(a,b,c){a=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDProxy:function(a,b,c){a=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDTarget:function(a,b,c){a=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(a,c)}});
Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var a=Ext.dom.Element,b=Ext.baseCSSPrefix+"hide-offsets",c=function(a){var a=(a.$cache||a.getCache()).data,b=a.originalDisplay;b===void 0&&(a.originalDisplay=b="");return b},d=function(b){var b=(b.$cache||b.getCache()).data,c=b.visibilityMode;if(c===void 0)b.visibilityMode=c=a.VISIBILITY;return c};a.override({originalDisplay:"",visibilityMode:1,setVisible:function(c,g){var h=this.dom,i=d(this);if(typeof g=="string"){switch(g){case "display":i=
a.DISPLAY;break;case "visibility":i=a.VISIBILITY;break;case "offsets":i=a.OFFSETS;break;case "nosize":case "asclass":i=a.ASCLASS}this.setVisibilityMode(i);g=false}if(!g||!this.anim){if(i==a.DISPLAY)return this.setDisplayed(c);if(i==a.OFFSETS)this[c?"removeCls":"addCls"](b);else if(i==a.VISIBILITY){this.fixDisplay();h.style.visibility=c?"":"hidden"}else if(i==a.ASCLASS)this[c?"removeCls":"addCls"](this.visibilityCls||a.visibilityCls)}else{if(c){this.setOpacity(0.01);this.setVisible(true)}Ext.isObject(g)||
(g={duration:350,easing:"ease-in"});this.animate(Ext.applyIf({callback:function(){c||Ext.fly(h,"_internal").setVisible(false).setOpacity(1)},to:{opacity:c?1:0}},g))}(this.$cache||this.getCache()).data.isVisible=c;return this},hasMetrics:function(){var b=d(this);return this.isVisible()||b==a.OFFSETS||b==a.VISIBILITY},toggle:function(a){this.setVisible(!this.isVisible(),this.anim(a));return this},setDisplayed:function(a){typeof a=="boolean"&&(a=a?c(this):"none");this.setStyle("display",a);return this},
fixDisplay:function(){if(this.isStyle("display","none")){this.setStyle("visibility","hidden");this.setStyle("display",c(this));this.isStyle("display","none")&&this.setStyle("display","block")}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.anim(a));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.anim(a));return this}})});
Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var a,b=this,c=["padding-left","padding-right","padding-top","padding-bottom"],d=["border-left-width","border-right-width","border-top-width","border-bottom-width"],e=Math.round,g=document;b.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(a){return b.getXY(a)[0]},getXY:function(b){var c=g.body,d=g.documentElement,k=0,l=0,m=[0,0],n,b=Ext.getDom(b);if(b!=g&&b!=c){if(Ext.isIE)try{n=b.getBoundingClientRect();
l=d.clientTop||c.clientTop;k=d.clientLeft||c.clientLeft}catch(p){n={left:0,top:0}}else n=b.getBoundingClientRect();a||(a=new Ext.Element.Fly);a.attach(g);b=a.getScroll();m=[e(n.left+b.left-k),e(n.top+b.top-l)]}return m},getY:function(a){return b.getXY(a)[1]},setX:function(a,c){b.setXY(a,[c,false])},setXY:function(a,b){(a=Ext.fly(a,"_setXY")).position();var c=a.translatePoints(b),d=a.dom.style,e;d.right="auto";for(e in c)isNaN(c[e])||(d[e]=c[e]+"px")},setY:function(a,c){b.setXY(a,[false,c])}},center:function(a){return this.alignTo(a||
g,"c-c")},clearPositioning:function(a){a=a||"";return this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:"static"})},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var a=this.getStyle(c),b=this.getStyle(d);return{beforeX:(parseFloat(b["border-left-width"])||0)+(parseFloat(a["padding-left"])||0),afterX:(parseFloat(b["border-right-width"])||0)+(parseFloat(a["padding-right"])||
0),beforeY:(parseFloat(b["border-top-width"])||0)+(parseFloat(a["padding-top"])||0),afterY:(parseFloat(b["border-bottom-width"])||0)+(parseFloat(a["padding-bottom"])||0)}},getCenterXY:function(){return this.getAlignToXY(g,"c-c")},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a=this.dom.offsetParent,c=this.getStyle("left");if(!c||c==="auto")c=0;else if(this.pxRe.test(c))c=parseFloat(c);else{c=this.getX();a&&(c=c-b.getX(a))}return c},getLocalXY:function(){var a=
this.dom.offsetParent,c=this.getStyle(["left","top"]),d=c.left,c=c.top;if(!d||d==="auto")d=0;else if(this.pxRe.test(d))d=parseFloat(d);else{d=this.getX();a&&(d=d-b.getX(a))}if(!c||c==="auto")c=0;else if(this.pxRe.test(c))c=parseFloat(c);else{c=this.getY();a&&(c=c-b.getY(a))}return[d,c]},getLocalY:function(){var a=this.dom.offsetParent,c=this.getStyle("top");if(!c||c==="auto")c=0;else if(this.pxRe.test(c))c=parseFloat(c);else{c=this.getY();a&&(c=c-b.getY(a))}return c},getPageBox:function(a){var b=
this.dom,c=b.nodeName=="BODY",d=c?Ext.Element.getViewWidth():b.offsetWidth,b=c?Ext.Element.getViewHeight():b.offsetHeight,e=this.getXY(),c=e[1],g=e[0]+d,n=e[1]+b,e=e[0];return a?new Ext.util.Region(c,g,n,e):{left:e,top:c,width:d,height:b,right:g,bottom:n}},getPositioning:function(a){var b=this.getStyle(["left","top","position","z-index"]),c=this.dom;if(a){if(b.left==="auto")b.left=c.offsetLeft+"px";if(b.top==="auto")b.top=c.offsetTop+"px"}return b},getRight:function(a){return(a?this.getLocalX():this.getX())+
this.getWidth()},getTop:function(a){return a?this.getLocalY():this.getY()},getX:function(){return b.getX(this.dom)},getXY:function(){return b.getXY(this.dom)},getY:function(){return b.getY(this.dom)},moveTo:function(a,b,c){return this.setXY([a,b],c)},position:function(a,b,c,d){!a&&this.isStyle("position","static")?this.setStyle("position","relative"):a&&this.setStyle("position",a);b&&this.setStyle("z-index",b);if(c||d)this.setXY([c||false,d||false])},setBottom:function(a){this.dom.style.bottom=this.addUnits(a);
return this},setBounds:function(a,b,c,d,e){return this.setBox({x:a,y:b,width:c,height:d},e)},setLeft:function(a){this.dom.style.left=this.addUnits(a);return this},setLeftTop:function(a,b){var c=this.dom.style;c.left=this.addUnits(a);c.top=this.addUnits(b);return this},setLocalX:function(a){var b=this.dom.style;b.right="auto";b.left=a===null?"auto":a+"px"},setLocalXY:function(a,b){var c=this.dom.style;c.right="auto";if(a&&a.length){b=a[1];a=a[0]}if(a===null)c.left="auto";else if(a!==void 0)c.left=
a+"px";if(b===null)c.top="auto";else if(b!==void 0)c.top=b+"px"},setLocalY:function(a){this.dom.style.top=a===null?"auto":a+"px"},setLocation:function(a,b,c){return this.setXY([a,b],c)},setPositioning:function(a){return this.setStyle(a)},setRight:function(a){this.dom.style.right=this.addUnits(a);return this},setTop:function(a){this.dom.style.top=this.addUnits(a);return this},setX:function(a,b){return this.setXY([a,this.getY()],b)},setXY:function(a,c){if(!c||!this.anim)b.setXY(this.dom,a);else{Ext.isObject(c)||
(c={});this.animate(Ext.applyIf({to:{x:a[0],y:a[1]}},c))}return this},setY:function(a,b){return this.setXY([this.getX(),a],b)}});b.getTrueXY=b.getXY});
Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var a=this.dom,b=document,c=b.body,d=b.documentElement;if(a===b||a===c){b=d.scrollLeft||(c?c.scrollLeft:0);a=d.scrollTop||(c?c.scrollTop:0)}else{b=a.scrollLeft;a=a.scrollTop}return{left:b,top:a}},getScrollLeft:function(){var a=this.dom,b=document;return a===b||a===b.body?this.getScroll().left:a.scrollLeft},getScrollTop:function(){var a=
this.dom,b=document;return a===b||a===b.body?this.getScroll().top:a.scrollTop},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},scrollBy:function(a,b,c){var d=this.dom;if(a.length){c=b;b=a[1];a=a[0]}else if(typeof a!="number"){c=b;b=a.y;a=a.x}a&&this.scrollTo("left",this.constrainScrollLeft(d.scrollLeft+a),c);b&&this.scrollTo("top",this.constrainScrollTop(d.scrollTop+b),c);return this},scrollTo:function(a,b,c){var a=/top/i.test(a)?
"scrollTop":"scrollLeft",d=this.dom;if(!c||!this.anim){d[a]=b;d[a]=b}else{d={to:{}};d.to[a]=b;Ext.isObject(c)&&Ext.applyIf(d,c);this.animate(d)}return this},scrollIntoView:function(a,b,c,d){var e=this,g=e.dom,h=e.getOffsetsTo(a=Ext.getDom(a)||Ext.getBody().dom),i=h[0]+a.scrollLeft,h=h[1]+a.scrollTop,j=h+g.offsetHeight,k=i+g.offsetWidth,l=a.clientHeight,m=parseInt(a.scrollTop,10),n=parseInt(a.scrollLeft,10),p=m+l,o=n+a.clientWidth,q;d&&(c?c=Ext.apply({listeners:{afteranimate:function(){e.scrollChildFly.attach(g).highlight()}}},
c):e.scrollChildFly.attach(g).highlight());g.offsetHeight>l||h<m?q=h:j>p&&(q=j-l);q!=null&&e.scrollChildFly.attach(a).scrollTo("top",q,c);if(b!==false){q=null;g.offsetWidth>a.clientWidth||i<n?q=i:k>o&&(q=k-a.clientWidth);q!=null&&e.scrollChildFly.attach(a).scrollTo("left",q,c)}return e},scrollChildIntoView:function(a,b){this.scrollChildFly.attach(Ext.getDom(a)).scrollIntoView(this,b)},scroll:function(a,b,c){if(!this.isScrollable())return false;var d=this.dom,e=a==="r"||a==="l"?"left":"top",g=false;
a==="r"&&(b=-b);if(e==="left"){a=d.scrollLeft;b=this.constrainScrollLeft(a+b)}else{a=d.scrollTop;b=this.constrainScrollTop(a+b)}if(b!==a){this.scrollTo(e,b,c);g=true}return g},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly;this.prototype.scrolltoFly=new this.Fly});
Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var a=this,b=document.defaultView,c=/table-row|table-.*-group/,d=/#document|body/i,e,g,h,i;if(!b||!b.getComputedStyle)a.prototype.getStyle=function(b,c){var d=this.dom,e=typeof b!="string",g=this.styleHooks,h=b,i=h,j=1,t=c,s,u,v,B,y,w;if(e){u={};h=i[0];w=0;if(!(j=i.length))return u}if(!d||d.documentElement)return u||"";s=d.style;if(c)y=s;else{y=d.currentStyle;if(!y){t=true;y=s}}do{(v=g[h])||(g[h]=v={name:a.normalize(h)});if(v.get)B=
v.get(d,this,t,y);else{s=v.name;if(v.canThrow)try{B=y[s]}catch(z){B=""}else B=y?y[s]:""}if(!e)return B;u[h]=B;h=i[++w]}while(w<j);return u};a.override({getHeight:function(a,b){var c,d;if(this.isStyle("display","none"))return 0;c=this.dom.offsetHeight;if(Ext.supports.Direct2DBug){d=this.adjustDirect2DDimension("height");b?c=c+d:d>0&&d<0.5&&c++}a&&(c=c-(this.getBorderWidth("tb")+this.getPadding("tb")));return c<0?0:c},getWidth:function(a,b){var c=this.dom,d;if(this.isStyle("display","none"))return 0;
if(b&&Ext.supports.BoundingClientRect){c=c.getBoundingClientRect();c=this.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect?c.bottom-c.top:c.right-c.left}else c=c.offsetWidth;if(Ext.supports.Direct2DBug&&!this.vertical){d=this.adjustDirect2DDimension("width");b?c=c+d:d>0&&d<0.5&&c++}a&&(c=c-(this.getBorderWidth("lr")+this.getPadding("lr")));return c<0?0:c},setWidth:function(a,b){a=this.adjustWidth(a);if(!b||!this.anim)this.dom.style.width=this.addUnits(a);else{Ext.isObject(b)||(b={});
this.animate(Ext.applyIf({to:{width:a}},b))}return this},setHeight:function(a,b){a=this.adjustHeight(a);if(!b||!this.anim)this.dom.style.height=this.addUnits(a);else{Ext.isObject(b)||(b={});this.animate(Ext.applyIf({to:{height:a}},b))}return this},applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},setSize:function(a,b,c){if(Ext.isObject(a)){c=b;b=a.height;a=a.width}a=this.adjustWidth(a);b=this.adjustHeight(b);if(!c||!this.anim){this.dom.style.width=this.addUnits(a);this.dom.style.height=
this.addUnits(b)}else{c===true&&(c={});this.animate(Ext.applyIf({to:{width:a,height:b}},c))}return this},getViewSize:function(){var b=this.dom;return d.test(b.nodeName)?{width:a.getViewWidth(),height:a.getViewHeight()}:{width:b.clientWidth,height:b.clientHeight}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},adjustWidth:function(a){var b=typeof a=="number";b&&(this.autoBoxAdjust&&!this.isBorderBox())&&(a=a-(this.getBorderWidth("lr")+this.getPadding("lr")));return b&&
a<0?0:a},adjustHeight:function(a){var b=typeof a=="number";b&&(this.autoBoxAdjust&&!this.isBorderBox())&&(a=a-(this.getBorderWidth("tb")+this.getPadding("tb")));return b&&a<0?0:a},getColor:function(a,b,c){var a=this.getStyle(a),c=c||c===""?c:"#",d,e,g=0;if(!a||/transparent|inherit/.test(a))return b;if(/^r/.test(a)){a=a.slice(4,a.length-1).split(",");for(e=a.length;g<e;g++){d=parseInt(a[g],10);c=c+((d<16?"0":"")+d.toString(16))}}else{a=a.replace("#","");c=c+(a.length==3?a.replace(/^(\w)(\w)(\w)$/,
"$1$1$2$2$3$3"):a)}return c.length>5?c.toLowerCase():b},setOpacity:function(a,b){if(!this.dom)return this;if(!b||!this.anim)this.setStyle("opacity",a);else{typeof b!="object"&&(b={duration:350,easing:"ease-in"});this.animate(Ext.applyIf({to:{opacity:a}},b))}return this},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(a){var b=this.dom,d=this.getStyle("display"),e=b.style.display,g=b.style.position,h=a==="width"?0:1,i=b.currentStyle;if(d==="inline")b.style.display=
"inline-block";b.style.position=d.match(c)?"absolute":"static";a=(parseFloat(i[a])||parseFloat(i.msTransformOrigin.split(" ")[h])*2)%1;b.style.position=g;if(d==="inline")b.style.display=e;return a},clip:function(){var a=(this.$cache||this.getCache()).data,b;if(!a.isClipped){a.isClipped=true;b=this.getStyle(["overflow","overflow-x","overflow-y"]);a.originalClip={o:b.overflow,x:b["overflow-x"],y:b["overflow-y"]};this.setStyle("overflow","hidden");this.setStyle("overflow-x","hidden");this.setStyle("overflow-y",
"hidden")}return this},unclip:function(){var a=(this.$cache||this.getCache()).data;if(a.isClipped){a.isClipped=false;a=a.originalClip;a.o&&this.setStyle("overflow",a.o);a.x&&this.setStyle("overflow-x",a.x);a.y&&this.setStyle("overflow-y",a.y)}return this},boxWrap:function(b){var b=b||Ext.baseCSSPrefix+"box",c=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+Ext.String.format(a.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",c.dom).appendChild(this.dom);return c},getComputedHeight:function(){var a=
Math.max(this.dom.offsetHeight,this.dom.clientHeight);if(!a){a=parseFloat(this.getStyle("height"))||0;this.isBorderBox()||(a=a+this.getFrameWidth("tb"))}return a},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!a){a=parseFloat(this.getStyle("width"))||0;this.isBorderBox()||(a=a+this.getFrameWidth("lr"))}return a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:this.getPadding(a)+this.getBorderWidth(a)},addClsOnOver:function(a,b,c){var d=this,e=
d.dom,g=Ext.isFunction(b);d.hover(function(){g&&b.call(c||d,d)===false||Ext.fly(e,"_internal").addCls(a)},function(){Ext.fly(e,"_internal").removeCls(a)});return d},addClsOnFocus:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.on("focus",function(){if(g&&b.call(c||d,d)===false)return false;Ext.fly(e,"_internal").addCls(a)});d.on("blur",function(){Ext.fly(e,"_internal").removeCls(a)});return d},addClsOnClick:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.on("mousedown",function(){if(g&&
b.call(c||d,d)===false)return false;Ext.fly(e,"_internal").addCls(a);var h=Ext.getDoc(),i=function(){Ext.fly(e,"_internal").removeCls(a);h.removeListener("mouseup",i)};h.on("mouseup",i)});return d},getStyleSize:function(){var b,c,e;if(d.test(this.dom.nodeName))return{width:a.getViewWidth(),height:a.getViewHeight()};b=this.getStyle(["height","width"],true);if(b.width&&b.width!="auto"){c=parseFloat(b.width);this.isBorderBox()&&(c=c-this.getFrameWidth("lr"))}if(b.height&&b.height!="auto"){e=parseFloat(b.height);
this.isBorderBox()&&(e=e-this.getFrameWidth("tb"))}return{width:c||this.getWidth(true),height:e||this.getHeight(true)}},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){this.dom.unselectable="";this.removeCls(a.unselectableCls);this.addCls(a.selectableCls);return this},unselectable:function(){if(Ext.isOpera)this.dom.unselectable="on";this.removeCls(a.selectableCls);this.addCls(a.unselectableCls);return this},setVertical:function(b,
c){var d=a.prototype;this.vertical=true;if(c)this.addCls(this.verticalCls=c);this.setWidth=d.setHeight;this.setHeight=d.setWidth;if(!Ext.isIE9m){this.getWidth=d.getHeight;this.getHeight=d.getWidth}this.styleHooks=b===270?a.prototype.verticalStyleHooks270:a.prototype.verticalStyleHooks90},setHorizontal:function(){var a=this.verticalCls;delete this.vertical;if(a){delete this.verticalCls;this.removeCls(a)}delete this.setWidth;delete this.setHeight;if(!Ext.isIE9m){delete this.getWidth;delete this.getHeight}delete this.styleHooks}});
a.prototype.styleHooks=b=Ext.dom.AbstractElement.prototype.styleHooks;a.prototype.verticalStyleHooks90=e=Ext.Object.chain(a.prototype.styleHooks);a.prototype.verticalStyleHooks270=g=Ext.Object.chain(a.prototype.styleHooks);e.width={name:"height"};e.height={name:"width"};e["margin-top"]={name:"marginLeft"};e["margin-right"]={name:"marginTop"};e["margin-bottom"]={name:"marginRight"};e["margin-left"]={name:"marginBottom"};e["padding-top"]={name:"paddingLeft"};e["padding-right"]={name:"paddingTop"};e["padding-bottom"]=
{name:"paddingRight"};e["padding-left"]={name:"paddingBottom"};e["border-top"]={name:"borderLeft"};e["border-right"]={name:"borderTop"};e["border-bottom"]={name:"borderRight"};e["border-left"]={name:"borderBottom"};g.width={name:"height"};g.height={name:"width"};g["margin-top"]={name:"marginRight"};g["margin-right"]={name:"marginBottom"};g["margin-bottom"]={name:"marginLeft"};g["margin-left"]={name:"marginTop"};g["padding-top"]={name:"paddingRight"};g["padding-right"]={name:"paddingBottom"};g["padding-bottom"]=
{name:"paddingLeft"};g["padding-left"]={name:"paddingTop"};g["border-top"]={name:"borderRight"};g["border-right"]={name:"borderBottom"};g["border-bottom"]={name:"borderLeft"};g["border-left"]={name:"borderTop"};if(Ext.isIE7m){b.fontSize=b["font-size"]={name:"fontSize",canThrow:true};b.fontStyle=b["font-style"]={name:"fontStyle",canThrow:true};b.fontFamily=b["font-family"]={name:"fontFamily",canThrow:true}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){var j=function(a,b,c,d){return d[this.styleName]==
"none"?"0px":d[this.name]};e=["Top","Right","Bottom","Left"];for(g=e.length;g--;){h=e[g];i="border"+h+"Width";b["border-"+h.toLowerCase()+"-width"]=b[i]={name:i,styleName:"border"+h+"Style",get:j}}}Ext.getDoc().on("selectstart",function(b,c){var d=document.documentElement,e=a.selectableCls,g=a.unselectableCls,h=c&&c.tagName,h=h&&h.toLowerCase();if(!(h==="input"||h==="textarea"))for(;c&&c.nodeType===1&&c!==d;){h=Ext.fly(c);if(h.hasCls(e))break;if(h.hasCls(g)){b.stopEvent();break}c=c.parentNode}})});
Ext.onReady(function(){var a=/alpha\(opacity=(.*)\)/i,b=/^\s+|\s+$/g,c=Ext.dom.Element.prototype.styleHooks;c.opacity={name:"opacity",afterSet:function(a,b,c){if(c.isLayer)c.onOpacitySet(b)}};!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(c.opacity,{get:function(b){b=b.style.filter;if(b.match)if(b=b.match(a)){b=parseFloat(b[1]);if(!isNaN(b))return b?b/100:0}return 1},set:function(c,e){var g=c.style,h=g.filter.replace(a,"").replace(b,"");g.zoom=1;g.filter=typeof e=="number"&&e>=0&&e<1?h+(h.length?" ":
"")+"alpha(opacity="+e*100+")":h}})});
Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);if(c){a[0]=a[0]+c[0];a[1]=a[1]+c[1]}return a},alignTo:function(a,b,c,d){var e=this.el;return this.setXY(this.getAlignToXY(a,b,c),e.anim&&d?e.anim(d):false)},anchorTo:function(a,b,c,d,e,g){var h=this,i=!Ext.isEmpty(e),j=function(){h.alignTo(a,b,c,d);Ext.callback(g,h)},k=h.getAnchor();
h.removeAnchor();Ext.apply(k,{fn:j,scroll:i});Ext.EventManager.onWindowResize(j,null);if(i)Ext.EventManager.on(window,"scroll",j,null,{buffer:!isNaN(e)?e:50});j();return h},calculateAnchorXY:function(a,b,c,d){var e=this.el,g=document,h=e.dom==g.body||e.dom==g,e=Math.round,i,a=(a||"tl").toLowerCase(),d=d||{},g=d.width||h?Ext.Element.getViewWidth():this.getWidth(),d=d.height||h?Ext.Element.getViewHeight():this.getHeight();switch(a){case "tl":i=[0,0];break;case "bl":i=[0,d];break;case "tr":i=[g,0];break;
case "c":i=[e(g*0.5),e(d*0.5)];break;case "t":i=[e(g*0.5),0];break;case "l":i=[0,e(d*0.5)];break;case "r":i=[g,e(d*0.5)];break;case "b":i=[e(g*0.5),d];break;case "tc":i=[e(g*0.5),0];break;case "bc":i=[e(g*0.5),d];break;case "br":i=[g,d]}return[i[0]+b,i[1]+c]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(a,b,c){var d=Ext.Element.getViewWidth()-10,e=Ext.Element.getViewHeight()-10,g=document,h=g.documentElement,i=g.body,g=h.scrollLeft||i.scrollLeft||0,h=h.scrollTop||i.scrollTop||0,j,k,l,
m,n,a=Ext.get(a.el||a),c=c||[0,0],b=(!b||b=="?"?"tl-bl?":!/-/.test(b)&&b!==""?"tl-"+b:b||"tl-bl").toLowerCase(),b=this.convertPositionSpec(b),b=b.match(this._alignRe);m=b[1];i=b[2];l=!!b[3];j=this.getAnchorXY(m,true);k=this.getAnchorToXY(a,i,false);b=k[0]-j[0]+c[0];c=k[1]-j[1]+c[1];if(l){l=this.getWidth();j=this.getHeight();a=a.getRegion();k=m.charAt(0);m=m.charAt(m.length-1);n=i.charAt(0);i=i.charAt(i.length-1);k=k=="t"&&n=="b"||k=="b"&&n=="t";i=m=="r"&&i=="l"||m=="l"&&i=="r";b+l>d+g&&(b=i?a.left-
l:d+g-l);b<g&&(b=i?a.right:g);c+j>e+h&&(c=k?a.top-j:e+h-j);c<h&&(c=k?a.bottom:h)}return[b,c]},getAnchor:function(){var a=this.el,b=(a.$cache||a.getCache()).data;if(a.dom){a=b._anchor;if(!a)a=b._anchor={};return a}},getAnchorXY:function(a,b,c){var d=this.getXY(),e=this.el,g=document,g=e.dom==g.body||e.dom==g,e=e.getScroll();return this.calculateAnchorXY(a,g?e.left:b?0:d[0],g?e.top:b?0:d[1],c)},getBox:function(a,b){var c=b?this.getLocalXY():this.getXY(),d=c[0],c=c[1],e=this.getWidth(),g=this.getHeight(),
h,i,j;if(a){h=this.getBorderPadding();i=h.beforeX;j=h.beforeY;d=d+i;c=c+j;e=e-(i+h.afterX);g=g-(j+h.afterY)}return{x:d,left:d,"0":d,y:c,top:c,1:c,width:e,height:g,right:d+e,bottom:c+g}},calculateConstrainedPosition:function(a,b,c,d){var e=this.floatParent,g=e?e.getTargetEl():null,h,i,j=false;if(c&&e){e=g.getXY();h=g.getBorderPadding();e[0]=e[0]+h.beforeX;e[1]=e[1]+h.beforeY;b&&(i=[b[0]+e[0],b[1]+e[1]])}else i=b;a=a||this.constrainTo||g||this.container||this.el.parent();if(a=(this.constrainHeader?
this.header:this).getConstrainVector(a,i,d)){j=b||this.getPosition(c);j[0]=j[0]+a[0];j[1]=j[1]+a[1]}return j},getConstrainVector:function(a,b,c){var d=this.getRegion(),e=[0,0],g=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,h=false,i=this.constraintInsets;a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getViewRegion());if(i){i=Ext.isObject(i)?i:Ext.Element.parseBox(i);a.adjust(i.top,i.right,i.bottom,i.length)}b&&d.translateBy(b[0]-d.x,b[1]-d.y);if(c){d.right=
d.left+c[0];d.bottom=d.top+c[1]}g&&a.adjust(g[0],-g[1],-g[2],g[3]);if(d.right>a.right){h=true;e[0]=a.right-d.right}if(d.left+e[0]<a.left){h=true;e[0]=a.left-d.left}if(d.bottom>a.bottom){h=true;e[1]=a.bottom-d.bottom}if(d.top+e[1]<a.top){h=true;e[1]=a.top-d.top}return h?e:false},getOffsetsTo:function(a){var b=this.getXY(),a=Ext.fly(a.el||a,"_internal").getXY();return[b[0]-a[0],b[1]-a[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a=
this.el,b,c,d;if(a.dom.nodeName==="BODY"){b=a.getScroll();a=b.left;b=b.top;c=Ext.dom.AbstractElement.getViewportWidth();d=Ext.dom.AbstractElement.getViewportHeight()}else{b=this.getBorderPadding();c=this.getXY();a=c[0]+b.beforeX;b=c[1]+b.beforeY;c=this.getWidth(true);d=this.getHeight(true)}return new Ext.util.Region(b,a+c,b+d,a)},move:function(a,b,c){var d=this.getXY(),e=d[0],g=d[1],d=[e-b,g],h=[e+b,g],i=[e,g-b],b=[e,g+b],b={l:d,left:d,r:h,right:h,t:i,top:i,up:i,b:b,bottom:b,down:b},a=a.toLowerCase();
this.setXY([b[a][0],b[a][1]],c)},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);a.scroll&&Ext.EventManager.un(window,"scroll",a.fn);delete a.fn}return this},setBox:function(a,b){var c=this.el,d=a.x,e=a.y,g=a.width,h=a.height,i=(this.constrain||this.constrainHeader)&&this.calculateConstrainedPosition(null,[d,e],false,[g,h]);if(i){d=i[0];e=i[1]}if(!b||!c.anim){this.setSize(g,h);this.setXY([d,e]);this.afterSetPosition(d,e)}else this.animate(Ext.applyIf({to:{x:d,
y:e,width:c.adjustWidth(g),height:c.adjustHeight(h)},listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[d,e])}},b));return this},setRegion:function(a,b){return this.setBox({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top},b)},translatePoints:function(a,b){var c=this.translateXY(a,b);return{left:c.x,top:c.y}},translateXY:function(a,b){var c=this.el,d=c.getStyle(this._positionTopLeft),e=d.position=="relative",g=parseFloat(d.left),d=parseFloat(d.top),h=this.getXY();if(Ext.isArray(a)){b=
a[1];a=a[0]}isNaN(g)&&(g=e?0:c.dom.offsetLeft);isNaN(d)&&(d=e?0:c.dom.offsetTop);g=typeof a=="number"?a-h[0]+g:void 0;d=typeof b=="number"?b-h[1]+d:void 0;return{x:g,y:d}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0);
Ext.cmd.derive("Ext.dom.Element",Ext.dom.AbstractElement,function(a){var b=document,c=Ext.baseCSSPrefix+"masked",d=Ext.baseCSSPrefix+"masked-relative",e=Ext.baseCSSPrefix+"mask-msg",g=/^body/i,h,i=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},j=function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)if(e.scrollTop>0||e.scrollLeft>0)b[++c]=e;return b};return{alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,addUnits:function(){return a.addUnits.apply(a,arguments)},
focus:function(a,b){b=b||this.dom;try{Number(a)?Ext.defer(this.focus,a,this,[null,b]):b.focus()}catch(c){}return this},blur:function(){var a=this.dom;if(a!==document.body){try{a.blur()}catch(b){}return this}return this.focus(void 0,a)},isBorderBox:function(){var a=Ext.isBorderBox;a&&Ext.isIE7m&&(a=!((this.dom.tagName||"").toLowerCase()in i));return a},hover:function(a,b,c,d){this.on("mouseenter",a,c||this.dom,d);this.on("mouseleave",b,c||this.dom,d);return this},getAttributeNS:function(a,b){return this.getAttribute(b,
a)},getAttribute:Ext.isIE&&!(Ext.isIE9p&&b.documentMode>=9)?function(a,b){var c=this.dom,d;if(b){d=typeof c[b+":"+a];return d!="undefined"&&d!="unknown"?c[b+":"+a]||null:null}a==="for"&&(a="htmlFor");return c[a]||null}:function(a,b){var c=this.dom;return b?c.getAttributeNS(b,a)||c.getAttribute(b+":"+a):c.getAttribute(a)||c[a]||null},cacheScrollValues:function(){var a,b,c,d=[];if(!Ext.DomQuery.pseudos.isScrolled)Ext.DomQuery.pseudos.isScrolled=j;a=this.query(":isScrolled");for(c=0;c<a.length;c++){b=
a[c];d[c]=[b.scrollLeft,b.scrollTop]}return function(){for(c=0;c<a.length;c++){b=a[c];b.scrollLeft=d[c][0];b.scrollTop=d[c][1]}}},autoBoxAdjust:true,isVisible:function(b){var c=this.dom,d=c.ownerDocument.documentElement;for(h||(h=new a.Fly);c!==d;){if(!c||c.nodeType===11||h.attach(c).isStyle("visibility","hidden")||h.isStyle("display","none"))return false;if(!b)break;c=c.parentNode}return true},isDisplayed:function(){return!this.isStyle("display","none")},enableDisplayMode:function(b){this.setVisibilityMode(a.DISPLAY);
if(!Ext.isEmpty(b))(this.$cache||this.getCache()).data.originalDisplay=b;return this},mask:function(a,h,i){var j=this.dom,p=j.style.setExpression,o=(this.$cache||this.getCache()).data,q=o.maskShimEl,r=o.maskEl,t=o.maskMsg,s;g.test(j.tagName)&&this.getStyle("position")=="static"||this.addCls(d);r&&r.remove();t&&t.remove();q&&q.remove();if(Ext.isIE6){q=Ext.DomHelper.append(j,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},true);o.maskShimEl=q;q.setDisplayed(true)}Ext.DomHelper.append(j,
[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:h?e+" "+h:e,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:a||""}}}]);t=Ext.get(j.lastChild);r=Ext.get(t.dom.previousSibling);o.maskMsg=t;o.maskEl=r;this.addCls(c);r.setDisplayed(true);if(typeof a=="string"){t.setDisplayed(true);t.center(this)}else t.setDisplayed(false);if(!Ext.supports.IncludePaddingInWidthCalculation&&p)try{r.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');
q&&q.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');r.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"')}catch(u){}if(!Ext.supports.IncludePaddingInHeightCalculation&&p)try{s="this.parentNode."+(j==b.body?"scrollHeight":"offsetHeight")+' + "px"';q&&q.dom.style.setExpression("height",s);r.dom.style.setExpression("height",s)}catch(v){}else if(Ext.isIE9m&&(!Ext.isIE7||!Ext.isStrict)&&this.getStyle("height")=="auto"){q&&q.setSize(void 0,i||this.getHeight());r.setSize(void 0,
i||this.getHeight())}return r},unmask:function(){var a=(this.$cache||this.getCache()).data,b=a.maskEl,e=a.maskShimEl,g=a.maskMsg,h;if(b){h=b.dom.style;if(h.clearExpression){h.clearExpression("width");h.clearExpression("height")}if(b){b.remove();delete a.maskEl}if(g){g.remove();delete a.maskMsg}this.removeCls([c,d]);if(e){h=e.dom.style;if(h.clearExpression){h.clearExpression("width");h.clearExpression("height")}e.remove();delete a.maskShimEl}}},isMasked:function(){var a=(this.$cache||this.getCache()).data,
b=a.maskEl,a=a.maskMsg,c=false;if(b&&b.isVisible()){a&&a.center(this);c=true}return c},createShim:function(){var a=b.createElement("iframe");a.frameBorder="0";a.className=Ext.baseCSSPrefix+"shim";a.src=Ext.SSL_SECURE_URL;a=Ext.get(this.dom.parentNode.insertBefore(a,this.dom));a.autoBoxAdjust=false;return a},addKeyListener:function(a,b,c){a=typeof a!="object"||Ext.isArray(a)?{target:this,key:a,fn:b,scope:c}:{target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c};return new Ext.util.KeyMap(a)},
addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},on:function(a,b,c,d){Ext.EventManager.on(this,a,b,c||this,d);return this},un:function(a,b,c){Ext.EventManager.un(this,a,b,c||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},select:function(b){return a.select(b,false,this.dom)}}},0,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,
Ext.util.Positionable]],[Ext.dom,"Element",Ext,"Element",Ext.core,"Element"],function(){var a=document,b=Ext.cache,c=this,d=Ext.dom.AbstractElement,e=/^a|button|embed|iframe|input|object|select|textarea$/i,g=/\S/,h=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,i=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,j=/\ssrc=([\'\"])(.*?)\1/i,k=/\stype=([\'\"])(.*?)\1/i,l=!Ext.isIE8m,m;c.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';
c.collectorThreadId=setInterval(function(){if(Ext.enableGarbageCollector){var a,d;for(a in b)if(b.hasOwnProperty(a)){d=b[a];if(!d.skipGarbageCollection)if((d=d.dom)&&(!d.parentNode||!d.offsetParent&&!Ext.getElementById(a))){Ext.enableListenerCollection&&Ext.EventManager.removeAll(d);delete b[a]}}if(Ext.isIE){d={};for(a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);b=Ext.cache=d}}else clearInterval(c.collectorThreadId)},3E4);c.addMethods({monitorMouseLeave:function(a,b,c){var d=this,e,g={mouseleave:function(g){e=
setTimeout(Ext.Function.bind(b,c||d,[g]),a)},mouseenter:function(){clearTimeout(e)},freezeEvent:true};d.on(g);return g},swallowEvent:function(a,b){var c,d,e=function(a){a.stopPropagation();b&&a.preventDefault()};if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++)this.on(a[c],e);return this}this.on(a,e);return this},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(a){var b=this.dom,c=(this.$cache||this.getCache()).data,d=b.firstChild,e=-1;if(c.isCleaned&&a!==true)return this;
for(;d;){a=d.nextSibling;if(d.nodeType==3)if(g.test(d.nodeValue)){if(a&&a.nodeType==3){d.appendData(Ext.String.trim(a.data));b.removeChild(a);a=d.nextSibling;d.nodeIndex=++e}}else b.removeChild(d);else{m.attach(d).clean();d.nodeIndex=++e}d=a}c.isCleaned=true;return this},load:function(a){this.getLoader().load(a);return this},getLoader:function(){var a=(this.$cache||this.getCache()).data,b=a.loader;if(!b)a.loader=b=new Ext.ElementLoader({target:this});return b},syncContent:function(a){var a=Ext.getDom(a),
b=a.childNodes,c=b.length,d=this.dom,e=d.childNodes,g=e.length,h,i,j,k;if(Ext.isIE9m&&d.mergeAttributes){d.mergeAttributes(a,true);d.src=a.src}else{i=a.attributes;j=i.length;for(h=0;h<j;h++){k=i[h].name;k!=="id"&&d.setAttribute(k,i[h].value)}}if(c!==g)d.innerHTML=a.innerHTML;else for(h=0;h<c;h++){i=b[h];g=e[h];j=i.nodeType;if(j!==g.nodeType||j===1&&i.tagName!==g.tagName){d.innerHTML=a.innerHTML;break}if(j===3)g.data=i.data;else{if(i.id&&g.id!==i.id)g.id=i.id;g.style.cssText=i.style.cssText;g.className=
i.className;m.attach(g).syncContent(i)}}},update:function(b,c,d){var e=this,g,l,m;if(!e.dom)return e;b=b||"";l=e.dom;if(c!==true){l.innerHTML=b;Ext.callback(d,e);return e}g=Ext.id();b=b+('<span id="'+g+'"></span>');m=setInterval(function(){var c,i,l,p;if(!(c=a.getElementById(g)))return false;clearInterval(m);Ext.removeNode(c);for(c=Ext.getHead().dom;i=h.exec(b);)if((p=(l=i[1])?l.match(j):false)&&p[2]){i=a.createElement("script");i.src=p[2];if((l=l.match(k))&&l[2])i.type=l[2];c.appendChild(i)}else i[2]&&
i[2].length>0&&(window.execScript?window.execScript(i[2]):window.eval(i[2]));Ext.callback(d,e)},20);l.innerHTML=b.replace(i,"");return e},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,b,d){a=typeof a=="object"?a:{tag:"div",cls:a};a=b?Ext.DomHelper.append(b,a,true):Ext.DomHelper.insertBefore(this.dom,a,true);a.setVisibilityMode(c.DISPLAY);a.hide();d&&(this.setBox&&this.getBox)&&a.setBox(this.getBox());return a},needsTabIndex:function(){if(this.dom)return this.dom.nodeName===
"a"&&!this.dom.href?true:!e.test(this.dom.nodeName)},isFocusable:function(a){var b=this.dom,c=b.getAttributeNode("tabIndex"),d,g=b.nodeName,h=false;if(c&&c.specified)d=c.value;if(b&&!b.disabled){if(d==-1)h=Ext.FocusManager&&Ext.FocusManager.enabled&&a;else if(e.test(g)){if(g!=="a"||b.href)h=true}else h=d!=null&&d>=0;h=h&&this.isVisible(true)}return h}});if(Ext.isIE)c.prototype.getById=function(d,e){var g=this.dom,h;if(g)if(h=l&&a.getElementById(d)||g.all[d]){if(e)g=h;else g=(g=b[d])&&g.el?Ext.updateCacheEntry(g,
h).el:new c(h);return g}return e?Ext.getDom(d):c.get(d)};c.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"});c.Fly=d.Fly=new Ext.Class({extend:c,isFly:true,constructor:function(a){this.dom=a;this.el=this},attach:d.Fly.prototype.attach});m=new c.Fly;if(Ext.isIE)Ext.getElementById=function(b){var c=a.getElementById(b),e;if(!c&&(e=d.detachedBodyEl))c=e.dom.all[b];return c};else if(!a.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=
function(b){return a.getElementById(b)}}});
Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var a,b=Ext.dom.Element.prototype,c=this.prototype;for(a in b)typeof b[a]=="function"&&function(a){c[a]=c[a]||function(){return this.invoke(a,arguments)}}.call(c,a)}},constructor:function(a,b){this.elements=[];this.add(a,b);this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},
getCount:function(){return this.elements.length},add:function(a,b){var c=this.elements,d,e;if(!a)return this;typeof a=="string"?a=Ext.dom.Element.selectorFunction(a,b):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);d=0;for(e=a.length;d<e;++d)c.push(this.transformElement(a[d]));return this},invoke:function(a,b){var c=this.elements,d=c.length,e,g,a=Ext.dom.Element.prototype[a];for(g=0;g<d;g++)(e=c[g])&&a.apply(this.getElement(e),b);return this},item:function(a){var a=this.elements[a],b=null;
a&&(b=this.getElement(a));return b},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(a,b,c,d){var e=this.elements,g=e.length,h,i;for(h=0;h<g;h++)if(i=e[h])Ext.EventManager.on(i,a,b,c||i,d);return this},each:function(a,b){var c=this.elements,d=c.length,e,g;for(e=0;e<d;e++)if(g=c[e]){g=this.getElement(g);if(a.call(b||g,g,this,e)===false)break}return this},fill:function(a){this.elements=[];this.add(a);return this},insert:function(a,b){Ext.Array.insert(this.elements,
a,b)},filter:function(a){for(var b=this.elements,c=b.length,d=[],e=0,g=typeof a=="function",h,i;e<c;e++)if(i=b[e]){i=this.getElement(i);(h=g?a.call(i,i,this,e)!==false:i.is(a))&&d.push(this.transformElement(i))}this.elements=d;return this},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){a=!isNaN(a)?a:this.indexOf(a);if(a>-1){b=Ext.getDom(b);if(c){c=this.elements[a];c.parentNode.insertBefore(b,c);Ext.removeNode(c)}Ext.Array.splice(this.elements,
a,1,b)}return this},clear:function(a){var b=this.elements,c=b.length-1;if(a)for(;c>=0;c--)Ext.removeNode(b[c]);this.elements=[]},addElements:function(a,b){if(!a)return this;typeof a=="string"&&(a=Ext.dom.Element.selectorFunction(a,b));var c=this.elements,d=a.length,e;for(e=0;e<d;e++)c.push(Ext.get(a[e]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(a,b){var a=[].concat(a),
c=this.elements,d=a.length,e,g,h;for(h=0;h<d;h++){e=a[h];if(g=c[e]||c[e=this.indexOf(e)]){b&&(g.dom?g.remove():Ext.removeNode(g));Ext.Array.erase(c,e,1)}}return this}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery)Ext.dom.Element.selectorFunction=Ext.DomQuery.select;Ext.dom.Element.select=function(a,b){var c;typeof a=="string"?c=Ext.dom.Element.selectorFunction(a,b):a.length!==
void 0&&(c=a);return new Ext.CompositeElementLite(c)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}});
Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],function(){Ext.dom.Element.select=function(a,b,c){var d;typeof a=="string"?d=Ext.dom.Element.selectorFunction(a,c):a.length!==void 0&&(d=a);return b===true?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)}});Ext.select=Ext.Element.select;
Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,constructor:function(a){var a=a||{},b=a.keyFn;this.initialConfig=a;this.addEvents("add","clear","remove","replace");this.mixins.observable.constructor.call(this,a);this.clear(true);if(b)this.getKey=b},getCount:function(){return this.length},getData:function(a,b){if(b===void 0){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,b){if(arguments.length===1){b=a;a=this.getKey(b)}if(this.containsKey(a))return this.replace(a,
b);this.map[a]=b;++this.length;this.generation++;this.hasListeners.add&&this.fireEvent("add",this,a,b);return b},replace:function(a,b){var c=this.map,d;if(arguments.length===1){b=a;a=this.getKey(b)}this.containsKey(a)||this.add(a,b);d=c[a];c[a]=b;this.generation++;this.hasListeners.replace&&this.fireEvent("replace",this,a,b,d);return b},remove:function(a){a=this.findKey(a);return a!==void 0?this.removeAtKey(a):false},removeAtKey:function(a){var b;if(this.containsKey(a)){b=this.map[a];delete this.map[a];
--this.length;this.generation++;this.hasListeners.remove&&this.fireEvent("remove",this,a,b);return true}return false},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:void 0},clear:function(a){if(a||this.generation){this.map={};this.length=0;this.generation=a?0:this.generation+1}a!==true&&this.hasListeners.clear&&this.fireEvent("clear",this);return this},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==void 0},contains:function(a){return this.containsKey(this.findKey(a))},
getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length,b=b||this;for(d in c)if(c.hasOwnProperty(d)&&a.call(b,d,c[d],e)===false)break;return this},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);a.resumeEvents();
return a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"HashMap"],0);
Ext.cmd.derive("Ext.AbstractManager",Ext.Base,{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap;this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==void 0},create:function(a,b){return new this.types[a[this.typeName]||a.type||b](a)},onAvailable:function(a,b,c){var d=
this.all,e,g;if(d.containsKey(a)){e=d.get(a);b.call(c||e,e)}else{g=function(e,i,j){if(i==a){b.call(c||j,j);d.un("add",g)}};d.on("add",g)}},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}},1,0,0,0,0,0,[Ext,"AbstractManager"],0);
Ext.cmd.derive("Ext.ComponentManager",Ext.AbstractManager,{alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(a,b){return typeof a=="string"?Ext.widget(a):a.isComponent?a:Ext.widget(a.xtype||b,a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a;b.prototype[this.typeName]=a}},0,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});
Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var a=this,b=Ext.dom.Query.operators,c=/(\d*)n\+?(\d*)/,d=/\D/,e=function(a,b){return b.method.apply(this,[a].concat(b.args))},g=function(a,b){for(var c=[],d=0,e=a.length,g,h=b!==">";d<e;d++){g=a[d];g.getRefItems&&(c=c.concat(g.getRefItems(h)))}return c},h=function(a,b,c){if(b==="*")return a.slice();for(var d=[],e=0,g=a.length,h;e<g;e++){h=a[e];h.isXType(b,c)&&d.push(h)}return d},i=function(a,
b){for(var c=[],d=0,e=a.length,g;d<e;d++){g=a[d];g.hasCls(b)&&c.push(g)}return c},j=function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++){g=a[d];g.getItemId()===b&&c.push(g)}return c},k=/^(\s?([>\^])\s?|\s|$)/,l=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,m=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:h},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:function(a,c,d,e){var g=[],h=0,i=a.length,j,k,l,m,w,z;if(c.charAt(0)==="@"){j=true;c=c.substr(1)}if(c.charAt(0)===
"?"){k=j=true;c=c.substr(1)}for(;h<i;h++){l=a[h];if(!j||l.hasOwnProperty(c)){m=l[c];if(k)g.push(l);else if(d==="~="){if(m){Ext.isArray(m)||(m=m.split(" "));w=0;for(z=m.length;w<z;w++)if(b[d](Ext.coerce(m[w],e),e)){g.push(l);break}}}else(!e?l[c]:b[d](Ext.coerce(m,e),e))&&g.push(l)}}return g}},{re:/^#([\w\-]+)/,method:j},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(b,c,d){return a.pseudos[c](b,d)}},{re:/^(?:\{([^\}]+)\})/,method:"var r = [],i = 0,it = items,l = it.length,c;for (; i < l; i++) {c = it[i];if (c.{0}) {r.push(c);}}return r;"}];
a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(a){var b=this.operations,c=0,d=b.length,h,i;if(a)if(Ext.isIterable(a))i=a;else{if(a.isMixedCollection)i=a.items}else i=Ext.ComponentManager.all.getArray();for(;c<d;c++){h=b[c];if(h.mode==="^"){h=i||[a];i=[];for(var j=0,k=h.length,l=void 0;j<k;j++)for(l=h[j];l=l.getRefOwner();)i.push(l)}else i=h.mode?g(i||[a],h.mode):e(i||g([a]),h);if(c===d-1)return i}return[]},is:function(a){var b=this.operations,a=Ext.isArray(a)?
a:[a],c=a.length,a=e(a,b[b.length-1]);if(a.length===c){if(b.length>1){c=0;for(b=a.length;c<b;c++)if(Ext.Array.indexOf(this.execute(),a[c])===-1)return false}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(a,b){for(var c=Ext.ComponentQuery,d=0,e=a.length,g=[],h=-1,i;d<e;++d){i=a[d];c.is(i,b)||(g[++h]=i)}return g},first:function(a){var b=[];a.length>0&&b.push(a[0]);return b},last:function(a){var b=a.length,c=[];b>0&&c.push(a[b-1]);return c},focusable:function(a){for(var b=
a.length,c=[],d=0,e;d<b;d++){e=a[d];e.isFocusable()&&c.push(e)}return c},"nth-child":function(a,b){var e=[],g=c.exec(b=="even"&&"2n"||b=="odd"&&"2n+1"||!d.test(b)&&"n+"+b||b),h=(g[1]||1)-0,g=g[2]-0,i,j,k;for(i=0;j=a[i];i++){k=i+1;h==1?(g==0||k==g)&&e.push(j):(k+g)%h==0&&e.push(j)}return e}},query:function(a,b){for(var c=a.split(","),d=c.length,e=0,g=[],h=[],i={},j;e<d;e++){a=Ext.String.trim(c[e]);j=this.cache[a]||(this.cache[a]=this.parse(a));g=g.concat(j.execute(b))}if(d>1){c=g.length;for(e=0;e<
c;e++){d=g[e];if(!i[d.id]){h.push(d);i[d.id]=true}}g=h}return g},is:function(a,b){if(!b)return true;for(var c=b.split(","),d=c.length,e=0,g;e<d;e++){b=Ext.String.trim(c[e]);g=this.cache[b]||(this.cache[b]=this.parse(b));if(g.is(a))return true}return false},parse:function(b){for(var c=[],d=m.length,e,g,t,s,u;b&&e!==b;){e=b;if(g=b.match(l)){t=g[1];t==="#"?c.push({method:j,args:[Ext.String.trim(g[2])]}):t==="."?c.push({method:i,args:[Ext.String.trim(g[2])]}):c.push({method:h,args:[Ext.String.trim(g[2]),
Boolean(g[3])]});b=b.replace(g[0],"")}for(;!(g=b.match(k));)for(t=0;b&&t<d;t++){s=m[t];g=b.match(s.re);u=s.method;if(g){c.push({method:Ext.isString(s.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[u].concat(g.slice(1)))):s.method,args:g.slice(1)});b=b.replace(g[0],"");break}t===d-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+b+'"')}if(g[1]){c.push({mode:g[2]||g[1]});b=b.replace(g[0],"")}}return new a.Query({operations:c})}})});
Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(c){Ext.apply(this,c);this.classList=a(this.cls);this.classMap=b(this.classList);delete this.cls;if(Ext.isFunction(this.style)){this.styleFn=this.style;delete this.style}else if(typeof this.style=="string")this.style=Ext.Element.parseStyles(this.style);else if(this.style)this.style=
Ext.apply({},this.style)},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(b){for(var b=typeof b==="string"?a(b):b,d=b.length,e=this.classList,g=this.classMap,h=this.flushClassList,i=0,j;i<d;++i){j=b[i];if(!g[j]){g[j]=true;e.push(j);if(h){h.push(j);delete this.removedClasses[j]}}}return this},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d=this.classList,e=this.classList=[],c=b(a(c)),g=d.length,
h=this.classMap,i=this.removedClasses,j,k;for(j=0;j<g;++j){k=d[j];if(c[k]){if(i&&h[k]){i[k]=true;Ext.Array.remove(this.flushClassList,k)}delete h[k]}else e.push(k)}return this},setStyle:function(a,b){var e=this.style||(this.style={});typeof a=="string"?arguments.length===1?this.setStyle(Ext.Element.parseStyles(a)):e[a]=b:Ext.apply(e,a);return this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera)this.unselectableAttr=true},writeTo:function(a){var b=this.flushClassList||
this.classList,e=this.removedClasses,g;if(this.styleFn){g=Ext.apply({},this.styleFn());Ext.apply(g,this.style)}else g=this.style;a[this.clsProp]=b.join(" ");g&&(a[this.styleProp]=this.styleIsText?Ext.DomHelper.generateStyles(g):g);if(e){e=Ext.Object.getKeys(e);e.length&&(a[this.removedProp]=e.join(" "))}if(this.unselectableAttr)a.unselectable="on";return a}}}(),1,0,0,0,0,0,[Ext.util,"ProtoElement"],0);
Ext.cmd.derive("Ext.PluginManager",Ext.AbstractManager,{alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(a,b,c){if(a.init)b=a;else{if(c){a=Ext.apply({},a);a.cmp=c}else c=a.cmp;if(a.xclass)b=Ext.create(a);else{b=Ext.ClassManager.getByAlias("plugin."+(a.ptype||b));typeof b==="function"&&(b=new b(a))}}if(b&&c&&b.setCmp&&!b.setCmpCalled){b.setCmp(c);b.setCmpCalled=true}return b},findByType:function(a,b){var c=[],d=this.types,e,g;for(e in d)if(d.hasOwnProperty(e)){g=d[e];
g.type==a&&(!b||b===true&&g.isDefault)&&c.push(g)}return c}},0,0,0,0,0,0,[Ext,"PluginManager",Ext,"PluginMgr"],function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});
Ext.cmd.derive("Ext.util.Filter",Ext.Base,{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(b){var c=true,d=a.length,e,g;for(e=0;c&&e<d;e++){g=a[e];g.disabled||(c=c&&g.filterFn.call(g.scope||g,b))}return c}:function(){return true}}},operatorFns:{"<":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},"<=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=
this.value},"=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},">=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},">":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},"!=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(a){this.initialConfig=a;Ext.apply(this,a);this.filter=this.filter||this.filterFn;this.filter===void 0&&this.setValue(a.value)},
setValue:function(a){this.value=a;if(!(this.property===void 0||this.value===void 0))this.filter=this.createFilterFn();this.filterFn=this.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var a=this,b=a.createValueMatcher(),c=a.property;return a.operator?a.operatorFns[a.operator]:function(d){d=a.getRoot(d)[c];return b===null?d===null:b.test(d)}},getRoot:function(a){var b=this.root;return b===void 0?a:a[b]},createValueMatcher:function(){var a=this.value,b=this.anyMatch,
c=this.exactMatch,d=this.caseSensitive,e=Ext.String.escapeRegex;if(a===null)return a;if(!a.exec){a=""+a;if(b===true)a=e(a);else{a="^"+e(a);c===true&&(a=a+"$")}a=RegExp(a,d?"":"i")}return a},serialize:function(){var a=Ext.apply({},this.initialConfig);a.value=this.value;return a}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]});
Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(a,b){if(arguments.length===1&&Ext.isObject(a)){this.initialConfig=a;Ext.apply(this,a)}else{this.allowFunctions=a===true;if(b)this.getKey=b;this.initialConfig={allowFunctions:this.allowFunctions,getKey:this.getKey}}this.items=[];this.map={};this.keys=[];this.indexMap={};this.length=0;this.mixins.observable.constructor.call(this)},allowFunctions:!1,add:function(a,b){var c=
this.length;return arguments.length===1?this.insert(c,a):this.insert(c,a,b)},getKey:function(a){return a.id},replace:function(a,b){var c;if(arguments.length==1){b=arguments[0];a=this.getKey(b)}c=this.map[a];if(typeof a=="undefined"||a===null||typeof c=="undefined")return this.add(a,b);this.generation++;this.items[this.indexOfKey(a)]=b;this.map[a]=b;this.hasListeners.replace&&this.fireEvent("replace",a,c,b);return b},updateKey:function(a,b){var c=this.map,d=this.indexMap,e=this.indexOfKey(a),g;if(e>
-1){g=c[a];delete c[a];delete d[a];c[b]=g;d[b]=e;this.keys[e]=b;this.generation++}},addAll:function(a){var b;if(arguments.length>1||Ext.isArray(a))this.insert(this.length,arguments.length>1?arguments:a);else for(b in a)a.hasOwnProperty(b)&&(this.allowFunctions||typeof a[b]!="function")&&this.add(b,a[b])},each:function(a,b){for(var c=Ext.Array.push([],this.items),d=0,e=c.length,g;d<e;d++){g=c[d];if(a.call(b||g,g,d,e)===false)break}},eachKey:function(a,b){for(var c=this.keys,d=this.items,e=0,g=c.length;e<
g;e++)a.call(b||window,c[e],d[e],e,g)},findBy:function(a,b){for(var c=this.keys,d=this.items,e=0,g=d.length;e<g;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},find:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.");return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;if(Ext.isIterable(b))d=this.doInsert(a,b,c);else{d=arguments.length>2?this.doInsert(a,[b],[c]):this.doInsert(a,
[b]);d=d[0]}return d},doInsert:function(a,b,c){var d,e,g,h=b.length,i=h,j=this.hasListeners.add,k={},l;if(c!=null)this.useLinearSearch=true;else{c=b;b=Array(h);for(g=0;g<h;g++)b[g]=this.getKey(c[g])}this.suspendEvents();for(g=0;g<h;g++){d=b[g];e=this.indexOfKey(d);if(e!==-1){e<a&&a--;this.removeAt(e)}if(d!=null){if(k[d]!=null){l=true;i--}k[d]=g}}this.resumeEvents();if(l){h=b;e=c;b=Array(i);c=Array(i);g=0;for(d in k){b[g]=h[k[d]];c[g]=e[k[d]];g++}h=i}i=a===this.length&&this.indexGeneration===this.generation;
Ext.Array.insert(this.items,a,c);Ext.Array.insert(this.keys,a,b);this.length=this.length+h;this.generation++;if(i)this.indexGeneration=this.generation;for(g=0;g<h;g++,a++){d=b[g];if(d!=null){this.map[d]=c[g];i&&(this.indexMap[d]=a)}j&&this.fireEvent("add",a,c[g],d)}return c},remove:function(a){var b,a=!this.useLinearSearch&&(b=this.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(this.items,a);return a===-1?false:this.removeAt(a)},removeAll:function(a){var b;if(a||this.hasListeners.remove)if(a)for(b=
a.length-1;b>=0;--b)this.remove(a[b]);else for(;this.length;)this.removeAt(0);else{this.length=this.items.length=this.keys.length=0;this.map={};this.indexMap={};this.generation++;this.indexGeneration=this.generation}},removeAt:function(a){var b,c;if(a<this.length&&a>=0){this.length--;b=this.items[a];Ext.Array.erase(this.items,a,1);c=this.keys[a];typeof c!="undefined"&&delete this.map[c];Ext.Array.erase(this.keys,a,1);this.hasListeners.remove&&this.fireEvent("remove",b,c);this.generation++;return b}return false},
removeRange:function(a,b){var c,d,e,g,h;if(a<this.length&&a>=0){b||(b=1);e=Math.min(a+b,this.length);b=e-a;g=(h=e===this.length)&&this.indexGeneration===this.generation;for(d=a;d<e;d++){c=this.keys[d];if(c!=null){delete this.map[c];g&&delete this.indexMap[c]}}c=this.items[d-1];this.length=this.length-b;this.generation++;if(g)this.indexGeneration=this.generation;if(h)this.items.length=this.keys.length=this.length;else{this.items.splice(a,b);this.keys.splice(a,b)}return c}return false},removeAtKey:function(a){var b=
this.keys;if(a==null)for(a=b.length-1;a>=0;a--)b[a]==null&&this.removeAt(a);else return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){var b;return a!=null?!this.useLinearSearch&&(b=this.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(this.items,a):-1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a))return-1;this.indexGeneration!==this.generation&&this.rebuildIndexMap();return this.indexMap[a]},rebuildIndexMap:function(){var a=this.indexMap={},
b=this.keys,c=b.length,d;for(d=0;d<c;d++)a[b[d]]=d;this.indexGeneration=this.generation},get:function(a){var b=this.map[a],a=b!==void 0?b:typeof a=="number"?this.items[a]:void 0;return typeof a!="function"||this.allowFunctions?a:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b;return a!=null?!this.useLinearSearch&&(b=this.getKey(a))?this.map[b]!=null:Ext.Array.indexOf(this.items,a)!==-1:false},containsKey:function(a){return this.map.hasOwnProperty(a)},
clear:function(){if(this.generation){this.length=0;this.items=[];this.keys=[];this.map={};this.indexMap={};this.generation++;this.indexGeneration=this.generation}this.hasListeners.clear&&this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){for(var a=this.extractValues(a,b),e=a.length,b=0,d=d||d===0?d:e-1,c=c||0;c<=d;c++)b=b+a[c];return b},collect:function(a,b,c){var a=this.extractValues(a,b),b=a.length,d={},e=[],g,
h,i;for(i=0;i<b;i++){g=a[i];h=""+g;if((c||!Ext.isEmpty(g))&&!d[h]){d[h]=true;e.push(g)}}return e},extractValues:function(a,b){var c=this.items;b&&(c=Ext.Array.pluck(c,b));return Ext.Array.pluck(c,a)},hasRange:function(a,b){return b<this.length},getRange:function(a,b){var c=this.items,d=[],e=c.length,g;if(e<1)return d;if(a>b){g=true;d=a;a=b;b=d}a<0&&(a=0);if(b==null||b>=e)b=e-1;d=c.slice(a,b+1);g&&d.length&&d.reverse();return d},filter:function(a,b,c,d){var e=[];if(Ext.isString(a))e.push(new Ext.util.Filter({property:a,
value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);return this.filterBy(Ext.util.Filter.createFilterFn(e))},filterBy:function(a,b){var c=new this.self(this.initialConfig),d=this.keys,e=this.items,g=e.length,h;c.getKey=this.getKey;for(h=0;h<g;h++)a.call(b||this,e[h],d[h])&&c.add(d[h],e[h]);return c},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,false))return-1;b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&b.test(c[a])},
null,c)},findIndexBy:function(a,b,c){for(var d=this.keys,e=this.items,c=c||0,g=e.length;c<g;c++)if(a.call(b||this,e[c],d[c]))return c;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex,a=""+a;if(b===true)a=e(a);else{a="^"+e(a);d===true&&(a=a+"$")}a=RegExp(a,c?"":"i")}return a},clone:function(){var a=new this.self(this.initialConfig);a.add(this.keys,this.items);return a}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0);
Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{direction:"ASC",constructor:function(a){Ext.apply(this,a);this.updateSortFunction()},createSortFunction:function(a){var b=this,c=(b.direction||"ASC").toUpperCase()=="DESC"?-1:1;return function(d,e){return c*a.call(b,d,e)}},defaultSorterFn:function(a,b){var c=this.transform,d=this.getRoot(a)[this.property],e=this.getRoot(b)[this.property];if(c){d=c(d);e=c(e)}return d>e?1:d<e?-1:0},getRoot:function(a){return this.root===void 0?a:a[this.root]},setDirection:function(a){this.direction=
a?a.toUpperCase():a;this.updateSortFunction()},toggle:function(){this.direction=Ext.String.toggle(this.direction,"ASC","DESC");this.updateSortFunction()},updateSortFunction:function(a){a=a||this.sorterFn||this.defaultSorterFn;this.sort=this.createSortFunction(a)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0);
Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:!0,defaultSortDirection:"ASC",statics:{createComparator:function(a){return a&&a.length?function(b,c){for(var d=a[0].sort(b,c),e=a.length,g=1;g<e;g++)d=d||a[g].sort.call(this,b,c);return d}:function(){return 0}}},initSortable:function(){var a=this.sorters;this.sorters=new Ext.util.AbstractMixedCollection(false,function(a){return a.id||a.property});a&&this.sorters.addAll(this.decodeSorters(a))},sort:function(a,b,c,d){var e,g;if(Ext.isArray(a)){d=
c;c=b;g=a}else if(Ext.isObject(a)){d=c;c=b;g=[a]}else if(Ext.isString(a))if(e=this.sorters.get(a))b===void 0?e.toggle():e.setDirection(b);else{e={property:a,direction:b};g=[e]}if(g&&g.length){g=this.decodeSorters(g);if(Ext.isString(c))c==="prepend"?this.sorters.insert(0,g):this.sorters.addAll(g);else{this.sorters.clear();this.sorters.addAll(g)}}if(d!==false){this.fireEvent("beforesort",this,g);this.onBeforeSort(g);a=this.sorters.items;a.length&&this.doSort(this.generateComparator())}return a},generateComparator:function(){var a=
this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Sorter,d=this.model?this.model.prototype.fields:null,e,g,h;for(h=0;h<b;h++){g=a[h];if(!(g instanceof c)){Ext.isString(g)&&(g={property:g});Ext.applyIf(g,{root:this.sortRoot,direction:"ASC"});if(g.fn)g.sorterFn=g.fn;typeof g=="function"&&(g={sorterFn:g});if(d&&!g.transform){e=
d.get(g.property);g.transform=e&&e.sortType!==Ext.identityFn?e.sortType:void 0}a[h]=new Ext.util.Sorter(g)}}return a},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var a=this.sorters.items,b=a.length,c=0,d;c<b;++c){d=a[c];if(!d.isGrouper)return d}return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator});
Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.callParent(arguments);this.addEvents("sort");this.mixins.sortable.initSortable.call(this)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e=(""+b).toUpperCase()=="DESC"?-1:1,g=[],h=this.keys,i=this.items,j,c=c||function(a,b){return a-b},b=0;for(d=i.length;b<d;b++)g[g.length]={key:h[b],value:i[b],index:b};Ext.Array.sort(g,function(b,d){return c(b[a],d[a])*e||(b.index<d.index?-1:1)});
b=0;for(d=g.length;b<d;b++){j=g[b];i[b]=j.value;h[b]=j.key;this.indexMap[j.key]=b}this.generation++;this.indexGeneration=this.generation;this.fireEvent("sort",this)},sortBy:function(a){var b=this.items,c,d=this.keys,e=b.length,g;for(g=0;g<e;g++)b[g].$extCollectionIndex=g;Ext.Array.sort(b,function(b,c){return a(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)});for(g=0;g<e;g++){c=b[g];c=this.getKey(c);d[g]=c;this.indexMap[c]=g;delete b.$extCollectionIndex}this.generation++;this.indexGeneration=
this.generation;this.fireEvent("sort",this,b,d)},findInsertionIndex:function(a,b){var c=this.items,d=0,e=c.length-1,g,h;for(b||(b=this.generateComparator());d<=e;){g=d+e>>1;h=b(a,c[g]);h>=0?d=g+1:h<0&&(e=g-1)}return d},reorder:function(a){var b=this.items,c=0,d=b.length,e=[],g=[],h;this.suspendEvents();for(h in a)e[a[h]]=b[h];for(c=0;c<d;c++)a[c]==void 0&&g.push(b[c]);for(c=0;c<d;c++)e[c]==void 0&&(e[c]=g.shift());this.clear();this.addAll(e);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(a,
b){this._sort("key",a,b||function(a,b){var e=(""+a).toUpperCase(),g=(""+b).toUpperCase();return e>g?1:e<g?-1:0})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0);Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:!0,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0);
Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(a,b,c){c==void 0&&(c=b==="x"?a.getX():b==="y"?a.getY():b==="scrollTop"?a.getScroll().top:b==="scrollLeft"?a.getScroll().left:b==="height"?a.getHeight():b==="width"?a.getWidth():a.getStyle(b));return c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b=a.length,c,d,e,g,h,i;for(g=0;g<b;g++){c=a[g].attrs;for(d in c)if(c.hasOwnProperty(d)){i=c[d].length;for(h=
0;h<i;h++){e=c[d][h];this.setElVal(e[0],d,e[1])}}}},setElVal:function(a,b,c){b==="x"?a.setX(c):b==="y"?a.setY(c):b==="scrollTop"?a.scrollTo("top",c):b==="scrollLeft"?a.scrollTo("left",c):b==="width"?a.setWidth(c):b==="height"?a.setHeight(c):a.setStyle(b,c)}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0);
Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(a,b){var c=[],d=[],e=[],g=a.length,h,i,j,k,l,m;for(l=0;l<g;l++){h=a[l];k=h.duration;j=h.easing;h=h.attrs;for(i in h)if(Ext.Array.indexOf(c,i)==-1){c.push(i.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));d.push(k+"ms");e.push(j)}}c=c.join(",");k=d.join(",");j=e.join(", ");for(l=0;l<g;l++){h=a[l].attrs;for(i in h){m=h[i].length;for(e=0;e<m;e++){d=h[i][e];d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",
b?"":c);d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":k);d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":j);d[0].setStyle(i,d[1]);if(b)d=d[0].dom.offsetWidth;else d[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},d[0],{single:true})}}}}},0,0,0,0,0,0,[Ext.fx.target,
"ElementCSS"],0);
Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,b){var c=[],d=this.target,e=d.elements,g=e.length,h,i;for(h=0;h<g;h++)if(i=e[h]){i=d.getElement(i);c.push([i,this.getElVal(i,a,b)])}return c},setAttr:function(a){var b=this.target,c=a.length,d=b.elements,e=d.length,g,h,i,j,k,l,m;for(k=0;k<c;k++){i=a[k].attrs;for(j in i)if(i.hasOwnProperty(j)){m=i[j].length;for(l=
0;l<m;l++){g=i[j][l][1];for(h=0;h<e;++h)if(el=d[h]){el=b.getElement(el);this.setElVal(el,j,g)}}}}}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0);Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0);
Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(a,b){var c;switch(b){case "rotate":case "rotation":c=a.attr.rotation;return{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case "scale":case "scaling":c=a.attr.scaling;return{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case "translate":case "translation":c=a.attr.translation;return{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,b!=void 0?b:this.getFromPrim(this.target,a)]]},
setAttr:function(a){var b=a.length,c=[],d,e,g,h,i,j,k,l,m,n;for(k=0;k<b;k++){d=a[k].attrs;for(e in d){g=d[e];n=g.length;for(l=0;l<n;l++){i=g[l][0];h=g[l][1];if(e==="translate"||e==="translation")j={x:h.x,y:h.y};else if(e==="rotate"||e==="rotation"){j=h.x;isNaN(j)&&(j=null);m=h.y;isNaN(m)&&(m=null);j={degrees:h.degrees,x:j,y:m}}else if(e==="scale"||e==="scaling"){j=h.x;isNaN(j)&&(j=null);m=h.y;isNaN(m)&&(m=null);j={x:j,y:m,cx:h.cx,cy:h.cy}}else j=e==="width"||e==="height"||e==="x"||e==="y"?parseFloat(h):
h;h=Ext.Array.indexOf(c,i);if(h==-1){c.push([i,{}]);h=c.length-1}c[h][1][e]=j}}}b=c.length;for(k=0;k<b;k++)c[k][0].setAttributes(c[k][1]);this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0);Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(a,b){var c=[],d=[].concat(this.target.items),e=d.length,g,h;for(g=0;g<e;g++){h=d[g];c.push([h,b!=void 0?b:this.getFromPrim(h,a)])}return c}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0);
Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",
height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==void 0?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){var b=a.length,d,e,g,h,i,j,k={},l;for(h=0;h<b;h++){d=a[h].attrs;for(e in d){j=d[e].length;for(i=0;i<j;i++){g=d[e][i];l=k[this.setMethods[e]]||(k[this.setMethods[e]]={});l.target=g[0];l[e]=g[1]}}if(k.setPosition){g=k.setPosition;d=g.left===void 0?void 0:parseFloat(g.left);i=g.top===void 0?void 0:parseFloat(g.top);g.target.setPosition(d,
i)}if(k.setPagePosition){g=k.setPagePosition;g.target.setPagePosition(g.x,g.y)}if(k.setSize){g=k.setSize;d=g.width===void 0?g.target.getWidth():parseFloat(g.width);i=g.height===void 0?g.target.getHeight():parseFloat(g.height);g.target.el.setSize(d,i);if(c||this.dynamic)Ext.globalEvents.on({idle:Ext.Function.bind(g.target.setSize,g.target,[d,i]),single:true})}if(k.setOpacity){g=k.setOpacity;g.target.el.setStyle("opacity",g.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0);
Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(a){return(a=this.targets.get(a))?a.fxDefaults:{}},setFxDefaults:function(a,b){var c=this.targets.get(a);if(c)c.fxDefaults=Ext.apply(c.fxDefaults||{},b)},stopAnimation:function(a){for(var a=this.getFxQueue(a),b=a.length;b;){a[b-1].end();b--}},getActiveAnimation:function(a){return(a=this.getFxQueue(a))&&a.length?a[0]:false},hasFxBlock:function(a){return(a=this.getFxQueue(a))&&
a[0]&&a[0].block},getFxQueue:function(a){if(!a)return false;var b=this,c=b.fxQueue[a],d=b.targets.get(a);if(!d)return false;if(!c){b.fxQueue[a]=[];if(d.type!="element")d.target.on("destroy",function(){b.fxQueue[a]=[]})}return b.fxQueue[a]},queueFx:function(a){var b=this,c=a.target,d,e;if(c){d=b.getFxQueue(c.getId());if(e=d.length)if(a.concurrent)a.paused=false;else d[e-1].on("afteranimate",function(){a.paused=false});else a.paused=false;a.on("afteranimate",function(){Ext.Array.remove(d,a);d.length===
0&&b.targets.remove(a.target);if(a.remove&&c.type=="element"){var e=Ext.get(c.id);e&&e.remove()}},b,{single:true});d.push(a)}}},1,0,0,0,0,0,[Ext.fx,"Queue"],0);
Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:!0,constructor:function(){this.items=new Ext.util.MixedCollection;this.mixins.queue.constructor.call(this);this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(a){var b=!this.forceJS&&Ext.supports.Transitions;this.useCSS3=b;if(a){if(a.tagName||Ext.isString(a)||a.isFly){a=Ext.get(a);a=new Ext.fx.target["Element"+(b?"CSS":"")](a)}else if(a.dom)a=new Ext.fx.target["Element"+(b?"CSS":"")](a);else if(a.isComposite)a=new Ext.fx.target["CompositeElement"+
(b?"CSS":"")](a);else if(a.isSprite)a=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)a=new Ext.fx.target.CompositeSprite(a);else if(a.isComponent)a=new Ext.fx.target.Component(a);else return a.isAnimTarget?a:null;this.targets.add(a);return a}return null},addAnim:function(a){var b=this.items,c=this.task;b.add(a.id,a);if(!c&&b.length){c=this.task={run:this.runner,interval:this.interval,scope:this};this.taskRunner.start(c)}},removeAnim:function(a){var b=this.items,c=this.task;b.removeAtKey(a.id);
if(c&&!b.length){this.taskRunner.stop(c);delete this.task}},runner:function(){var a=this.items.getRange(),b=0,c=a.length,d;this.targetArr={};for(this.timestamp=new Date;b<c;b++){d=a[b];d.isReady()&&this.startAnim(d)}for(b=0;b<c;b++){d=a[b];d.isRunning()&&this.runAnim(d)}this.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(a){var b=this.useCSS3&&a.target.type=="element",c=this.timestamp-a.startTime,d=c>=a.duration,c=this.collectTargetData(a,c,b,d);if(b){a.target.setAttr(c.anims[a.id].attributes,
true);this.collectTargetData(a,a.duration,b,d);a.paused=true;c=a.target.target;a.target.isComposite&&(c=a.target.target.last());b={};b[Ext.supports.CSS3TransitionEnd]=a.lastFrame;b.scope=a;b.single=true;c.on(b)}}},collectTargetData:function(a,b,c,d){var e=a.target.getId(),g=this.targetArr[e];g||(g=this.targetArr[e]={id:e,el:a.target,anims:{}});g.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};
return g},applyPendingAttrs:function(){var a=this.targetArr,b,c,d,e,g;for(c in a)if(a.hasOwnProperty(c)){b=a[c];for(g in b.anims)if(b.anims.hasOwnProperty(g)){d=b.anims[g];e=d.anim;if(d.attributes&&e.isRunning()){b.el.setAttr(d.attributes,false,d.isLastFrame);d.isLastFrame&&e.lastFrame()}}}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0);
Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){this.config=a=Ext.apply(this,a||{});this.id=Ext.id(null,"ext-animator-");this.addEvents("beforeanimate","keyframe","afteranimate");this.mixins.observable.constructor.call(this,a);this.timeline=[];this.createTimeline(this.keyframes);if(this.target){this.applyAnimator(this.target);
Ext.fx.Manager.addAnim(this)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b=[],c=this.to||{},d=this.duration,e,g;for(e in a)if(a.hasOwnProperty(e)&&this.animKeyFramesRE.test(e)){g={attrs:Ext.apply(a[e],c)};e=="from"?e=0:e=="to"&&(e=100);g.pct=parseInt(e,10);b.push(g)}Ext.Array.sort(b,this.sorter);g=b.length;for(e=0;e<g;e++){a=b[e-1]?d*(b[e-1].pct/100):0;c=d*(b[e].pct/100);this.timeline.push({duration:c-a,attrs:b[e].attrs})}},applyAnimator:function(a){var b=[],c=this.timeline,
d=c.length,e,g,h,i,j;if(this.fireEvent("beforeanimate",this)!==false){for(j=0;j<d;j++){e=c[j];i=e.attrs;g=i.easing||this.easing;h=i.damper||this.damper;delete i.easing;delete i.damper;e=new Ext.fx.Anim({target:a,easing:g,damper:h,duration:e.duration,paused:true,to:i});b.push(e)}this.animations=b;this.target=e.target;for(j=0;j<d-1;j++){e=b[j];e.nextAnim=b[j+1];e.on("afteranimate",function(){this.nextAnim.paused=false});e.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},
this)}b[d-1].on("afteranimate",function(){this.lastFrame()},this)}},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+b)}else{this.delayStart=a;return}if(this.fireEvent("beforeanimate",this)!==false){this.startTime=a;this.running=true;this.animations[this.keyframeStep].paused=false}},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;if(b<a){this.startTime=new Date;this.currentIteration=b;this.keyframeStep=0;this.applyAnimator(this.target);
this.animations[this.keyframeStep].paused=false}else{this.currentIteration=0;this.end()}},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0);
Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:!0,cubicBezierAtTime:function(a,b,c,d,e,g){function h(a,b){var c,d,e,g;e=a;for(d=0;d<8;d++){g=((k*e+j)*e+i)*e-a;if(Math.abs(g)<b)return e;c=(3*k*e+2*j)*e+i;if(Math.abs(c)<1.0E-6)break;e=e-g/c}c=0;d=1;e=a;if(e<c)return c;if(e>d)return d;for(;c<d;){g=((k*e+j)*e+i)*e;if(Math.abs(g-a)<b)break;a>g?c=e:d=e;e=(d-c)/2+c}return e}var i=3*b,j=3*(d-b)-i,k=1-i-j,l=3*c,m=3*(e-c)-l,n=1-l-m;return function(a,b){var c=h(a,b);return((n*c+m)*c+l)*c}(a,1/(200*
g))},cubicBezier:function(a,b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,a,b,c,d,1)};e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join()+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)};return e}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0);
Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,g=a.abs;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(a){var b=0.07813-a/2,d=e(0.0066+b*b),a=d-b,a=c(g(a),1/3)*(a<0?-1:1),b=-d-b,b=c(g(b),1/3)*(b<0?-1:1),a=a+b+0.25;return c(1-a,2)*3*a*0.1+(1-a)*3*a*a+a*a*a},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,0.48)},easeInOut:function(a){var b=0.48-a/1.04,d=e(0.1734+b*b),a=d-b,a=c(g(a),1/3)*(a<0?-1:1),b=-d-b,b=c(g(b),
1/3)*(b<0?-1:1),a=a+b+0.5;return(1-a)*3*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a=a-1;return a*a*(2.70158*a+1.70158)+1},elasticIn:function(a){return a===0||a===1?a:c(2,-10*a)*d((a-0.075)*2*b/0.3)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){if(a<1/2.75)a=7.5625*a*a;else if(a<2/2.75){a=a-1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a=a-2.25/2.75;a=7.5625*
a*a+0.9375}else{a=a-2.625/2.75;a=7.5625*a*a+0.984375}return a}},function(){var a=Ext.fx.Easing.self,b=a.prototype;a.implement({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})})});
Ext.cmd.derive("Ext.draw.Color",Ext.Base,{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(a,b,c){var d=Ext.Number.constrain;this.r=d(a,0,255);this.g=d(b,0,255);this.b=d(c,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){return[this.r,
this.g,this.b]},getHSL:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=Math.min(a,b,c),g=d-e,h,i=0,j=0.5*(d+e);if(e!=d){i=j<0.5?g/(d+e):g/(2-d-e);h=a==d?60*(b-c)/g:b==d?120+60*(c-a)/g:240+60*(a-b)/g;h<0&&(h=h+360);h>=360&&(h=h-360)}return[h,i,j]},getLighter:function(a){var b=this.getHSL(),a=a||this.lightnessFactor;b[2]=Ext.Number.constrain(b[2]+a,0,1);return this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var a=
Math.round,b=a(this.r).toString(16),c=a(this.g).toString(16),a=a(this.b).toString(16),b=b.length==1?"0"+b:b,c=c.length==1?"0"+c:c,a=a.length==1?"0"+a:a;return["#",b,c,a].join("")},toHex:function(a){Ext.isArray(a)&&(a=a[0]);if(!Ext.isString(a))return"";if(a.substr(0,1)==="#")return a;var b=this.colorToHexRe.exec(a),c,d;if(Ext.isArray(b)){a=parseInt(b[2],10);c=parseInt(b[3],10);d=parseInt(b[4],10);return b[1]+"#"+("000000"+(d|c<<8|a<<16).toString(16)).slice(-6)}return a},fromString:function(a){var b,
c,d,e,g=parseInt;if((a.length==4||a.length==7)&&a.substr(0,1)==="#"){if(b=a.match(this.hexRe)){c=g(b[1],16)>>0;d=g(b[2],16)>>0;e=g(b[3],16)>>0;if(a.length==4){c=c+c*16;d=d+d*16;e=e+e*16}}}else if(b=a.match(this.rgbRe)){c=b[1];d=b[2];e=b[3]}return typeof c=="undefined"?void 0:new Ext.draw.Color(c,d,e)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(a,b,c){var d,e=[];d=Math.abs;var g=Math.floor;if(b==0||a==null)e=[c,c,c];else{a=a/60;b=b*(1-d(2*c-1));d=b*(1-d(a-2*
g(a/2)-1));c=c-b/2;switch(g(a)){case 0:e=[b,d,0];break;case 1:e=[d,b,0];break;case 2:e=[0,b,d];break;case 3:e=[0,d,b];break;case 4:e=[d,0,b];break;case 5:e=[b,0,d]}e=[e[0]+c,e[1]+c,e[2]+c]}return new Ext.draw.Color(e[0]*255,e[1]*255,e[2]*255)}},3,0,0,0,0,0,[Ext.draw,"Color"],function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});
Ext.cmd.derive("Ext.draw.Draw",Ext.Base,{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,
"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){b=(""+b).toLowerCase();return b=="object"&&a===Object(a)||b=="undefined"&&typeof a==b||b=="null"&&a===null||b=="array"&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},ellipsePath:function(a){a=a.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(a){a=a.attr;return a.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",
a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",a.x,a.y,a.width+a.x,a.height+a.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;d.is(a,"array")&&
d.is(a[0],"array")&&(c=d.pathClone(a));c.length||(""+a).replace(d.pathCommandRE,function(a,g,h){var i=[],a=g.toLowerCase();h.replace(d.pathValuesRE,function(a,b){b&&i.push(+b)});if(a=="m"&&i.length>2){c.push([g].concat(Ext.Array.splice(i,0,2)));a="l";g=g=="m"?"l":"L"}for(;i.length>=b[a];){c.push([g].concat(Ext.Array.splice(i,0,b[a])));if(!b[a])break}});c.toString=d.path2string;return c},mapPath:function(a,b){if(!b)return a;var c,d,e,g,h,i,j,a=this.path2curve(a);e=0;for(g=a.length;e<g;e++){j=a[e];
h=1;for(i=j.length;h<i-1;h=h+2){c=b.x(j[h],j[h+1]);d=b.y(j[h],j[h+1]);j[h]=c;j[h+1]=d}}return a},pathClone:function(a){var b=[],c,d,e,g;if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);e=0;for(g=a.length;e<g;e++){b[e]=[];c=0;for(d=a[e].length;c<d;c++)b[e][c]=a[e][c]}b.toString=this.path2string;return b},pathToAbsolute:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);var b=[],c=0,d=0,e=0,g=0,h=0,i=a.length,j,k,l,m;if(i&&a[0][0]=="M"){c=
+a[0][1];d=+a[0][2];e=c;g=d;h++;b[0]=["M",c,d]}for(;h<i;h++){j=b[h]=[];k=a[h];if(k[0]!=k[0].toUpperCase()){j[0]=k[0].toUpperCase();switch(j[0]){case "A":j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];j[6]=+(k[6]+c);j[7]=+(k[7]+d);break;case "V":j[1]=+k[1]+d;break;case "H":j[1]=+k[1]+c;break;case "M":e=+k[1]+c;g=+k[2]+d;default:l=1;for(m=k.length;l<m;l++)j[l]=+k[l]+(l%2?c:d)}}else{l=0;for(m=k.length;l<m;l++)b[h][l]=k[l]}switch(j[0]){case "Z":c=e;d=g;break;case "H":c=j[1];break;case "V":d=j[1];break;
case "M":k=b[h];m=k.length;e=k[m-2];g=k[m-1];default:k=b[h];m=k.length;c=k[m-2];d=k[m-1]}}b.toString=this.path2string;return b},pathToRelative:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);var b=[],c=0,d=0,e=0,g=0,h=0,i,j,k,l,m;if(a[0][0]=="M"){c=a[0][1];d=a[0][2];e=c;g=d;h++;b.push(["M",c,d])}for(l=a.length;h<l;h++){i=b[h]=[];j=a[h];if(j[0]!=j[0].toLowerCase()){i[0]=j[0].toLowerCase();switch(i[0]){case "a":i[1]=j[1];i[2]=j[2];i[3]=j[3];i[4]=j[4];i[5]=j[5];
i[6]=+(j[6]-c).toFixed(3);i[7]=+(j[7]-d).toFixed(3);break;case "v":i[1]=+(j[1]-d).toFixed(3);break;case "m":e=j[1];g=j[2];default:k=1;for(m=j.length;k<m;k++)i[k]=+(j[k]-(k%2?c:d)).toFixed(3)}}else{b[h]=[];if(j[0]=="m"){e=j[1]+c;g=j[2]+d}i=0;for(k=j.length;i<k;i++)b[h][i]=j[i]}j=b[h].length;switch(b[h][0]){case "z":c=e;d=g;break;case "h":c=c+ +b[h][j-1];break;case "v":d=d+ +b[h][j-1];break;default:c=c+ +b[h][j-2];d=d+ +b[h][j-1]}}b.toString=this.path2string;return b},path2curve:function(a){var a=this.pathToAbsolute(a),
b=a.length,c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d,e,g;for(d=0;d<b;d++){a[d]=this.command2curve(a[d],c);if(a[d].length>7){a[d].shift();for(b=a[d];b.length;)Ext.Array.splice(a,d++,0,["C"].concat(Ext.Array.splice(b,0,6)));Ext.Array.erase(a,d,1);b=a.length;d--}e=a[d];g=e.length;c.x=e[g-2];c.y=e[g-1];c.bx=parseFloat(e[g-4])||c.x;c.by=parseFloat(e[g-3])||c.y}return a},interpolatePaths:function(a,b){var c=this.pathToAbsolute(a),d=this.pathToAbsolute(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},
g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){if(a[b].length>7){a[b].shift();for(var e=a[b];e.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(a,b,1);k=Math.max(c.length,d.length||0)}},i=function(a,b,e,g,h){if(a&&b&&a[h][0]=="M"&&b[h][0]!="M"){Ext.Array.splice(b,h,0,["M",g.x,g.y]);e.bx=0;e.by=0;e.x=a[h][1];e.y=a[h][2];k=Math.max(c.length,d.length||0)}},j,k,l,m,n,p;j=0;for(k=Math.max(c.length,d.length||0);j<k;j++){c[j]=this.command2curve(c[j],
e);h(c,j);d[j]=this.command2curve(d[j],g);h(d,j);i(c,d,e,g,j);i(d,c,g,e,j);l=c[j];m=d[j];n=l.length;p=m.length;e.x=l[n-2];e.y=l[n-1];e.bx=parseFloat(l[n-4])||e.x;e.by=parseFloat(l[n-3])||e.y;g.bx=parseFloat(m[p-4])||g.x;g.by=parseFloat(m[p-3])||g.y;g.x=m[p-2];g.y=m[p-1]}return[c,d]},command2curve:function(a,b){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];if(a[0]!="T"&&a[0]!="Q")b.qx=b.qy=null;switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(this.arc2curve.apply(this,[b.x,b.y].concat(a.slice(1))));
break;case "S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(this.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(this.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case "H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case "V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;
case "Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,g){var h=1/3,i=2/3;return[h*a+i*c,h*b+i*d,h*e+i*c,h*g+i*d,e,g]},rotate:function(a,b,c){var d=Math.cos(c),c=Math.sin(c);return{x:a*d-b*c,y:a*c+b*d}},arc2curve:function(a,b,c,d,e,g,h,i,j,k){var l=Math.PI,m=l*120/180,n=this.radian*(+e||0),p=[],o=Math,q=o.cos,r=o.sin,t=o.sqrt,s=o.abs,u=o.asin,v,B,y,w;if(k){v=k[0];u=k[1];g=k[2];t=k[3]}else{v=this.rotate(a,b,-n);a=v.x;b=v.y;v=this.rotate(i,j,-n);i=v.x;j=v.y;v=
(a-i)/2;B=(b-j)/2;y=v*v/(c*c)+B*B/(d*d);if(y>1){y=t(y);c=y*c;d=y*d}y=c*c;w=d*d;t=(g==h?-1:1)*t(s((y*w-y*B*B-w*v*v)/(y*B*B+w*v*v)));g=t*c*B/d+(a+i)/2;t=t*-d*v/c+(b+j)/2;v=u(((b-t)/d).toFixed(7));u=u(((j-t)/d).toFixed(7));v=a<g?l-v:v;u=i<g?l-u:u;v<0&&(v=l*2+v);u<0&&(u=l*2+u);h&&v>u&&(v=v-l*2);!h&&u>v&&(u=u-l*2)}if(s(u-v)>m){p=u;l=i;s=j;u=v+m*(h&&u>v?1:-1);i=g+c*q(u);j=t+d*r(u);p=this.arc2curve(i,j,c,d,e,0,h,l,s,[u,p,g,t])}m=u-v;e=q(v);h=r(v);q=q(u);r=r(u);o=o.tan(m/4);c=4/3*c*o;o=4/3*d*o;d=[a,b];a=
[a+c*h,b-o*e];b=[i+c*r,j-o*q];i=[i,j];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(k)return[a,b,i].concat(p);p=[a,b,i].concat(p).join().split(",");k=[];j=p.length;for(i=0;i<j;i++)k[i]=i%2?this.rotate(p[i-1],p[i],n).y:this.rotate(p[i],p[i+1],n).x;return k},rotateAndTranslatePath:function(a){var b=a.rotation.degrees,c=a.rotation.x,d=a.rotation.y,e=a.translation.x,g=a.translation.y,h,i,j,k,l=[];if(!b&&!e&&!g)return this.pathToAbsolute(a.attr.path);e=e||0;g=g||0;a=this.pathToAbsolute(a.attr.path);for(h=a.length;h--;){i=
l[h]=a[h].slice();if(i[0]=="A"){j=this.rotatePoint(i[6],i[7],b,c,d);i[6]=j.x+e;i[7]=j.y+g}else for(k=1;i[k+1]!=null;){j=this.rotatePoint(i[k],i[k+1],b,c,d);i[k]=j.x+e;i[k+1]=j.y+g;k=k+2}}return l},rotatePoint:function(a,b,c,d,e){if(!c)return{x:a,y:b};var d=d||0,e=e||0,a=a-d,b=b-e,c=c*this.radian,g=Math.cos(c),c=Math.sin(c);return{x:a*g-b*c+d,y:a*c+b*g+e}},pathDimensions:function(a){if(!a||!(a+""))return{x:0,y:0,width:0,height:0};for(var a=this.path2curve(a),b=0,c=0,d=[],e=[],g=0,h=a.length,i;g<h;g++){i=
a[g];if(i[0]=="M"){b=i[1];c=i[2];d.push(b);e.push(c)}else{b=this.curveDim(b,c,i[1],i[2],i[3],i[4],i[5],i[6]);d=d.concat(b.min.x,b.max.x);e=e.concat(b.min.y,b.max.y);b=i[5];c=i[6]}}g=Math.min.apply(0,d);h=Math.min.apply(0,e);d=Math.max.apply(0,d);e=Math.max.apply(0,e);return{x:Math.round(g),y:Math.round(h),path:a,width:Math.round(d-g),height:Math.round(e-h)}},intersectInside:function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])>(c[1]-b[1])*(a[0]-b[0])},intersectIntersection:function(a,b,c,d){var e=[],g=c[0]-
d[0],h=c[1]-d[1],i=a[0]-b[0],j=a[1]-b[1],c=c[0]*d[1]-c[1]*d[0],a=a[0]*b[1]-a[1]*b[0],b=1/(g*j-h*i);e[0]=(c*i-a*g)*b;e[1]=(c*j-a*h)*b;return e},intersect:function(a,b){for(var c=0,d=b.length,e=b[d-1],g=a,h,i,j,k,l,m;c<d;++c){h=b[c];l=g;g=[];i=l[l.length-1];m=0;for(k=l.length;m<k;m++){j=l[m];if(this.intersectInside(j,e,h)){this.intersectInside(i,e,h)||g.push(this.intersectIntersection(i,j,e,h));g.push(j)}else this.intersectInside(i,e,h)&&g.push(this.intersectIntersection(i,j,e,h));i=j}e=h}return g},
bezier:function(a,b,c,d,e){if(e===0)return a;if(e===1)return d;var g=1-e,e=e/g;return g*g*g*(a+e*(3*b+e*(3*c+d*e)))},bezierDim:function(a,b,c,d){var e=[],g,h,i,j;if(a+3*c==d+3*b){g=(a-b)/(2*(a-b-b+c));g<1&&g>0&&e.push(g)}else{h=a-3*b+3*c-d;i=2*(a-b-b+c);g=i*i-4*h*(a-b);h=h+h;if(g===0){g=i/h;g<1&&g>0&&e.push(g)}else if(g>0){j=Math.sqrt(g);g=(j+i)/h;g<1&&g>0&&e.push(g);g=(i-j)/h;g<1&&g>0&&e.push(g)}}i=Math.min(a,d);h=Math.max(a,d);for(g=0;g<e.length;g++){i=Math.min(i,this.bezier(a,b,c,d,e[g]));h=Math.max(h,
this.bezier(a,b,c,d,e[g]))}return[i,h]},curveDim:function(a,b,c,d,e,g,h,i){a=this.bezierDim(a,c,e,h);b=this.bezierDim(b,d,g,i);return{min:{x:a[0],y:b[0]},max:{x:a[1],y:b[1]}}},getAnchors:function(a,b,c,d,e,g,h){var h=h||4,i=Math,j=i.PI,k=j/2,l=i.abs,m=i.sin,n=i.cos,p=i.atan,i=(c-a)/h,h=(e-c)/h;if(d>=b&&d>=g||d<=b&&d<=g)a=e=k;else{a=p((c-a)/l(d-b));b<d&&(a=j-a);e=p((e-c)/l(d-g));g<d&&(e=j-e)}p=k-(a+e)%(j*2)/2;p>k&&(p=p-j);a=a+p;e=e+p;j=c-i*m(a);k=d+i*n(a);m=c+h*m(e);n=d+h*n(e);if(d>b&&k<b||d<b&&k>
b){j=j+l(b-k)*(j-c)/(k-d);k=b}if(d>g&&n<g||d<g&&n>g){m=m-l(g-n)*(m-c)/(n-d);n=g}return{x1:j,y1:k,x2:m,y2:n}},smooth:function(a,b){for(var c=this.path2curve(a),d=[c[0]],e=c[0][1],g=c[0][2],h,i=1,j=c.length,k=1,l=e,m=g,n,p,o,q,r;i<j;i++){n=c[i];p=n.length;h=c[i-1];o=h.length;r=(q=c[i+1])&&q.length;if(n[0]=="M"){l=n[1];m=n[2];for(e=i+1;c[e][0]!="C";)e++;d.push(["M",l,m]);k=d.length;e=l;g=m}else{if(n[p-2]==l&&n[p-1]==m&&(!q||q[0]=="M")){q=d[k].length;h=this.getAnchors(h[o-2],h[o-1],l,m,d[k][q-2],d[k][q-
1],b);d[k][1]=h.x2;d[k][2]=h.y2}else h=!q||q[0]=="M"?{x1:n[p-2],y1:n[p-1]}:this.getAnchors(h[o-2],h[o-1],n[p-2],n[p-1],q[r-2],q[r-1],b);d.push(["C",e,g,h.x1,h.y1,n[p-2],n[p-1]]);e=h.x2;g=h.y2}}return d},findDotAtSegment:function(a,b,c,d,e,g,h,i,j){var k=1-j;return{x:Math.pow(k,3)*a+Math.pow(k,2)*3*j*c+k*3*j*j*e+Math.pow(j,3)*h,y:Math.pow(k,3)*b+Math.pow(k,2)*3*j*d+k*3*j*j*g+Math.pow(j,3)*i}},snapEnds:function(a,b,c,d){if(Ext.isDate(a))return this.snapEndsByDate(a,b,c);var e=(b-a)/c,g=Math.floor(Math.log(e)/
Math.LN10)+1,h=Math.pow(10,g),i,j=Math.round(e%h*Math.pow(10,2-g)),k=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],l=0,m,n=1E9,p=k.length;i=Math.floor(a/h)*h;a==i&&i>0&&(i=Math.floor((a-h/10)/h)*h);if(d){for(h=0;h<p;h++){c=k[h][0];d=c-j<0?1E6:(c-j)/k[h][1];if(d<n){m=c;n=d}}e=Math.floor(e*Math.pow(10,-g))*Math.pow(10,g)+m*Math.pow(10,g-2);if(a<0&&b>=0){for(i=0;i>a;){i=i-e;l++}a=+i.toFixed(10);for(i=0;i<b;){i=i+e;l++}i.toFixed(10)}else for(i=a=i;i<b;){i=i+e;l++}b=+i.toFixed(10)}else{a=i;l=c}return{from:a,
to:b,power:g,step:e,steps:l}},snapEndsByDate:function(a,b,c,d){var e=false,g=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],h=g.length,i=false,j,k,l;for(l=0;l<h;l++){j=g[l];if(!i)for(k=0;k<j[1].length;k++)if(b<Ext.Date.add(a,j[0],j[1][k]*c)){e=[j[0],j[1][k]];i=true;break}}if(!e){c=this.snapEnds(a.getFullYear(),b.getFullYear()+1,c,d);e=[Date.YEAR,
Math.round(c.step)]}return this.snapEndsByDateAndStep(a,b,e,d)},snapEndsByDateAndStep:function(a,b,c,d){var e=[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()],g,h,i,j,k,l=c[0],c=c[1];if(d)e=a;else switch(l){case Ext.Date.MILLI:e=new Date(e[0],e[1],e[2],e[3],e[4],e[5],Math.floor(e[6]/c)*c);break;case Ext.Date.SECOND:e=new Date(e[0],e[1],e[2],e[3],e[4],Math.floor(e[5]/c)*c,0);break;case Ext.Date.MINUTE:e=new Date(e[0],e[1],e[2],e[3],Math.floor(e[4]/
c)*c,0,0);break;case Ext.Date.HOUR:e=new Date(e[0],e[1],e[2],Math.floor(e[3]/c)*c,0,0,0);break;case Ext.Date.DAY:e=new Date(e[0],e[1],Math.floor((e[2]-1)/c)*c+1,0,0,0,0);break;case Ext.Date.MONTH:e=new Date(e[0],Math.floor(e[1]/c)*c,1,0,0,0,0);break;default:e=new Date(Math.floor(e[0]/c)*c,0,1,0,0,0,0)}a=(k=l===Ext.Date.MONTH&&(c==0.5||c==1/3||c==0.25))?[]:0;for(g=new Date(e);g<b;)if(k){h=new Date(g);i=h.getFullYear();j=h.getMonth();h=h.getDate();switch(c){case 0.5:if(h>=15){h=1;++j>11&&i++}else h=
15;break;case 1/3:if(h>=20){h=1;++j>11&&i++}else h=h>=10?20:10;break;case 0.25:if(h>=22){h=1;++j>11&&i++}else h=h>=15?22:h>=8?15:8}g.setYear(i);g.setMonth(j);g.setDate(h);a.push(new Date(g))}else{g=Ext.Date.add(g,l,c);a++}d&&(g=b);return k?{from:+e,to:+g,steps:a}:{from:+e,to:+g,step:(g-e)/a,steps:a}},sorter:function(a,b){return a.offset-b.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(a,b,c){c=c||{};return a>=c.x&&a<=c.x+c.width&&
b>=c.y&&b<=c.y+c.height},parseGradient:function(a){var b=a.type||"linear",c=a.angle||0,d=this.radian,e=a.stops,g=[],h,i;if(b=="linear"){i=[0,0,Math.cos(c*d),Math.sin(c*d)];c=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1);i[2]=i[2]*c;i[3]=i[3]*c;if(i[2]<0){i[0]=-i[2];i[2]=0}if(i[3]<0){i[1]=-i[3];i[3]=0}}for(h in e)if(e.hasOwnProperty(h)&&this.stopsRE.test(h)){c={offset:parseInt(h,10),color:Ext.draw.Color.toHex(e[h].color)||"#ffffff",opacity:e[h].opacity||1};g.push(c)}Ext.Array.sort(g,this.sorter);
return b=="linear"?{id:a.id,type:b,vector:i,stops:g}:{id:a.id,type:b,centerX:a.centerX,centerY:a.centerY,focalX:a.focalX,focalY:a.focalY,radius:a.radius,vector:i,stops:g}}},0,0,0,0,0,0,[Ext.draw,"Draw"],0);
Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){var c=typeof c=="number"?c:1,g=this.unitRE,h=g.exec(a),i;if(h){a=h[1];i=h[2];!this.scrollRE.test(e)&&(!i&&this.pixelDefaultsRE.test(e))&&(i="px")}a=+a||0;if(h=g.exec(b)){b=h[1];i=h[2]||i}return{from:a,delta:((+b||0)-(d!=null?d:a))*c,units:i}},get:function(a,b,
c,d,e){var g=a.length,h=[],i,j,k,l,m;for(i=0;i<g;i++){if(d)j=d[i][1].from;if(Ext.isArray(a[i][1])&&Ext.isArray(b)){k=[];l=0;for(m=a[i][1].length;l<m;l++)k.push(this.computeDelta(a[i][1][l],b[l],c,j,e));h.push([a[i][0],k])}else h.push([a[i][0],this.computeDelta(a[i][1],b,c,j,e)])}return h},set:function(a,b){var c=a.length,d=[],e,g,h,i,j;for(e=0;e<c;e++){g=a[e][1];if(Ext.isArray(g)){h=[];j=0;for(i=g.length;j<i;j++)h.push(g[j].from+g[j].delta*b+(g[j].units||0));d.push([a[e][0],h])}else d.push([a[e][0],
g.from+g.delta*b+(g.units||0)])}return d}},stringHandler:{computeDelta:function(a,b){return{from:a,delta:b}},get:function(a,b,c,d,e){var d=a.length,g=[],h;for(h=0;h<d;h++)g.push([a[h][0],this.computeDelta(a[h][1],b,c,void 0,e)]);return g},set:function(a){var b=a.length,c=[],d,e;for(d=0;d<b;d++){e=a[d][1];c.push([a[d][0],e.delta])}return c}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,
parseColor:function(a){var b=false,c=[this.hexRE,this.rgbRE,this.hex3RE],d=c.length,e,g,h;for(h=0;h<d;h++){e=c[h];g=h%2===0?16:10;if((e=e.exec(a))&&e.length===4){if(h===2){e[1]=e[1]+e[1];e[2]=e[2]+e[2];e[3]=e[3]+e[3]}b={red:parseInt(e[1],g),green:parseInt(e[2],g),blue:parseInt(e[3],g)};break}}return b||a},computeDelta:function(a,b,c,d){var a=this.parseColor(a),b=this.parseColor(b,c),d=d?d:a,e=typeof d,g=typeof b;return e=="string"||e=="undefined"||g=="string"||g=="undefined"?b||d:{from:a,delta:{red:Math.round((b.red-
d.red)*c),green:Math.round((b.green-d.green)*c),blue:Math.round((b.blue-d.blue)*c)}}},get:function(a,b,c,d){var e=a.length,g=[],h,i;for(h=0;h<e;h++){if(d)i=d[h][1].from;g.push([a[h][0],this.computeDelta(a[h][1],b,c,i)])}return g},set:function(a,b){var c=a.length,d=[],e,g,h,i;for(e=0;e<c;e++)if(g=a[e][1]){h=g.from;i=g.delta;g=typeof g=="object"&&"red"in g?"rgb("+g.red+", "+g.green+", "+g.blue+")":g;g=typeof g=="object"&&g.length?g[0]:g;if(typeof g=="undefined")return[];g=typeof g=="string"?g:"rgb("+
[(h.red+Math.round(i.red*b))%256,(h.green+Math.round(i.green*b))%256,(h.blue+Math.round(i.blue*b))%256].join()+")";d.push([a[e][0],g])}return d}},object:{interpolate:function(a,b){var b=typeof b=="number"?b:1,c={},d;for(d in a)c[d]=parseFloat(a[d])*b;return c},computeDelta:function(a,b,c,d){var a=this.interpolate(a),b=this.interpolate(b,c),c=d?d:a,d={},e;for(e in b)d[e]=b[e]-c[e];return{from:a,delta:d}},get:function(a,b,c,d){var e=a.length,g=[],h,i;for(h=0;h<e;h++){if(d)i=d[h][1].from;g.push([a[h][0],
this.computeDelta(a[h][1],b,c,i)])}return g},set:function(a,b){var c=a.length,d=[],e={},g,h,i,j;for(g=0;g<c;g++){i=a[g][1];h=i.from;i=i.delta;for(j in h)e[j]=h[j]+i[j]*b;d.push([a[g][0],e])}return d}},path:{computeDelta:function(a,b,c,d){a=+a||0;return{from:a,delta:((+b||0)-(d!=null?d:a))*(typeof c=="number"?c:1)}},forcePath:function(a){!Ext.isArray(a)&&!Ext.isArray(a[0])&&(a=Ext.draw.Draw.parsePathString(a));return a},get:function(a,b,c,d){var b=this.forcePath(b),e=[],g=a.length,h,i,j,k,l,m,n,p,
o;for(j=0;j<g;j++){o=this.forcePath(a[j][1]);k=Ext.draw.Draw.interpolatePaths(o,b);o=k[0];b=k[1];h=o.length;p=[];for(m=0;m<h;m++){k=[o[m][0]];i=o[m].length;for(n=1;n<i;n++){l=d&&d[0][1][m][n].from;k.push(this.computeDelta(o[m][n],b[m][n],c,l))}p.push(k)}e.push([a[j][0],p])}return e},set:function(a,b){var c=a.length,d=[],e,g,h,i,j,k,l,m;for(e=0;e<c;e++){k=a[e][1];i=[];l=k.length;for(g=0;g<l;g++){j=[k[g][0]];m=k[g].length;for(h=1;h<m;h++)j.push(k[g][h].from+k[g][h].delta*b);i.push(j.join(","))}d.push([a[e][0],
i.join(",")])}return d}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){for(var a=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],b=a.length,c=0,d;c<b;c++){d=a[c];this[d]=this.color}a=["cursor"];b=a.length;for(c=0;c<b;c++){d=a[c];this[d]=this.stringHandler}});
Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){a=a||{};if(a.keyframes)return new Ext.fx.Animator(a);Ext.apply(this,a);if(this.from===void 0)this.from={};this.propHandlers={};this.config=a;this.target=Ext.fx.Manager.createTarget(this.target);
this.easingFn=Ext.fx.Easing[this.easing];this.target.dynamic=this.dynamic;if(!this.easingFn)if((this.easingFn=(""+this.easing).match(this.bezierRE))&&this.easingFn.length==5){a=this.easingFn;this.easingFn=Ext.fx.CubicBezier.cubicBezier(+a[1],+a[2],+a[3],+a[4])}this.id=Ext.id(null,"ext-anim-");this.addEvents("beforeanimate","afteranimate","lastframe");this.mixins.observable.constructor.call(this);Ext.fx.Manager.addAnim(this)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,
a,b)},initAttrs:function(){var a=this.from,b=this.to,c=this.initialFrom||{},d={},e,g,h,i;for(i in b)if(b.hasOwnProperty(i)){e=this.target.getAttr(i,a[i]);g=b[i];h=Ext.fx.PropertyHandler[i]?this.propHandlers[i]=Ext.fx.PropertyHandler[i]:Ext.isObject(g)?this.propHandlers[i]=Ext.fx.PropertyHandler.object:this.propHandlers[i]=Ext.fx.PropertyHandler.defaultHandler;d[i]=h.get(e,g,this.damper,c[i],i)}this.currentAttrs=d},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+
b)}else{this.delayStart=a;return}if(this.fireEvent("beforeanimate",this)!==false){this.startTime=a;!this.paused&&!this.currentAttrs&&this.initAttrs();this.running=true;this.frameCount=0}},runAnim:function(a){var b=this.currentAttrs,c=this.duration,d=this.easingFn,e=this.propHandlers,g={},h,i,j,k;if(a>=c){a=c;k=true}this.reverse&&(a=c-a);for(j in b)if(b.hasOwnProperty(j)){i=b[j];h=k?1:d(a/c);g[j]=e[j].set(i,h)}this.frameCount++;return g},lastFrame:function(){var a=this.iterations,b=this.currentIteration;
b++;if(b<a){if(this.alternate)this.reverse=!this.reverse;this.startTime=new Date;this.currentIteration=b;this.paused=false}else{this.currentIteration=0;this.end();this.fireEvent("lastframe",this,this.startTime)}},endWasCalled:0,end:function(){if(!this.endWasCalled++){this.startTime=0;this.running=this.paused=false;Ext.fx.Manager.removeAnim(this);this.fireEvent("afteranimate",this,this.startTime);Ext.callback(this.callback,this.scope,[this,this.startTime])}},isReady:function(){return this.paused===
false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0);Ext.enableFx=!0;
Ext.cmd.derive("Ext.util.Animate",Ext.Base,{isAnimate:!0,animate:function(a){if(Ext.fx.Manager.hasFxBlock(this.id))return this;Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(a)));return this},anim:function(a){if(!Ext.isObject(a))return a?{}:false;a.stopAnimation&&this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));return Ext.apply({target:this,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);
return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});
Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{childEls:[],constructor:function(){var a;if(this.hasOwnProperty("childEls")){a=this.childEls;delete this.childEls;this.addChildEls.apply(this,a)}},destroy:function(){var a=this.getChildEls(),b,c,d;for(d=a.length;d--;){c=a[d];if(typeof c!="string")c=c.name;if(b=this[c]){this[c]=null;b.remove()}}},addChildEls:function(){var a=arguments;this.hasOwnProperty("childEls")?this.childEls.push.apply(this.childEls,a):this.childEls=this.getChildEls().concat(Array.prototype.slice.call(a));
this.prune(this.childEls,false)},applyChildEls:function(a,b){var c=this.getChildEls(),d,e,g,h,i;d=(b||this.id)+"-";for(g=c.length;g--;){e=c[g];if(typeof e=="string")i=a.getById(d+e);else{i=(h=e.select)?Ext.select(h,true,a.dom):(h=e.selectNode)?Ext.get(Ext.DomQuery.selectNode(h,a.dom)):a.getById(e.id||d+e.itemId);e=e.name}this[e]=i}},getChildEls:function(){var a;if(this.hasOwnProperty("childEls"))return this.childEls;a=this.self;return a.$childEls||this.getClassChildEls(a)},getClassChildEls:function(a){var b=
a.$childEls,c,d,e,g,h,i,j;if(!b){if(d=a.superclass){d=d.self;h=[d.$childEls||this.getClassChildEls(d)];j=d.prototype.mixins||{}}else{h=[];j={}}i=a.prototype;e=i.mixins;for(c in e)if(e.hasOwnProperty(c)&&!j.hasOwnProperty(c)){d=e[c].self;h.push(d.$childEls||this.getClassChildEls(d))}h.push(i.hasOwnProperty("childEls")&&i.childEls);d=0;for(e=h.length;d<e;++d)if((c=h[d])&&c.length)if(b){if(!g){g=true;b=b.slice(0)}b.push.apply(b,c)}else b=c;a.$childEls=b=b?this.prune(b,!g):[]}return b},prune:function(a,
b){for(var c=a.length,d={},e;c--;){e=a[c];if(typeof e!="string")e=e.name;if(d[e]){if(b){b=false;a=a.slice(0)}Ext.Array.erase(a,c,1)}else d[e]=1}return a},removeChildEls:function(a){var b=this.getChildEls(),c=this.childEls=[],d,e,g;e=0;for(d=b.length;e<d;++e){g=b[e];a(g)||c.push(g)}}},1,0,0,0,0,0,[Ext.util,"ElementContainer"],0);
Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:"TL TC TR ML MC MR BL BC BR".split(" "),frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>',
'<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>',
'<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>',
'<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>',
'<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>',
'<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>',
'<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var a={},b=this.protoEl,c=this.el,d,
e,g;this.finishRenderChildren();if(this.contentEl){d=Ext.baseCSSPrefix;e=d+"hide-";g=Ext.get(this.contentEl);g.removeCls([d+"hidden",e+"display",e+"offsets",e+"nosize"]);this.getContentTarget().appendChild(g.dom)}b.writeTo(a);(b=a.removed)&&c.removeCls(b);b=a.cls;b.length&&c.addCls(b);(b=a.style)&&c.setStyle(b);this.protoEl=null;this.ownerCt||this.updateLayout()},afterFirstLayout:function(a,b){var c=this.x,d=this.y,e,g,h,i;if(!this.ownerLayout){e=Ext.isDefined(c);g=Ext.isDefined(d)}if(this.floating&&
(!e||!g)){if(this.floatParent){h=this.floatParent.getTargetEl().getViewRegion();i=this.el.getAlignToXY(this.floatParent.getTargetEl(),"c-c");h.x=i[0]-h.x;h.y=i[1]-h.y}else{i=this.el.getAlignToXY(this.container,"c-c");h=this.container.translateXY(i[0],i[1])}c=e?c:h.x;d=g?d:h.y;e=g=true}(e||g)&&this.setPosition(c,d);this.onBoxReady(a,b)},applyRenderSelectors:function(){var a=this.renderSelectors,b=this.el,c=b.dom,d;this.applyChildEls(b);if(a)for(d in a)a.hasOwnProperty(d)&&a[d]&&(this[d]=Ext.get(Ext.DomQuery.selectNode(a[d],
c)))},beforeRender:function(){this.getTargetEl();var a=this.getOverflowEl(),b=this.getComponentLayout(),c=this.getOverflowStyle();this.frame=this.frame||this.alwaysFramed;b.initialized||b.initLayout();if(a){a.setStyle(c);this.overflowStyleSet=true}this.setUI(this.ui);this.disabled&&this.disable(true)},doApplyRenderTpl:function(a,b){var c=b.$comp;if(!c.rendered){c=c.initRenderTpl();c.applyOut(b.renderData,a)}},doAutoRender:function(){this.rendered||(this.floating?this.render(document.body):this.render(Ext.isBoolean(this.autoRender)?
Ext.getBody():this.autoRender))},doRenderContent:function(a,b){var c=b.$comp;if(c.html){Ext.DomHelper.generateMarkup(c.html,a);delete c.html}if(c.tpl){if(!c.tpl.isTemplate)c.tpl=new Ext.XTemplate(c.tpl);if(c.data){c.tpl.applyOut(c.data,a);delete c.data}}},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;if(!d.rendered&&d.doRenderDockedItems){b.renderData.$skipDockedItems=true;d.doRenderDockedItems.call(this,a,b,c)}},finishRender:function(a){var b,c;if(!this.el||this.$pid){b=this.container?
this.container.getById(this.id,true):Ext.getDom(this.id);if(this.el){delete this.$pid;this.el.dom||this.wrapPrimaryEl(this.el);b.parentNode.insertBefore(this.el.dom,b);Ext.removeNode(b)}else this.wrapPrimaryEl(b)}else if(!this.rendering)if(b=this.initRenderTpl()){c=this.initRenderData();b.insertFirst(this.getTargetEl(),c)}if(!this.container)this.container=Ext.get(this.el.dom.parentNode);this.ctCls&&this.container.addCls(this.ctCls);this.onRender(this.container,a);this.overflowStyleSet||this.getOverflowEl().setStyle(this.getOverflowStyle());
this.el.setVisibilityMode(Ext.Element[this.hideMode.toUpperCase()]);this.overCls&&this.el.hover(this.addOverCls,this.removeOverCls,this);this.hasListeners.render&&this.fireEvent("render",this);this.afterRender();this.hasListeners.afterrender&&this.fireEvent("afterrender",this);this.initEvents();this.hidden&&this.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getElConfig:function(){var a=this.autoEl,b=this.getFrameInfo(),c={tag:"div",tpl:b?this.initFramingTpl(b.table):
this.initRenderTpl()},d=this.protoEl,e,g;this.initStyles(d);d.writeTo(c);d.flush();Ext.isString(a)?c.tag=a:Ext.apply(c,a);c.id=this.id;if(c.tpl)if(b){a=this.frameElNames;b=a.length;c.tplData=d=this.getFrameRenderData();d.renderData=this.initRenderData();g=d.fgid;for(d=0;d<b;d++){e=a[d];this.addChildEls({name:"frame"+e,id:g+e})}this.addChildEls({name:"frameBody",id:g+"MC"})}else c.tplData=this.initRenderData();return c},initFramingTpl:function(a){(a=this.getFrameTpl(a))&&!a.applyRenderTpl&&this.setupFramingTpl(a);
return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){a!==void 0&&(a=Ext.isNumber(a)?this.container.dom.childNodes[a]:Ext.getDom(a));return a},getRenderTree:function(){if(!this.hasListeners.beforerender||this.fireEvent("beforerender",this)!==false){this.beforeRender();this.rendering=true;return this.el?{tag:"div",id:this.$pid=Ext.id()}:this.getElConfig()}return null},initContainer:function(a){if(!a&&
this.el){a=this.el.dom.parentNode;this.allowDomMove=false}return this.container=a.dom?a:Ext.get(a)},initRenderData:function(){return Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,frame:this.frame,childElCls:""},this.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");a&&!a.renderContent&&this.setupRenderTpl(a);return a},onRender:function(){var a=this.x,b=this.y,c=null,d=this.el;this.applyRenderSelectors();this.rendering=
null;this.rendered=true;a!=null&&(c={x:a});if(b!=null)(c=c||{}).y=b;if(!this.getFrameInfo()&&Ext.isBorderBox){a=this.width;b=this.height;if(typeof a==="number"){c=c||{};c.width=a}if(typeof b==="number"){c=c||{};c.height=b}}this.lastBox=d.lastBox=c},render:function(a,b){var c=this.el&&(this.el=Ext.get(this.el)),d,e,g;Ext.suspendLayouts();a=this.initContainer(a);g=this.getInsertPosition(b);if(c)if(!this.hasListeners.beforerender||this.fireEvent("beforerender",this)!==false){this.beforeRender();this.initStyles(c);
this.allowDomMove!==false&&(g?a.dom.insertBefore(c.dom,g):a.dom.appendChild(c.dom))}else d=true;else{e=this.getRenderTree();this.ownerLayout&&this.ownerLayout.transformItemRenderTree&&(e=this.ownerLayout.transformItemRenderTree(e));if(e){c=g?Ext.DomHelper.insertBefore(g,e):Ext.DomHelper.append(a,e);this.wrapPrimaryEl(c)}}c&&!d&&this.finishRender(b);Ext.resumeLayouts(!this.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(a){for(var b=this,c;b.ownerCt;)b=b.ownerCt;if(b.container.isDetachedBody){b.container=
c=Ext.getBody();c.appendChild(b.el.dom);a&&b.updateLayout();(typeof b.x=="number"||typeof b.y=="number")&&b.setPosition(b.x,b.y)}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a=this,b=a.getFrameInfo(),c,d=a.frameElNames,e=d.length,g;if(b){c=a.getFrameTpl(b.table);g=a.getFrameRenderData();b=g.fgid;c.insertFirst(a.el,g);a.frameBody=a.el.down("."+
a.frameCls+"-mc");a.removeChildEls(function(b){return b.id&&a.frameIdRegex.test(b.id)});for(c=0;c<e;c++){g=d[c];a["frame"+g]=a.el.getById(b+g)}}}},getFrameRenderData:function(){var a=this.frameSize,b=(this.frameGenId||0)+1;this.frameGenId=b;return{$comp:this,fgid:this.id+"-frame"+b,ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,baseCls:this.baseCls,top:!!a.top,left:!!a.left,right:!!a.right,bottom:!!a.bottom,frameElCls:""}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a=
this.frameSize&&this.frameSize.table,b=this.frameTL,c=this.frameBL,d=this.frameML,e=this.frameMC,g;this.initFrame();if(e){if(this.frame){g=this.frameMC.dom.className;e.insertAfter(this.frameMC);this.frameMC.remove();this.frameBody=this.frameMC=e;e.dom.className=g;if(a)this.el.query("> table")[1].remove();else{b&&b.remove();c&&c.remove();d&&d.remove()}}}else this.frame&&this.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return false;var a=this.frameInfoCache,
b=this.getFramingInfoCls()+"-frameInfo",c=a[b],d=Math.max,e,g,h,i,j,k,l,m,n,p,o,q,r,t,s,u;if(c==null){c=Ext.fly(this.getStyleProxy(b),"frame-style-el");if(c=c.getStyle("font-family")){c=c.split("-");r=parseInt(c[1],10);t=parseInt(c[2],10);s=parseInt(c[3],10);u=parseInt(c[4],10);j=parseInt(c[5],10);k=parseInt(c[6],10);l=parseInt(c[7],10);m=parseInt(c[8],10);n=parseInt(c[9],10);p=parseInt(c[10],10);o=parseInt(c[11],10);q=parseInt(c[12],10);e=d(j,d(r,t));g=d(k,d(t,s));h=d(l,d(u,s));i=d(m,d(r,u));c={table:c[0].charAt(0)===
"t",vertical:c[0].charAt(1)==="v",top:e,right:g,bottom:h,left:i,width:i+g,height:e+h,maxWidth:d(e,g,h,i),border:{top:j,right:k,bottom:l,left:m,width:m+k,height:j+l},padding:{top:n,right:p,bottom:o,left:q,width:q+p,height:n+o},radius:{tl:r,tr:t,br:s,bl:u}}}else c=false;a[b]=c}this.frame=!!c;return this.frameSize=c},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",
top:"-10000px"}},null,true));b.className=a;return b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}},0,0,0,0,0,0,[Ext.util,"Renderable"],0);
Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("statechange");this.state={};this.mixins.observable.constructor.call(this)},get:function(a,b){return typeof this.state[a]=="undefined"?b:this.state[a]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(a){var a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(a)),
b,c,d,e;if(a&&a[1]){b=a[1];a=a[2];switch(b){case "e":return null;case "n":return parseFloat(a);case "d":return new Date(Date.parse(a));case "b":return a=="1";case "a":b=[];if(a!=""){c=a.split("^");d=c.length;for(e=0;e<d;e++){a=c[e];b.push(this.decodeValue(a))}}return b;case "o":b={};if(a!=""){c=a.split("^");d=c.length;for(e=0;e<d;e++){a=c[e];a=a.split("=");b[a[0]]=this.decodeValue(a[1])}}return b;default:return a}}},encodeValue:function(a){var b="",c=0,d;if(a==null)return"e:1";if(typeof a=="number")a=
"n:"+a;else if(typeof a=="boolean")a="b:"+(a?"1":"0");else if(Ext.isDate(a))a="d:"+a.toGMTString();else if(Ext.isArray(a)){for(d=a.length;c<d;c++){b=b+this.encodeValue(a[c]);c!=d-1&&(b=b+"^")}a="a:"+b}else if(typeof a=="object"){for(d in a)typeof a[d]!="function"&&a[d]!==void 0&&(b=b+(d+"="+this.encodeValue(a[d])+"^"));a="o:"+b.substring(0,b.length-1)}else a="s:"+a;return escape(a)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0);
Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0);
Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{stateful:!1,saveDelay:100,constructor:function(a){a=a||{};if(a.stateful!==void 0)this.stateful=a.stateful;if(a.saveDelay!==void 0)this.saveDelay=a.saveDelay;this.stateId=this.stateId||a.stateId;if(!this.stateEvents)this.stateEvents=[];a.stateEvents&&this.stateEvents.concat(a.stateEvents);this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");this.mixins.observable.constructor.call(this);if(this.stateful!==false){this.addStateEvents(this.stateEvents);
this.initState()}},addStateEvents:function(a){var b,c,d;if(this.stateful&&this.getStateId()){typeof a=="string"&&(a=Array.prototype.slice.call(arguments,0));d=this.stateEventsByName||(this.stateEventsByName={});for(b=a.length;b--;){c=a[b];if(!d[c]){d[c]=1;this.on(c,this.onStateChange,this)}}}},onStateChange:function(){var a=this.saveDelay,b;if(this.stateful)if(a){if(!this.stateTask){b=Ext.state.Stateful;b=b.runner||(b.runner=new Ext.util.TaskRunner);this.stateTask=b.newTask({run:this.saveState,scope:this,
interval:a,repeat:1})}this.stateTask.start()}else this.saveState()},saveState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners,c;if(a){c=this.getState()||{};if(!b.beforestatesave||this.fireEvent("beforestatesave",this,c)!==false){Ext.state.Manager.set(a,c);b.statesave&&this.fireEvent("statesave",this,c)}}},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var a=
this.stateful&&this.getStateId(),b=this.hasListeners;if(a)if(a=Ext.state.Manager.get(a)){a=Ext.apply({},a);if(!b.beforestaterestore||this.fireEvent("beforestaterestore",this,a)!==false){this.applyState(a);b.staterestore&&this.fireEvent("staterestore",this,a)}}},savePropToState:function(a,b,c){var d=this[a],e=this.initialConfig;if(this.hasOwnProperty(a)&&(!e||e[a]!==d)){b&&(b[c||a]=d);return true}return false},savePropsToState:function(a,b){var c,d;if(typeof a=="string")this.savePropToState(a,b);else{c=
0;for(d=a.length;c<d;++c)this.savePropToState(a[c],b)}return b},destroy:function(){var a=this.stateTask;if(a){a.destroy();this.stateTask=null}this.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Stateful"],0);
Ext.cmd.derive("Ext.AbstractComponent",Ext.Base,{statics:{AUTO_ID:1E3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;c&&c.cancelComponent(a,false,b)},flushLayouts:function(){var a=this,b=a.pendingLayouts;if(b&&b.invalidQueue.length){a.pendingLayouts=null;a.runningLayoutContext=b;Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;var b=this.callParent();Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout");
return b}});b.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){a&&this.flushLayouts();Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts")}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this.runningLayoutContext;if(c)c.queueInvalidate(a);else{c=this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context);c.queueInvalidate(a);!b&&(!this.layoutSuspendCount&&!a.isLayoutSuspended())&&
this.flushLayouts()}}},isComponent:!0,getAutoId:function(){this.autoGenId=true;return++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,
maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(a){var b;if(a){Ext.apply(this,a);if(b=this.xhooks){delete this.xhooks;Ext.override(this,b)}}else a={};this.initialConfig=a;this.mixins.elementCt.constructor.call(this);this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render",
"afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");this.getId();this.setupProtoEl();if(this.cls){this.initialCls=this.cls;this.protoEl.addCls(this.cls)}if(this.style){this.initialStyle=this.style;this.protoEl.setStyle(this.style)}this.renderData=this.renderData||{};this.renderSelectors=this.renderSelectors||{};if(this.plugins)this.plugins=this.constructPlugins();if(!this.hasListeners)this.hasListeners=new this.HasListeners;this.initComponent();Ext.ComponentManager.register(this);
this.mixins.observable.constructor.call(this);this.mixins.state.constructor.call(this,a);this.addStateEvents("resize");if(this.plugins){a=0;for(b=this.plugins.length;a<b;a++)this.plugins[a]=this.initPlugin(this.plugins[a])}this.loader=this.getLoader();this.renderTo&&this.render(this.renderTo);this.autoShow&&!this.isContained&&this.show()},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var a=null,b=this.getSizeModel();b.width.configured&&
(a=this.addPropertyToState(a,"width"));b.height.configured&&(a=this.addPropertyToState(a,"height"));return a},addPropertyToState:function(a,b,c){var d=arguments.length;if(d==3||this.hasOwnProperty(b)){d<3&&(c=this[b]);c!==this.initialConfig[b]&&((a||(a={}))[b]=c)}return a},show:Ext.emptyFn,animate:function(a){var b=this,c,d,e,g,h,i,j,k,l,m,n,p,o,q,r,a=a||{};h=a.to||{};if(Ext.fx.Manager.hasFxBlock(b.id))return b;(c=Ext.isDefined(h.width))&&(g=Ext.Number.constrain(h.width,b.minWidth,b.maxWidth));(d=
Ext.isDefined(h.height))&&(e=Ext.Number.constrain(h.height,b.minHeight,b.maxHeight));if(!a.dynamic&&(c||d)){l=k=(a.from?a.from.width:void 0)||b.getWidth();n=m=(a.from?a.from.height:void 0)||b.getHeight();i=false;if(d&&e>m){n=e;i=true}if(c&&g>k){l=g;i=true}if(d||c){r=b.el.getStyle("overtflow");r!=="hidden"&&b.el.setStyle("overflow","hidden")}if(i){i=!Ext.isNumber(b.width);j=!Ext.isNumber(b.height);b.setSize(l,n);b.el.setSize(k,m);i&&delete b.width;j&&delete b.height}if(c)h.width=g;if(d)h.height=e}p=
b.constrain;o=b.constrainHeader;if(p||o){b.constrain=b.constrainHeader=false;q=a.callback;a.callback=function(){b.constrain=p;b.constrainHeader=o;q&&q.call(a.scope||b,arguments);r!=="hidden"&&b.el.setStyle("overflow",r)}}return b.mixins.animate.animate.apply(b,arguments)},setHiddenState:function(a){var b=this.getHierarchyState();(this.hidden=a)?b.hidden=true:delete b.hidden},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:false})},onShow:function(){this.updateLayout({isRoot:false})},
constructPlugin:function(a){return a=typeof a=="string"?Ext.PluginManager.create({},a,this):Ext.PluginManager.create(a,null,this)},constructPlugins:function(){var a=this.plugins,b,c,d;if(a){b=[];Ext.isArray(a)||(a=[a]);c=0;for(d=a.length;c<d;c++)b[c]=this.constructPlugin(a[c])}this.pluginsInitialized=true;return b},initPlugin:function(a){a.init(this);return a},addPlugin:function(a){a=this.constructPlugin(a);this.plugins?this.plugins.push(a):this.plugins=[a];this.pluginsInitialized&&this.initPlugin(a);
return a},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},findPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++)if(c[b].ptype===a)return c[b]},getPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++)if(c[b].pluginId===a)return c[b]},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(a){if(!this.floatingDescendants)this.floatingDescendants=new Ext.ZIndexManager(this);this.floatingDescendants.register(a)},unregisterFloatingItem:function(a){this.floatingDescendants&&
this.floatingDescendants.unregister(a)},layoutSuspendCount:0,suspendLayouts:function(){if(this.rendered&&++this.layoutSuspendCount==1)this.suspendLayout=true},resumeLayouts:function(a){if(this.rendered&&!--this.layoutSuspendCount){this.suspendLayout=false;a&&!this.isLayoutSuspended()&&this.updateLayout(a)}},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},initCls:function(){var a=[this.baseCls,this.getComponentLayout().targetCls];if(Ext.isDefined(this.cmpCls)){Ext.isDefined(Ext.global.console)&&
Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.");this.componentCls=this.cmpCls;delete this.cmpCls}this.componentCls?a.push(this.componentCls):this.componentCls=this.baseCls;return a},setUI:function(a){var b=this.uiCls,c=this.activeUI;if(a!==c){if(c){c=this.removeClsWithUI(b,true);c.length&&this.removeCls(c);this.removeUIFromElement()}else this.uiCls=[];this.activeUI=this.ui=a;this.addUIToElement();c=this.addClsWithUI(b,true);c.length&&this.addCls(c);this.rendered&&
this.updateLayout()}},addClsWithUI:function(a,b){var c=[],d=0,e=this.uiCls=Ext.Array.clone(this.uiCls),g=this.activeUI,h,i;typeof a==="string"&&(a=a.indexOf(" ")<0?[a]:Ext.String.splitWords(a));for(h=a.length;d<h;d++)if((i=a[d])&&!this.hasUICls(i)){e.push(i);g&&(c=c.concat(this.addUIClsToElement(i)))}b!==true&&g&&this.addCls(c);return c},removeClsWithUI:function(a,b){var c=[],d=0,d=Ext.Array,e=d.remove,g=this.uiCls=d.clone(this.uiCls),h=this.activeUI,i,j;typeof a==="string"&&(a=a.indexOf(" ")<0?[a]:
Ext.String.splitWords(a));i=a.length;for(d=0;d<i;d++)if((j=a[d])&&this.hasUICls(j)){e(g,j);h&&(c=c.concat(this.removeUIClsFromElement(j)))}b!==true&&h&&this.removeCls(c);return c},hasUICls:function(a){return Ext.Array.contains(this.uiCls||[],a)},frameElementsArray:"tl tc tr ml mc mr bl bc br".split(" "),addUIClsToElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a,a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b],c,d,e,g,h;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){c=this.frameElementsArray;
d=c.length;for(e=0;e<d;e++){h=c[e];(g=this["frame"+h.toUpperCase()])&&g.addCls(b+"-"+h)}}return a},removeUIClsFromElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a,a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b],c,d,e,g,h;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){c=this.frameElementsArray;d=c.length;for(e=0;e<d;e++){h=c[e];(g=this["frame"+h.toUpperCase()])&&g.removeCls(b+"-"+h)}}return a},addUIToElement:function(){var a=this.baseCls+"-"+this.ui,b,c,d,e,g;this.addCls(a);if(this.rendered&&
this.frame&&!Ext.supports.CSS3BorderRadius){b=this.frameElementsArray;c=b.length;for(d=0;d<c;d++){g=b[d];(e=this["frame"+g.toUpperCase()])&&e.addCls(a+"-"+g)}}},removeUIFromElement:function(){var a=this.baseCls+"-"+this.ui,b,c,d,e,g;this.removeCls(a);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius){b=this.frameElementsArray;c=b.length;for(d=0;d<c;d++){g=b[d];(e=this["frame"+g.toUpperCase()])&&e.removeCls(a+"-"+g)}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(a){var b=
this.margin,c=this.border,d=this.cls,e=this.style,g=this.x,h=this.y;this.initPadding(a);b!=null&&a.setStyle("margin",this.unitizeBox(b===true?5:b));c!=null&&this.setBorder(c,a);if(d&&d!=this.initialCls){a.addCls(d);this.cls=this.initialCls=null}if(e&&e!=this.initialStyle){a.setStyle(e);this.style=this.initialStyle=null}g!=null&&a.setStyle(this.horizontalPosProp,typeof g=="number"?g+"px":g);h!=null&&a.setStyle("top",typeof h=="number"?h+"px":h);Ext.isBorderBox&&(!this.ownerCt||this.floating)&&a.addCls(this.borderBoxCls);
if(!this.getFrameInfo()){b=this.width;c=this.height;b!=null&&(typeof b==="number"?Ext.isBorderBox&&a.setStyle("width",b+"px"):a.setStyle("width",b));c!=null&&(typeof c==="number"?Ext.isBorderBox&&a.setStyle("height",c+"px"):a.setStyle("height",c))}},initPadding:function(a){var b=this.padding;b!=null&&(this.layout&&this.layout.managePadding&&this.contentPaddingProperty==="padding"?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(b===true?5:b)))},parseBox:function(a){return Ext.dom.Element.parseBox(a)},
unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(a,b){if(this.rendered){if(!a&&a!==0)a="";else{a===true&&(a=5);a=this.unitizeBox(a)}this.getTargetEl().setStyle("margin",a);b||this.updateLayout()}else this.margin=a},initEvents:function(){var a=this.afterRenderEvents,b,c,d,e,g;if(a)for(d in a)if((c=this[d])&&c.on){b=a[d];e=0;for(g=b.length;e<g;++e)this.mon(c,b[e])}this.addFocusListener()},addFocusListener:function(){var a=this.getFocusEl(),b;if(a){if(a.isComponent)return a.addFocusListener();
b=a.needsTabIndex();if(!this.focusListenerAdded&&(!b||Ext.FocusManager.enabled)){if(b)a.dom.tabIndex=-1;a.on({focus:this.onFocus,blur:this.onBlur,scope:this});this.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var a;if(this.focusable!==false&&(a=this.getFocusEl())&&this.rendered&&!this.destroying&&!this.isDestroyed&&!this.disabled&&this.isVisible(true))return a.isFocusable(true)},beforeFocus:Ext.emptyFn,onFocus:function(a){var b=this.focusCls,c=this.getFocusEl();if(!this.disabled){this.beforeFocus(a);
b&&c&&c.addCls(this.addClsWithUI(b,true));if(!this.hasFocus){this.hasFocus=true;this.fireEvent("focus",this,a)}}},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this.focusCls,c=this.getFocusEl();if(!this.destroying){this.beforeBlur(a);b&&c&&c.removeCls(this.removeClsWithUI(b,true));this.validateOnBlur&&this.validate();this.hasFocus=false;this.fireEvent("blur",this,a);this.postBlur(a)}},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(a,b){var c=this.getRefOwner(),
d=typeof b==="string",e=typeof b==="number",g=b&&b.isComponent,h=0;if(a)for(;c;c=c.getRefOwner()){h++;if(a.isComponent){if(c===a)break}else if(Ext.ComponentQuery.is(c,a))break;if(d&&c.is(b)||e&&h===b||g&&c===b)return}return c},nextSibling:function(a){var b=this.ownerCt,c,d,e;if(b){b=b.items;if(d=b.indexOf(this)+1)if(a)for(c=b.getCount();d<c;d++){if((e=b.getAt(d)).is(a))return e}else if(d<b.getCount())return b.getAt(d)}return null},previousSibling:function(a){var b=this.ownerCt,c,d;if(b){b=b.items;
c=b.indexOf(this);if(c!=-1)if(a)for(--c;c>=0;c--){if((d=b.getAt(c)).is(a))return d}else if(c)return b.getAt(--c)}return null},previousNode:function(a,b){var c=this.ownerCt,d,e,g,h;if(b&&this.is(a))return this;if(c){e=c.items.items;for(g=Ext.Array.indexOf(e,this)-1;g>-1;g--){h=e[g];if(h.query){d=h.query(a);if(d=d[d.length-1])return d}if(h.is(a))return h}return c.previousNode(a,true)}return null},nextNode:function(a,b){var c=this.ownerCt,d,e,g,h;if(b&&this.is(a))return this;if(c){e=c.items.items;h=
Ext.Array.indexOf(e,this)+1;for(g=e.length;h<g;h++){d=e[h];if(d.is(a))return d;if(d.down)if(d=d.down(a))return d}return c.nextNode(a)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a=null,b,c;if(typeof this.autoScroll==="boolean"){a={overflow:b=
this.autoScroll?"auto":""};this.scrollFlags={overflowX:b,overflowY:b,x:true,y:true,both:true}}else{b=this.overflowX;c=this.overflowY;if(b!==void 0||c!==void 0){a={overflowX:b=b||"",overflowY:c=c||""};this.scrollFlags={overflowX:b,overflowY:c,x:b=b==="auto"||b==="scroll",y:c=c==="auto"||c==="scroll",both:b&&c}}else this.scrollFlags={overflowX:"",overflowY:"",x:false,y:false,both:false}}if(a&&Ext.isIE7m)a.position="relative";return a},isXType:function(a,b){return b?this.xtype===a:this.xtypesMap[a]},
getXTypes:function(){var a=this.self,b,c,d;if(!a.xtypes){b=[];for(c=this;c;){d=c.xtypes;d!==void 0&&b.unshift.apply(b,d);c=c.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(a,b,c){var d=this.tpl&&!Ext.isString(a),e;d?this.data=a:this.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a;if(this.rendered){e=this.isContainer?this.layout.getRenderTarget():this.getTargetEl();if(d)this.tpl[this.tplWriteMode](e,a||{});else e.update(this.html,b,c);this.updateLayout()}},setVisible:function(a){return this[a?
"show":"hide"]()},isVisible:function(a){var b;this.hidden||!this.rendered||this.isDestroyed?b=true:a&&(b=this.isHierarchicallyHidden());return!b},isHierarchicallyHidden:function(){for(var a=this,b=false,c,d;c=a.ownerCt||a.floatParent;a=c){d=c.getHierarchyState();if(d.hidden){b=true;break}if(a.getHierarchyState().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=true;break}}else{b=!!d.collapsed;break}}return b},onBoxReady:function(a,b){if(this.disableOnBoxReady)this.onDisable();else if(this.enableOnBoxReady)this.onEnable();
this.resizable&&this.initResizable(this.resizable);this.draggable&&this.initDraggable();this.hasListeners.boxready&&this.fireEvent("boxready",this,a,b)},enable:function(a){delete this.disableOnBoxReady;this.removeCls(this.disabledCls);if(this.rendered)this.onEnable();else this.enableOnBoxReady=true;this.disabled=false;delete this.resetDisable;a!==true&&this.fireEvent("enable",this);return this},disable:function(a){delete this.enableOnBoxReady;this.addCls(this.disabledCls);if(this.rendered)this.onDisable();
else this.disableOnBoxReady=true;this.disabled=true;if(a!==true){delete this.resetDisable;this.fireEvent("disable",this)}return this},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){var a=this.focusCls,b=this.getFocusEl();a&&b&&b.removeCls(this.removeClsWithUI(a,true));if(this.maskOnDisable){this.el.dom.disabled=true;this.mask()}},mask:function(){var a=this.lastBox,b=this.getMaskTarget(),c=[];if(a)c[2]=a.height;b.mask.apply(b,c)},unmask:function(){this.getMaskTarget().unmask()},
getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(a){var b=this.rendered?this.el:this.protoEl;b.addCls.apply(b,arguments);return this},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(a){var b=this.rendered?this.el:this.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(a){var b=this.rendered?this.el:this.protoEl;
b.removeCls.apply(b,arguments);return this},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,b,c,d){var e,g;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element){e=b;b={};b[a]=e;a=d.element;if(c)b.scope=c;for(g in d)d.hasOwnProperty(g)&&this.eventOptionsRe.test(g)&&(b[g]=d[g])}if(this[a]&&this[a].on)this.mon(this[a],b);else{this.afterRenderEvents=this.afterRenderEvents||{};this.afterRenderEvents[a]||
(this.afterRenderEvents[a]=[]);this.afterRenderEvents[a].push(b)}}else return this.mixins.observable.addListener.apply(this,arguments)},removeManagedListenerItem:function(a,b,c,d,e,g){var h=b.options?b.options.element:null;if(h){if((h=this[h])&&h.un&&(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!g||b.scope===g))){h.un(b.ename,b.fn,b.scope);a||Ext.Array.remove(this.managedListeners,b)}}else return this.mixins.observable.removeManagedListenerItem.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},
isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(a,b){this.ownerCt=a;if(this.hierarchyState){this.hierarchyState.invalid=true;delete this.hierarchyState}this.hasListeners.added&&this.fireEvent("added",this,a,b)},onRemoved:function(){this.hasListeners.removed&&this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt;delete this.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(a,
b,c,d){this.floating&&this.constrain&&this.doConstrain();this.hasListeners.resize&&this.fireEvent("resize",this,a,b,c,d)},setSize:function(a,b){if(a&&typeof a=="object"){b=a.height;a=a.width}typeof a=="number"?this.width=Ext.Number.constrain(a,this.minWidth,this.maxWidth):a===null&&delete this.width;typeof b=="number"?this.height=Ext.Number.constrain(b,this.minHeight,this.maxHeight):b===null&&delete this.height;this.rendered&&this.isVisible()&&this.updateLayout({isRoot:false});return this},isLayoutRoot:function(){var a=
this.ownerLayout;return!a||this._isLayoutRoot||this.floating?true:a.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var a=this;a;){if(a.layoutSuspendCount||a.suspendLayout)return true;a=a.ownerLayout;if(!a)break;a=a.owner}return false},updateLayout:function(a){var b=this.lastBox,c=a&&a.isRoot;if(b)b.invalid=true;if(this.rendered&&!this.layoutSuspendCount&&!this.suspendLayout){this.hidden?Ext.AbstractComponent.cancelLayout(this):typeof c!="boolean"&&(c=this.isLayoutRoot());if((c||!this.ownerLayout||
!this.ownerLayout.onContentChange(this))&&!this.isLayoutSuspended()){a=a&&a.hasOwnProperty("defer")?a.defer:this.deferLayouts;Ext.AbstractComponent.updateLayout(this,a)}}},getSizeModel:function(a){var b=Ext.layout.SizeModel,c=this.componentLayout.ownerContext,d=this.width,e=this.height,g,h,i,j,k,l,m,n,p;if(c){p=c.widthModel;k=c.heightModel}if(!p||!k){i=(g=typeof d)=="number";j=(h=typeof e)=="number";if(n=this.floating||!(l=this.ownerLayout)){m=Ext.layout.Layout.prototype.autoSizePolicy;l=this.floating?
3:this.shrinkWrap;if(i)p=b.configured;if(j)k=b.configured}else{m=l.getItemSizePolicy(this,a);l=l.isItemShrinkWrap(this)}if(c)c.ownerSizePolicy=m;l=l===true?3:l||0;if(n&&l){d&&g=="string"&&(l=l&2);e&&h=="string"&&(l=l&1)}if(l!==3){a||(a=this.ownerCt&&this.ownerCt.getSizeModel());a&&(l=l|(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0))}p||(p=m.setsWidth?m.readsWidth?i?b.calculatedFromConfigured:l&1?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:i?b.configured:l&1?b.shrinkWrap:b.natural);
k||(k=m.setsHeight?m.readsHeight?j?b.calculatedFromConfigured:l&2?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:j?b.configured:l&2?b.shrinkWrap:b.natural)}return p.pairsByHeightOrdinal[k.ordinal]},isDescendant:function(a){if(a.isContainer)for(var b=this.ownerCt;b;b=b.ownerCt)if(b===a)return true;return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(a){var b=this.componentLayout;
b&&(b.isLayout&&b!=a)&&b.setOwner(null);this.componentLayout=a;a.setOwner(this)},getComponentLayout:function(){(!this.componentLayout||!this.componentLayout.isLayout)&&this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,"autocomponent"));return this.componentLayout},afterComponentLayout:function(a,b,c,d){++this.componentLayoutCounter===1&&this.afterFirstLayout(a,b);if(a!==c||b!==d)this.onResize(a,b,c,d)},beforeComponentLayout:function(){return true},setPosition:function(a,b,c){var d=
this.beforeSetPosition.apply(this,arguments);if(d&&this.rendered){a=d.x;b=d.y;if(c){if(a!==this.getLocalX()||b!==this.getLocalY()){this.stopAnimation();this.animate(Ext.apply({duration:1E3,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[a,b])},to:{x:a,y:b}},c))}}else{this.setLocalXY(a,b);this.afterSetPosition(a,b)}}return this},beforeSetPosition:function(a,b,c){var d;if(a)if(Ext.isNumber(d=a[0])){c=b;b=a[1];a=d}else if((d=a.x)!==void 0){c=b;b=a.y;a=d}if(this.constrain||this.constrainHeader)if(d=
this.calculateConstrainedPosition(null,[a,b],true)){a=d[0];b=d[1]}d={x:this.x=a,y:this.y=b,anim:c,hasX:a!==void 0,hasY:b!==void 0};return d.hasX||d.hasY?d:null},afterSetPosition:function(a,b){this.onPosition(a,b);this.hasListeners.move&&this.fireEvent("move",this,a,b)},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(void 0,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},
getLoader:function(){var a=this.autoLoad?Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad}:null,b=this.loader||a;if(b){b.isLoader?b.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this,autoLoad:a},b));return this.loader}return null},setDocked:function(a,b){this.dock=a;b&&(this.ownerCt&&this.rendered)&&this.ownerCt.updateLayout();return this},setBorder:function(a,b){var c=!!b;if(this.rendered||c){if(!c)b=this.el;a=a?a===true?"1px":this.unitizeBox(a):0;b.setStyle("border-width",
a);c||this.updateLayout()}this.border=a},onDestroy:function(){this.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(this.setSize,this);Ext.destroy(this.componentLayout,this.loadMask,this.floatingDescendants)},destroy:function(){var a=this.renderSelectors,b,c;if(!this.isDestroyed&&(!this.hasListeners.beforedestroy||this.fireEvent("beforedestroy",this)!==false)){this.destroying=true;this.beforeDestroy();if(this.floating){delete this.floatParent;this.zIndexManager&&
this.zIndexManager.unregister(this)}else this.ownerCt&&this.ownerCt.remove&&this.ownerCt.remove(this,false);this.stopAnimation();this.onDestroy();Ext.destroy(this.plugins);this.hasListeners.destroy&&this.fireEvent("destroy",this);Ext.ComponentManager.unregister(this);this.mixins.state.destroy.call(this);this.clearListeners();if(this.rendered){this.preserveElOnDestroy||this.el.remove();this.mixins.elementCt.destroy.call(this);if(a)for(b in a)if(a.hasOwnProperty(b))if(c=this[b]){delete this[b];c.remove()}delete this.el;
delete this.frameBody;delete this.rendered}this.destroying=false;this.isDestroyed=true}},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===a})},getHierarchyState:function(a){var b=a&&this.hierarchyStateInner||this.hierarchyState,c=this.ownerCt,d,e;if(!b||b.invalid){b=this.getRefOwner();c&&(e=this.ownerLayout===c.layout);this.hierarchyState=b=Ext.Object.chain(b?b.getHierarchyState(e):Ext.rootHierarchyState);this.initHierarchyState(b);(d=this.componentLayout).initHierarchyState&&
d.initHierarchyState(b);if(this.isContainer){this.hierarchyStateInner=c=Ext.Object.chain(b);(d=this.layout)&&d.initHierarchyState&&d.initHierarchyState(c,b);a&&(b=c)}}return b},initHierarchyState:function(a){if(this.collapsed)a.collapsed=true;if(this.hidden)a.hidden=true;if(this.collapseImmune)a.collapseImmune=true},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},
getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(a,b){this.el.setXY(a,b)},setY:function(a,b){this.el.setY(a,b)}},1,0,0,0,0,[["positionable",Ext.util.Positionable],["observable",Ext.util.Observable],
["animate",Ext.util.Animate],["elementCt",Ext.util.ElementContainer],["renderable",Ext.util.Renderable],["state",Ext.state.Stateful]],[Ext,"AbstractComponent"],function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,c){a.suspendLayouts();b.call(c);a.resumeLayouts(true)}});
Ext.cmd.derive("Ext.AbstractPlugin",Ext.Base,{disabled:!1,isPlugin:!0,constructor:function(a){this.pluginConfig=a;Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true},onClassExtended:function(a,b){var c=b.alias;if(c&&!b.ptype){Ext.isArray(c)&&(c=c[0]);a.prototype.ptype=c.split("plugin.")[1]}}},
1,0,0,0,0,0,[Ext,"AbstractPlugin"],0);
Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.globalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(a,b,c){if(a=this.liveConnections[Number(a)])a.onFlashStateChange(b,c)},registerConnection:function(a){var b=this.connectionIndex;
this.conectionIndex=this.connectionIndex+1;this.liveConnections[b]=a;return b},injectFlashPlugin:function(){var a,b,c,d;c=document.createElement("img");c.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif");c.setAttribute("alt","Get Adobe Flash player");a=document.createElement("a");a.setAttribute("href","http://www.adobe.com/go/getflashplayer");a.appendChild(c);b=document.createElement("p");b.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.";
a=document.createElement("div");a.setAttribute("id","ext-flash-polyfill");a.appendChild(b);a.appendChild(c);Ext.getBody().dom.appendChild(a);c=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");d="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath)d=Ext.flashPluginPath;Ext.Loader.loadScript({url:c,onLoad:function(){swfobject.embedSWF(d,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},{quality:"high",bgcolor:"#ffffff",allowscriptaccess:"sameDomain",
allowfullscreen:"true"},{id:"ext-flash-polyfill",name:"polyfill",align:"middle"})},onError:function(){},scope:this});Ext.globalEvents.addEvents("flashready");Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,a);this.requestHeaders={}},abort:function(){if(this.readyState!=4){this.aborted=true;if(Ext.data.flash.BinaryXhr.flashPluginActive){Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(this.javascriptId);
delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]}else Ext.globalEvents.removeListener("flashready",this.onFlashReady,this)}},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)});return a.join("\r\n")},getResponseHeader:function(a){var b=this.responseHeaders;return b&&b[a]||null},open:function(a,b,c,d,e){this.method=a;this.url=b;this.async=c!==false;this.user=d;this.password=e},overrideMimeType:function(a){this.mimeType=a},
send:function(a){this.body=a;if(Ext.data.flash.BinaryXhr.flashPluginActive)this.onFlashReady();else Ext.globalEvents.addListener("flashready",this.onFlashReady,this)},onFlashReady:function(){this.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(this);Ext.data.flash.BinaryXhr.flashPlugin.postBinary({method:this.method,url:this.url,user:this.user,password:this.password,mimeType:this.mimeType,requestHeaders:this.requestHeaders,body:this.body,javascriptId:this.javascriptId})},setReadyState:function(a){if(this.readyState!=
a){this.readyState=a;this.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){this.status=a.status||0;this.responseHeaders={};if(this.mimeType)this.responseHeaders["content-type"]=this.mimeType;if(a.reason=="complete"){this.responseBytes=a.data;this.responseHeaders["content-length"]=a.data.length}else if(a.reason=="error"||a.reason=="securityError"){this.statusText=a.text;this.responseHeaders["content-length"]=0}},onFlashStateChange:function(a,
b){if(a==4){this.parseData(b);delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]}this.setReadyState(a)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0);
Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3E4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},
request:function(a){var a=a||{},b=this,c=a.scope||window,d=a.username||b.username,e=a.password||b.password||"",g,h,i;if(b.fireEvent("beforerequest",b,a)!==false){g=b.setOptions(a,c);if(b.isFormUpload(a)){b.upload(a.form,g.url,g.data,a);return null}(a.autoAbort||b.autoAbort)&&b.abort();c=a.async!==false?a.async||b.async:false;d=b.openRequest(a,g,c,d,e);b.isXdr||(i=b.setupHeaders(d,a,g.data,g.params));h={id:++Ext.data.Connection.requestId,xhr:d,headers:i,options:a,async:c,binary:a.binary||b.binary,
timeout:setTimeout(function(){h.timedout=true;b.abort(h)},a.timeout||b.timeout)};b.requests[h.id]=h;b.latestId=h.id;if(c&&!b.isXdr)d.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[h]);b.isXdr&&b.processXdrRequest(h,d);d.send(g.data);return!c?b.onComplete(h):h}Ext.callback(a.callback,a.scope,[a,void 0,void 0]);return null},processXdrRequest:function(a,b){delete a.headers;a.contentType=a.options.contentType||this.defaultXdrContentType;b.onload=Ext.Function.bind(this.onStateChange,this,[a,true]);
b.onerror=b.ontimeout=Ext.Function.bind(this.onStateChange,this,[a,false])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.defaultXdrContentType},upload:function(a,b,c,d){var a=Ext.getDom(a),d=d||{},e=Ext.id(),g=document.createElement("iframe"),h=[],i={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},j=function(b,c){k=document.createElement("input");Ext.fly(k).set({type:"hidden",
value:c,name:b});a.appendChild(k);h.push(k)},k,l,m;Ext.fly(g).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(g);if(document.frames)document.frames[e].name=e;Ext.fly(a).set({target:e,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:b||i.action});if(c){b=Ext.Object.fromQueryString(c)||{};for(l in b)if(b.hasOwnProperty(l)){c=b[l];if(Ext.isArray(c)){e=c.length;for(m=0;m<e;m++)j(l,c[m])}else j(l,c)}}Ext.fly(g).on("load",
Ext.Function.bind(this.onUploadComplete,this,[g,d]),null,{single:!Ext.isOpera});a.submit();Ext.fly(a).set(i);d=h.length;for(g=0;g<d;g++)Ext.removeNode(h[g])},onUploadComplete:function(a,b){var c={responseText:"",responseXML:null},d,e,g,h;try{if(g=a.contentWindow.document||a.contentDocument||window.frames[a.id].document){if(Ext.isOpera&&g.location=="about:blank")return;if(g.body)c.responseText=(h=g.body.firstChild)&&/pre/i.test(h.tagName)?h.textContent:(h=g.getElementsByTagName("textarea")[0])?h.value:
g.body.textContent||g.body.innerText;c.responseXML=g.XMLDocument||g;d=b.success;e=true}}catch(i){c.responseText='{success:false,message:"'+Ext.String.trim(i.message||i.description)+'"}';d=b.failure;e=false}this.fireEvent("requestcomplete",this,c,b);Ext.callback(d,b.scope,[c,b]);Ext.callback(b.callback,b.scope,[b,e,c]);setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype")):false},getForm:function(a){return Ext.getDom(a.form)||
null},setOptions:function(a,b){var c=a.params||{},d=this.extraParams,e=a.urlParams,g=a.url||this.url,h=a.jsonData,i;Ext.isFunction(c)&&(c=c.call(b,a));Ext.isFunction(g)&&(g=g.call(b,a));g=this.setupUrl(a,g);i=a.rawData||a.binaryData||a.xmlData||h||null;h&&!Ext.isPrimitive(h)&&(i=Ext.encode(i));if(a.binaryData&&this.nativeBinaryPostSupport()){i=new Uint8Array(a.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)i=i.buffer}Ext.isObject(c)&&(c=Ext.Object.toQueryString(c));Ext.isObject(d)&&
(d=Ext.Object.toQueryString(d));c=c+(d?(c?"&":"")+d:"");e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;c=this.setupParams(a,c);d=(a.method||this.method||(c||i?"POST":"GET")).toUpperCase();this.setupMethod(a,d);h=a.disableCaching!==false?a.disableCaching||this.disableCaching:false;d==="GET"&&h&&(g=Ext.urlAppend(g,(a.disableCachingParam||this.disableCachingParam)+"="+(new Date).getTime()));if((d=="GET"||i)&&c){g=Ext.urlAppend(g,c);c=null}e&&(g=Ext.urlAppend(g,e));return{url:g,method:d,data:i||c||null}},
setupUrl:function(a,b){var c=this.getForm(a);c&&(b=b||c.action);return b},setupParams:function(a,b){var c=this.getForm(a);if(c&&!this.isFormUpload(a)){c=Ext.Element.serializeForm(c);b=b?b+"&"+c:c}return b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(a,b,c,d){var e=Ext.apply({},b.headers||{},this.defaultHeaders||{}),g=this.defaultPostHeader,h=b.jsonData,i=b.xmlData,j,k;if(!e["Content-Type"]&&(c||d)){c&&(b.rawData?g="text/plain":i&&Ext.isDefined(i)?g="text/xml":
h&&Ext.isDefined(h)&&(g="application/json"));e["Content-Type"]=g}if(this.useDefaultXhrHeader&&!e["X-Requested-With"])e["X-Requested-With"]=this.defaultXhrHeader;try{for(j in e)if(e.hasOwnProperty(j)){k=e[j];a.setRequestHeader(j,k)}}catch(l){this.fireEvent("exception",j,k)}return e},newRequest:function(a){if(a.binaryData)a=this.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr;else if((a.cors||this.cors)&&Ext.isIE&&Ext.ieVersion<=9){a=this.getXdrInstance();this.isXdr=true}else a=
this.getXhrInstance();return a},openRequest:function(a,b,c,d,e){var g=this.newRequest(a);d?g.open(b.method,b.url,c,d,e):this.isXdr?g.open(b.method,b.url):g.open(b.method,b.url,c);if(a.binary||this.binary)window.Uint8Array?g.responseType="arraybuffer":g.overrideMimeType&&g.overrideMimeType("text/plain; charset=x-user-defined");if(a.withCredentials||this.withCredentials)g.withCredentials=true;return g},getXdrInstance:function(){var a;Ext.ieVersion>=8?a=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"});
return a},getXhrInstance:function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;b<c;++b)try{d=a[b];d();break}catch(e){}return d}(),isLoading:function(a){a||(a=this.getLatest());if(!a||!a.xhr)return false;var b=a.xhr.readyState;return a.xhr instanceof Ext.data.flash.BinaryXhr&&b!=4||!(b===0||b==4)},abort:function(a){var b;
a||(a=this.getLatest());if(a&&this.isLoading(a)){b=a.xhr;try{b.onreadystatechange=null}catch(c){b.onreadystatechange=Ext.emptyFn}b.abort();this.clearTimeout(a);if(!a.timedout)a.aborted=true;this.onComplete(a);this.cleanup(a)}},abortAll:function(){var a=this.requests,b;for(b in a)a.hasOwnProperty(b)&&this.abort(a[b])},getLatest:function(){var a=this.latestId,b;a&&(b=this.requests[a]);return b||null},onStateChange:function(a,b){if(a.xhr&&a.xhr.readyState==4||this.isXdr){this.clearTimeout(a);this.onComplete(a,
b);this.cleanup(a);Ext.EventManager.idleEvent.fire()}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(a,b){var c=a.options,d,e;try{d=this.parseStatus(a.xhr.status)}catch(g){d={success:false,isException:false}}if(e=this.isXdr?b:d.success){d=this.createResponse(a);this.fireEvent("requestcomplete",this,d,c);Ext.callback(c.success,c.scope,[d,c])}else{d=d.isException||a.aborted||a.timedout?this.createException(a):this.createResponse(a);
this.fireEvent("requestexception",this,d,c);Ext.callback(c.failure,c.scope,[d,c])}Ext.callback(c.callback,c.scope,[c,e,d]);delete this.requests[a.id];return d},parseStatus:function(a){var a=a==1223?204:a,b=a>=200&&a<300||a==304,c=false;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=true}return{success:b,isException:c}},createResponse:function(a){for(var b=a.xhr,c=this.isXdr,d={},e=c?[]:b.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),g=e.length,h,i,
j;g--;){h=e[g];i=h.indexOf(":");if(i>=0){j=h.substr(0,i).toLowerCase();h.charAt(i+1)==" "&&++i;d[j]=h.substr(i+1)}}a.xhr=null;delete a.xhr;e={request:a,requestId:a.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return d[a.toLowerCase()]},getAllResponseHeaders:function(){return d}};c&&this.processXdrResponse(e,b);if(a.binary)e.responseBytes=this.getByteArray(b);else{e.responseText=b.responseText;e.responseXML=b.responseXML}b=null;return e},createException:function(a){return{request:a,
requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(a){var b=a.response,c=a.responseBody,d;if(a instanceof Ext.data.flash.BinaryXhr)d=a.responseBytes;else if(window.Uint8Array)d=b?new Uint8Array(b):[];else if(Ext.isIE9p)try{d=(new VBArray(c)).toArray()}catch(e){d=[]}else if(Ext.isIE){this.self.vbScriptInjected||this.injectVBScript();getIEByteArray(a.responseBody,d=[])}else{d=[];a=a.responseText;
b=a.length;for(c=0;c<b;c++)d.push(a.charCodeAt(c)&255)}return d},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text="Function getIEByteArray(byteArray, out)\nDim len, i\nlen = LenB(byteArray)\nFor i = 1 to len\nout.push(AscB(MidB(byteArray, i, 1)))\nNext\nEnd Function";Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},
1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Connection"],0);Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,"Ajax"],0);
Ext.cmd.derive("Ext.util.Floating",Ext.Base,{focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(a){this.fixed=this.fixed&&!(Ext.isIE6||Ext.isIEQuirks);this.el=new Ext.dom.Layer(Ext.apply({preventSync:true,hideMode:this.hideMode,hidden:this.hidden,shadow:typeof this.shadow!="undefined"?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,fixed:this.fixed,shim:this.shim===false?false:void 0},this.floating),a);this.modal&&(!Ext.FocusManager||!Ext.FocusManager.enabled)&&
this.mon(this.el,{keydown:this.onKeyDown,scope:this});this.mon(this.el,{mousedown:this.onMouseDown,scope:this});this.floating=true;this.registerWithOwnerCt();this.initHierarchyEvents()},initHierarchyEvents:function(){var a=this.syncHidden;if(!this.hasHierarchyEventListeners){this.mon(this.hierarchyEventSource,{hide:a,collapse:a,show:a,expand:a,added:a,scope:this});this.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var a=this.ownerCt,b=this.zIndexParent;b&&b.unregisterFloatingItem(this);
b=this.zIndexParent=this.up("[floating]");this.setFloatParent(a||b);delete this.ownerCt;b?b.registerFloatingItem(this):Ext.WindowManager.register(this)},onKeyDown:function(a){var b,c,d;if(a.getKey()==Ext.EventObject.TAB){b=a.shiftKey;c=this.el.query(":focusable");d=c[0];c=c[c.length-1];if(d&&c&&a.target===(b?d:c)){a.stopEvent();(b?c:d).focus(false,true)}}},onMouseDown:function(a){var b=this.focusTask;this.floating&&(!b||!b.id)&&this.toFront(!!a.getTarget(":focusable"))},setFloatParent:function(a){this.floatParent=
a;if((this.constrain||this.constrainHeader)&&!this.constrainTo)this.constrainTo=a?a.getTargetEl():this.container},syncShadow:function(){this.floating&&this.el.sync(true)},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var a=this.hidden||!this.rendered,b=this.hierarchicallyHidden=this.isHierarchicallyHidden(),c=this.pendingShow;if(a!==b)if(b){this.hide();this.pendingShow=true}else if(c){delete this.pendingShow;
c.length?this.show.apply(this,c):this.show()}},setZIndex:function(a){this.el.setZIndex(a);a=a+10;this.floatingDescendants&&(a=Math.floor(this.floatingDescendants.setBase(a)/100)*100+1E4);return a},doConstrain:function(a){(a=this.calculateConstrainedPosition(a,null,true))&&this.setPosition(a)},toFront:function(a){var b=this.zIndexParent,c=this.preventFocusOnActivate;b&&this.bringParentToFront!==false&&b.toFront(true);Ext.isDefined(a)||(a=!this.focusOnToFront);if(a)this.preventFocusOnActivate=true;
this.zIndexManager.bringToFront(this,a)&&(a||this.focus(false,true));this.preventFocusOnActivate=c;return this},setActive:function(a,b){if(a){this.el.shadow&&!this.maximized&&this.el.enableShadow(true);this.preventFocusOnActivate||this.focus(false,true);this.fireEvent("activate",this)}else{this.isWindow&&(b&&b.isWindow&&this.hideShadowOnDeactivate)&&this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a;
if(this.isVisible()){a=this.getAlignToXY(this.container,"c-c");this.setPagePosition(a)}else this.needsCenter=true;return this},onFloatShow:function(){this.needsCenter&&this.center();delete this.needsCenter},fitContainer:function(a){var b=this.floatParent,c=b?b.getTargetEl():this.container,d=c.getViewSize(false),b=b||c.dom!==document.body?[0,0]:c.getXY();d.x=b[0];d.y=b[1];this.setBox(d,a)}},1,0,0,0,0,0,[Ext.util,"Floating"],0);
Ext.cmd.derive("Ext.Component",Ext.AbstractComponent,{statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(a){a=a||{};if(a.initialConfig){if(a.isAction)this.baseAction=
a;a=a.initialConfig}else if(a.tagName||a.dom||Ext.isString(a))a={applyTo:a,id:a.id||a};this.callParent([a]);this.baseAction&&this.baseAction.addComponent(this)},initComponent:function(){this.callParent();if(this.listeners){this.on(this.listeners);this.listeners=null}this.enableBubble(this.bubbleEvents)},afterRender:function(){this.callParent();(!this.x||!this.y)&&(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY)},setAutoScroll:function(a){this.autoScroll=!!a;this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle());
this.updateLayout();return this},setOverflowXY:function(a,b){var c=arguments.length;if(c){this.overflowX=a||"";if(c>1)this.overflowY=b||""}this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle());this.updateLayout();return this},beforeRender:function(){var a=this.floating;if(a){this.addCls(Ext.baseCSSPrefix+"layer");(a=a.cls)&&this.addCls(a)}return this.callParent()},beforeLayout:function(){this.callParent(arguments);if(this.floating)this.onBeforeFloatLayout()},afterComponentLayout:function(){this.callParent(arguments);
if(this.floating)this.onAfterFloatLayout()},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){this.floating?this.makeFloating(a):this.callParent(arguments)},initResizable:function(a){a=Ext.apply({target:this,dynamic:false,constrainTo:this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():null),handles:this.resizeHandles},a);a.target=this;this.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var a=
this.resizer&&this.resizer.el!==this.el?this.resizerComponent=new Ext.Component({el:this.resizer.el,rendered:true,container:this.container}):this,b=Ext.applyIf({el:a.getDragEl(),constrainTo:this.constrain||this.draggable.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0},this.draggable);if(this.constrain||this.constrainDelegate){b.constrain=this.constrain;b.constrainDelegate=this.constrainDelegate}this.dd=new Ext.util.ComponentDragger(a,b)},scrollBy:function(a,
b,c){var d;(d=this.getTargetEl())&&d.dom&&d.scrollBy.apply(d,arguments)},setLoading:function(a,b){var c={target:this};if(this.rendered){Ext.destroy(this.loadMask);this.loadMask=null;if(a!==false&&!this.collapsed){if(Ext.isObject(a))Ext.apply(c,a);else if(Ext.isString(a))c.msg=a;b&&Ext.applyIf(c,{useTargetEl:true});this.loadMask=new Ext.LoadMask(c);this.loadMask.show()}}return this.loadMask},beforeSetPosition:function(){var a=this.callParent(arguments),b;if(a){b=this.adjustPosition(a.x,a.y);a.x=b.x;
a.y=b.y}return a||null},afterSetPosition:function(a,b){this.onPosition(a,b);this.fireEvent("move",this,a,b)},showAt:function(a,b,c){if(!this.rendered&&(this.autoRender||this.floating)){this.x=a;this.y=b;return this.show()}this.floating?this.setPosition(a,b,c):this.setPagePosition(a,b,c);this.show()},showBy:function(a,b,c){if(this.floating&&a){this.show();this.rendered&&!this.hidden&&this.alignTo(a,b||this.defaultAlign,c)}return this},setPagePosition:function(a,b,c){var d;if(Ext.isArray(a)){b=a[1];
a=a[0]}this.pageX=a;this.pageY=b;if(this.floating){if(this.isContainedFloater()){d=this.floatParent.getTargetEl().getViewRegion();Ext.isNumber(a)&&Ext.isNumber(d.left)&&(a=a-d.left);Ext.isNumber(b)&&Ext.isNumber(d.top)&&(b=b-d.top)}else{b=this.el.translateXY(a,b);a=b.x;b=b.y}this.setPosition(a,b,c)}else{b=this.el.translateXY(a,b);this.setPosition(b.x,b.y,c)}return this},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,
a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,b){var c;if(this.isContainedFloater()){c=this.floatParent.getTargetEl().getViewRegion();a=a+c.left;b=b+c.top}return{x:a,y:b}},getPosition:function(a){var b,c=this.isContainedFloater();if(a===true&&!c)return[this.getLocalX(),this.getLocalY()];b=this.getXY();if(a===true&&c){a=this.floatParent.getTargetEl().getViewRegion();b[0]=b[0]-a.left;
b[1]=b[1]-a.top}return b},getId:function(){var a;if(!this.id){a=(a=this.getXType())?a.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp";this.id=a+"-"+this.getAutoId()}return this.id},show:function(a,b,c){var d=this.rendered;if(this.hierarchicallyHidden||this.floating&&!d&&this.isHierarchicallyHidden()){d||this.initHierarchyEvents();if(arguments.length>1){arguments[0]=null;this.pendingShow=arguments}else this.pendingShow=true}else if(d&&this.isVisible())this.toFrontOnShow&&
this.floating&&this.toFront();else if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;delete this.getHierarchyState().hidden;Ext.suspendLayouts();if(!d&&(this.autoRender||this.floating)){this.doAutoRender();d=this.rendered}if(d){this.beforeShow();Ext.resumeLayouts();this.onShow.apply(this,arguments);this.afterShow.apply(this,arguments)}else Ext.resumeLayouts(true)}else this.onShowVeto();return this},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){this.el.show();this.callParent(arguments);
this.floating&&(this.maximized?this.fitContainer():this.constrain&&this.doConstrain())},getAnimateTarget:function(a){(a=a||this.animateTarget)&&(a=a.isComponent?a.getEl():Ext.get(a));return a||null},afterShow:function(a,b,c){var d=this,e=d.el,g,h,a=d.getAnimateTarget(a);d.ghost||(a=null);if(a){g={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight};a={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};e.addCls(d.offsetsCls);h=d.ghost();h.el.stopAnimation();
h.setX(-1E4);d.ghostBox=g;h.el.animate({from:a,to:g,listeners:{afteranimate:function(){delete h.componentLayout.lastComponentSize;d.unghost();delete d.ghostBox;e.removeCls(d.offsetsCls);d.onShowComplete(b,c)}}})}else d.onShowComplete(b,c);d.fireHierarchyEvent("show")},onShowComplete:function(a,b){if(this.floating){this.toFront();this.onFloatShow()}Ext.callback(a,b||this);this.fireEvent("show",this);delete this.hiddenByLayout},hide:function(a,b,c){var d;this.pendingShow&&delete this.pendingShow;if(!this.rendered||
this.isVisible()){d=this.fireEvent("beforehide",this)!==false;if(this.hierarchicallyHidden||d){this.hidden=true;this.getHierarchyState().hidden=true;this.rendered&&this.onHide.apply(this,arguments)}}return this},onHide:function(a,b,c){var d=this,e,g,h,a=d.getAnimateTarget(a);d.ghost||(a=null);if(a){h={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};e=d.ghost();e.el.stopAnimation();g=d.getSize();e.el.animate({to:h,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;
e.el.hide();e.el.setSize(g);d.afterHide(b,c)}}})}d.el.hide();a||d.afterHide(b,c)},afterHide:function(a,b){var c=Ext.Element.getActiveElement();this.hiddenByLayout=null;Ext.AbstractComponent.prototype.onHide.call(this);(c===this.el||this.el.contains(c))&&Ext.fly(c).blur();Ext.callback(a,b||this);this.fireEvent("hide",this);this.fireHierarchyEvent("hide")},onDestroy:function(){this.rendered&&Ext.destroy(this.dd,this.resizer,this.proxy,this.proxyWrap,this.resizerComponent);delete this.focusTask;this.callParent()},
deleteMembers:function(){for(var a=arguments,b=a.length,c=0;c<b;++c)delete this[a[c]]},focus:function(a,b,c,d){var e,g;if(b){if(!this.focusTask)Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(this.focus);this.focusTask.delay(Ext.isNumber(b)?b:10,null,this,[a,false,c,d]);return this}this.focusTask&&this.focusTask.cancel();if(this.rendered&&!this.isDestroyed&&this.isVisible(true)&&(e=this.getFocusEl())){if(e.isComponent)return e.focus(a,b);if(b=e.dom){if(e.needsTabIndex())b.tabIndex=-1;if(this.floating)g=
this.container.dom.scrollTop;e.focus();a===true&&b.select();Ext.callback(c,d)}if(this.floating){this.toFront(true);if(g!==void 0)this.container.dom.scrollTop=g}}return this},cancelFocus:function(){var a=this.focusTask;a&&a.cancel()},blur:function(){var a;this.rendered&&(a=this.getFocusEl())&&a.blur();return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},
getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(a){var a=a||{},b=a.id||Ext.id(),a=Ext.applyIf(a,this.initialConfig);a.id=b;return new (Ext.getClass(this))(a)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget());return b||null},findParentByType:function(a){return Ext.isFunction(a)?
this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(a,b,c){for(var d=this;d;){if(a.apply(b||d,c||[d])===false)break;d=d.getBubbleTarget()}return this},getProxy:function(){var a;if(!this.proxy){a=Ext.getBody();this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",a,true)}return this.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){this.callParent(arguments);this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},
1,["component","box"],["component","box"],{component:!0,box:!0},["widget.box","widget.component"],[["floating",Ext.util.Floating]],[Ext,"Component"],function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true,added:true}})});
Ext.define("ExtThemeNeptune.Component",{override:"Ext.Component",initComponent:function(){this.callParent();if(this.dock&&this.border===void 0)this.border=false},initStyles:function(){var a=this.border;if(this.dock)this.border=null;this.callParent(arguments);this.border=a}});
Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;if(!a._borderRegionInited){a._borderRegionInited=true;a.addStateEvents(["changeregion","changeweight"]);Ext.override(a,{getState:function(){var b=a.callParent(),b=a.addPropertyToState(b,"region");return b=a.addPropertyToState(b,"weight")}})}},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;
return a&&a.isBorderLayout?a:null},setBorderRegion:function(a){var b,c=this.region;if(a!==c)if(b=this.getOwningBorderLayout()){var d=b.regionFlags[a],e=this.placeholder,g=this.splitter,h=b.owner,i=b.regionMeta;b=this.collapsed||this.floated;var j;if(this.fireEventArgs("beforechangeregion",[this,a])===false)return c;Ext.suspendLayouts();this.region=a;Ext.apply(this,d);this.updateCollapseTool&&this.updateCollapseTool();if(g){Ext.apply(g,d);g.updateOrientation();d=h.items;j=d.indexOf(this);if(j>=0){a=
i[a].splitterDelta;if(d.getAt(j+a)!==g){d.remove(g);j=d.indexOf(this);a>0&&++j;d.insert(j,g)}}}if(e){b&&this.expand(false);h.remove(e);this.placeholder=null;b&&this.collapse(null,false)}h.updateLayout();Ext.resumeLayouts(true);this.fireEventArgs("changeregion",[this,c])}else this.region=a;return c},setRegionWeight:function(a){var b=this.getOwningBorderContainer(),c=this.placeholder,d=this.weight;if(a!==d&&this.fireEventArgs("beforechangeweight",[this,a])!==false){this.weight=a;if(c)c.weight=a;b&&
b.updateLayout();this.fireEventArgs("changeweight",[this,d])}return d}});
Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(a,b,c){a.getTarget().update(b.responseText,c.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.setTarget(this.target);this.addEvents("beforeload","exception","load");this.mixins.observable.constructor.call(this);if(this.autoLoad){a=this.autoLoad;a===true&&(a={});this.load(a)}},
setTarget:function(a){a=Ext.get(a);this.target&&this.target!=a&&this.abort();this.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==void 0){Ext.Ajax.abort(a.request);a.mask&&this.removeMask();delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(a){var a=Ext.apply({},a),b=Ext.isDefined(a.loadMask)?a.loadMask:this.loadMask,c=Ext.apply({},a.params),d=Ext.apply({},a.ajaxOptions),
e=a.callback||this.callback,g=a.scope||this.scope||this;Ext.applyIf(d,this.ajaxOptions);Ext.applyIf(a,d);Ext.applyIf(c,this.params);Ext.apply(c,this.baseParams);Ext.applyIf(a,{url:this.url});Ext.apply(a,{scope:this,params:c,callback:this.onComplete});if(this.fireEvent("beforeload",this,a)!==false){b&&this.addMask(b);this.active={options:a,mask:b,scope:g,callback:e,success:a.success||this.success,failure:a.failure||this.failure,renderer:a.renderer||this.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:
this.scripts};this.active.request=Ext.Ajax.request(a);this.setOptions(this.active,a)}},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d=this.active,e;if(d){e=d.scope;b&&(b=this.getRenderer(d.renderer).call(this,this,c,d)!==false);if(b){Ext.callback(d.success,e,[this,c,a]);this.fireEvent("load",this,c,a)}else{Ext.callback(d.failure,e,[this,c,a]);this.fireEvent("exception",this,c,a)}Ext.callback(d.callback,e,[this,b,c,a]);d.mask&&this.removeMask()}delete this.active},getRenderer:function(a){return Ext.isFunction(a)?
a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){this.stopAutoRefresh();delete this.target;this.abort();this.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"ElementLoader"],0);
Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(a,b){var c=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){c=false}return c},Component:function(a,b,c){var d=true,a=a.getTarget(),e=[];try{e=Ext.decode(b.responseText)}catch(g){d=false}if(d){a.suspendLayouts();c.removeAll&&a.removeAll();a.add(e);a.resumeLayouts(true)}return d}}},target:null,loadMask:!1,renderer:"html",setTarget:function(a){Ext.isString(a)&&(a=Ext.getCmp(a));this.target&&this.target!=
a&&this.abort();this.target=a},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a))return a;var b=this.statics().Renderer;switch(a){case "component":return b.Component;case "data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0);
Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(a){var b=this.self,c=b.sizeModelsArray;Ext.apply(this,a);this[a=this.name]=true;this.fixed=!(this.auto=this.natural||this.shrinkWrap);c[this.ordinal=c.length]=b[a]=b.sizeModels[a]=this},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},1,0,0,0,0,0,[Ext.layout,
"SizeModel"],function(){var a=this.sizeModelsArray,b,c,d,e,g;new this({name:"calculated"});new this({name:"configured",names:{width:"width",height:"height"}});new this({name:"natural"});new this({name:"shrinkWrap"});new this({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new this({name:"calculatedFromNatural",natural:true});new this({name:"calculatedFromShrinkWrap",shrinkWrap:true});new this({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",
height:"maxHeight"}});new this({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new this({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});b=0;for(d=a.length;b<d;++b){g=a[b];g.pairsByHeightOrdinal=e=[];for(c=0;c<d;++c)e.push({width:g,height:a[c]})}});
Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(a,b){var c=Ext.ClassManager,d=this.layoutsByType,e,g,h,i,j;if(!a||typeof a==="string"){i=a||b;h={}}else{if(a.isLayout)return a;h=a;i=a.type||b}if(!(g=d[i])){e="layout."+i;(g=c.getNameByAlias(e))||(j=true);g=c.get(g);if(j||!g)return c.instantiateByAlias(e,h||{});d[i]=g}return new g(h)}},constructor:function(a){this.id=
Ext.id(null,this.type+"-");Ext.apply(this,a);this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b=this.context,c;if(this.lastWidthModel!=a.widthModel){this.lastWidthModel&&(c=true);this.lastWidthModel=a.widthModel}if(this.lastHeightModel!=a.heightModel){this.lastWidthModel&&(c=true);this.lastHeightModel=a.heightModel}if(c){(b=a.context).clearTriggers(this,false);b.clearTriggers(this,true);this.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=
a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return false},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,b=b.height;return!a.componentLayout.lastComponentSize&&(c.calculated||b.calculated)?false:!c.shrinkWrap&&!b.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},
getItemsRenderTree:function(a,b){var c=a.length,d,e,g,h;if(c){h=[];for(d=0;d<c;++d){e=a[d];if(!e.rendered){if(b&&b[e.id]!==void 0)g=b[e.id];else{this.configureItem(e);g=e.getRenderTree();b&&(b[e.id]=g)}g&&h.push(g)}}}return h},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c=b.length,d,e;for(d=0;d<c;d++){e=b[d];if(e.rendering){e.finishRender(d);this.afterRenderItem(e)}}},renderChildren:function(){var a=this.getLayoutItems(),b=this.getRenderTarget();this.renderItems(a,b)},renderItems:function(a,
b){var c=a.length,d=0,e;if(c){for(Ext.suspendLayouts();d<c;d++)(e=a[d])&&!e.rendered?this.renderItem(e,b,d):this.isValidParent(e,b,d)?this.configureItem(e):this.moveItem(e,b,d);Ext.resumeLayouts(true)}},isValidParent:function(a,b,c){var a=a.el?a.el.dom:Ext.getDom(a),b=b&&b.dom||b,d=a.parentNode;if(d)if((d=d.className)&&d.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1)a=a.parentNode;if(a&&b){if(typeof c=="number"){c=this.getPositionOffset(c);return a===b.childNodes[c]}return a.parentNode===b}return false},
getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){if(!a.rendered){this.configureItem(a);a.render(b,c);this.afterRenderItem(a)}},moveItem:function(a,b,c){b=b.dom||b;typeof c=="number"&&(c=b.childNodes[c]);b.insertBefore(a.el.dom,c||null);a.container=Ext.get(b);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},
onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b=a.el,c=this.owner,d;if(a.rendered){d=[].concat(this.itemCls||[]);c.itemCls&&(d=Ext.Array.push(d,c.itemCls));d.length&&b.removeCls(d)}delete a.ownerLayout},destroy:function(){var a;if(this.targetCls)(a=this.getTarget())&&a.removeCls(this.targetCls);this.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;c<d;++c)a[c].$i=c;Ext.Array.sort(a,function(a,
c){var d=c.weight-a.weight;if(!d){d=a.$i-c.$i;a[b]&&(d=-d)}return d});for(c=0;c<d;++c)delete a[c].$i}},1,0,0,0,0,0,[Ext.layout,"Layout"],function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels});
Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},
beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);if(b){this.usesContainerHeight&&++a.consumersContainerHeight;this.usesContainerWidth&&++a.consumersContainerWidth}},cacheChildItems:function(a){var b=a.context,c=[],d=this.getVisibleItems(),e=d.length;a.childItems=c;a.visibleItems=d;for(a=0;a<e;++a)c.push(b.getCmp(d[a]))},cacheElements:function(){var a=this.owner;
this.applyChildEls(a.el,a.id)},configureItem:function(a){var b=this.itemCls,c=this.owner.itemCls,d;a.ownerLayout=this;b&&(d=typeof b==="string"?[b]:b);c&&(d=Ext.Array.push(d||[],c));d&&a.addCls(d)},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),c=c.getRenderData();d.applyOut(c,a)},doRenderItems:function(a,b){var c=b.$layout.getRenderTree();c&&Ext.DomHelper.generateMarkup(c,a)},finishRender:function(){var a,
b;this.callParent();this.cacheElements();a=this.getRenderTarget();b=this.getLayoutItems();this.finishRenderItems(a,b)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(a,b){var c=a.targetContext,d=c.getFrameInfo(),e=a.paddingContext.getPaddingInfo(),g=0,h=0,i,j,k,l;if(!a.widthModel.shrinkWrap){++h;k=b?c.getDomProp("width"):c.getProp("width");if(i=typeof k=="number"){++g;k=k-(d.width+e.width);k<0&&(k=0)}}if(!a.heightModel.shrinkWrap){++h;l=b?c.getDomProp("height"):c.getProp("height");
if(j=typeof l=="number"){++g;l=l-(d.height+e.height);l<0&&(l=0)}}return{width:k,height:l,needed:h,got:g,gotAll:g==h,gotWidth:i,gotHeight:j}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;b&&(a=a+b)}return a},getLayoutItems:function(){var a=this.owner;return(a=a&&a.items)&&a.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,
d=[],e,g;for(e=0;e<c;e++){g=b[e];g.rendered&&this.isValidParent(g,a,e)&&d.push(g)}return d},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=Ext.XTemplate.getTpl(this,"renderTpl");a.renderContent||this.owner.setupRenderTpl(a);return a},getRenderTree:function(){var a,b=this.owner.items,c,d={};do{c=b.generation;a=this.getItemsRenderTree(this.getLayoutItems(),d)}while(b.generation!==c);return a},renderChildren:function(){var a=
this.owner.items,b=this.getRenderTarget(),c,d;do{c=a.generation;d=this.getLayoutItems();this.renderItems(d,b)}while(a.generation!==c)},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),g=typeof a=="number",h=typeof b=="number",i=0,j=0;if(!e.width)return 0;if(h&&b<d){j=2;a=a-e.width}if(g&&a<c){i=1;if(!j&&h){b=b-e.height;b<d&&(j=2)}}return j+i},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a=this.getRenderTarget(),b=this.getLayoutItems(),c=b.length,
d=[],e,g;for(e=0;e<c;e++){g=b[e];g.rendered&&(this.isValidParent(g,a,e)&&g.hidden!==true)&&d.push(g)}return d},setupRenderTpl:function(a){a.renderBody=this.doRenderBody;a.renderContainer=this.doRenderContainer;a.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}},1,0,0,0,["layout.container"],[["elementCt",Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0);
Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",
"</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">',
'<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>",
"</table>"],isShrinkWrapTpl:!0,beginLayout:function(a){var b,c;this.callParent(arguments);this.initContextItems(a);if(!this.isShrinkWrapTpl){a.widthModel.shrinkWrap&&(c=true);if(Ext.isStrict&&Ext.isIE7){b=this.getOverflowXStyle(a);if((b==="auto"||b==="scroll")&&a.paddingContext.getPaddingInfo().right)c=true}c&&this.insertTableCt(a)}if(!this.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!this.clearElHasPadding){b=a.paddingContext.getPaddingInfo().bottom;c=this.getOverflowYStyle(a);if(b&&(c==="auto"||c===
"scroll")){this.clearEl.setStyle("height",b);this.clearElHasPadding=true}}},beforeLayoutCycle:function(a){var b=this.owner,c=b.hierarchyState,d=b.hierarchyStateInner;if(!c||c.invalid){b.getHierarchyState();d=b.hierarchyStateInner}a.widthModel.shrinkWrap&&this.isShrinkWrapTpl?d.inShrinkWrapTable=true:delete d.inShrinkWrapTable},beginLayoutCycle:function(a){var b=this.outerCt,c=this.lastOuterCtWidth||"",d=this.lastOuterCtHeight||"",e=this.lastOuterCtTableLayout||"",g=a.state,h,i,j,k;this.callParent(arguments);
j=k=i="";if(!a.widthModel.shrinkWrap&&this.isShrinkWrapTpl){if(Ext.isIE7m&&Ext.isStrict){i=this.getOverflowYStyle(a);if(i==="auto"||i==="scroll")h=true}h||(j="100%");i=this.owner.hierarchyStateInner;h=this.getOverflowXStyle(a);i=i.inShrinkWrapTable||h==="auto"||h==="scroll"?"":"fixed"}!a.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug&&(k="100%");if(j!==c||this.hasOuterCtPxWidth){b.setStyle("width",j);this.lastOuterCtWidth=j;this.hasOuterCtPxWidth=false}if(i!==e){b.setStyle("table-layout",
i);this.lastOuterCtTableLayout=i}if(k!==d||this.hasOuterCtPxHeight){b.setStyle("height",k);this.lastOuterCtHeight=k;this.hasOuterCtPxHeight=false}if(this.hasInnerCtPxHeight){this.innerCt.setStyle("height","");this.hasInnerCtPxHeight=false}g.overflowAdjust=g.overflowAdjust||this.lastOverflowAdjust},calculate:function(a){var b=a.state,c=this.getContainerSize(a,true),b=b.calculatedItems||(b.calculatedItems=this.calculateItems?this.calculateItems(a,c):true);this.setCtSizeIfNeeded(a,c);if(b&&a.hasDomProp("containerChildrenSizeDone")){this.calculateContentSize(a);
if(c.gotAll){this.manageOverflow&&(!a.state.secondPass&&!this.reserveScrollbar)&&this.calculateOverflow(a,c);return}}this.done=false},calculateContentSize:function(a){var b=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),c=b&1||void 0,b=b&2||void 0,d=0,e=a.props;c&&(isNaN(e.contentWidth)?++d:c=void 0);b&&(isNaN(e.contentHeight)?++d:b=void 0);if(d){if(c&&!a.setContentWidth(this.measureContentWidth(a)))this.done=false;if(b&&!a.setContentHeight(this.measureContentHeight(a)))this.done=false}},
calculateOverflow:function(a){var b,c,d,e,g;e=this.getOverflowXStyle(a)==="auto";b=this.getOverflowYStyle(a)==="auto";if(e||b){c=Ext.getScrollbarSize();g=a.overflowContext.el.dom;d=0;g.scrollWidth>g.clientWidth&&(d=d|1);g.scrollHeight>g.clientHeight&&(d=d|2);b=b&&d&2?c.width:0;c=e&&d&1?c.height:0;if(b!==this.lastOverflowAdjust.width||c!==this.lastOverflowAdjust.height){this.done=false;a.invalidate({state:{overflowAdjust:{width:b,height:c},overflowState:d,secondPass:true}})}}},completeLayout:function(a){this.lastOverflowAdjust=
a.state.overflowAdjust},doRenderPadding:function(a,b){var c=b.$layout.owner,d=c[c.contentPaddingProperty];b.$layout.managePadding&&d&&a.push("padding:",c.unitizeBox(d))},finishedLayout:function(a){var b=this.innerCt;this.callParent(arguments);(Ext.isIEQuirks||Ext.isIE8m)&&b.repaint();if(Ext.isOpera){b.setStyle("position","relative");b.dom.scrollWidth;b.setStyle("position","")}},getContainerSize:function(a,b){var c=this.callParent(arguments),d=a.state.overflowAdjust;if(d){c.width=c.width-d.width;c.height=
c.height-d.height}return c},getRenderData:function(){var a=this.owner,b=this.callParent();if((Ext.isIEQuirks||Ext.isIE7m)&&(a.shrinkWrap&1||a.floating&&!a.width))b.shrinkWrapWidth=true;return b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=
this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(a){var b=a.target,c=this.owner.customOverflowEl;a.outerCtContext=a.getEl("outerCt",this);a.innerCtContext=a.getEl("innerCt",this);a.overflowContext=c?a.getEl(c):a.targetContext;if(b[b.contentPaddingProperty]!==void 0)a.paddingContext=this.isShrinkWrapTpl?a.innerCtContext:a.outerCtContext},initLayout:function(){var a=Ext.getScrollbarSize().width,b=this.owner;this.callParent();if(a&&(this.manageOverflow&&
!this.hasOwnProperty("lastOverflowAdjust"))&&(b.autoScroll||this.reserveScrollbar))this.lastOverflowAdjust={width:a,height:0}},insertTableCt:function(a){var b=this.owner,c=0,d,e,g,h;d=Ext.XTemplate.getTpl(this,"tableTpl");d.renderPadding=this.doRenderPadding;this.outerCt.dom.removeChild(this.innerCt.dom);e=document.createDocumentFragment();g=this.innerCt.dom.childNodes;for(h=g.length;c<h;c++)e.appendChild(g[0]);c=this.getTarget();c.dom.innerHTML=d.apply({$layout:this,ownerId:this.owner.id});c.down("td").dom.appendChild(e);
this.applyChildEls(b.el,b.id);this.isShrinkWrapTpl=true;a.removeEl(this.outerCt);a.removeEl(this.innerCt);this.initContextItems(a)},measureContentHeight:function(a){var b=this.outerCt.getHeight(),c=a.target;this.managePadding&&c[c.contentPaddingProperty]===void 0&&(b=b+a.targetContext.getPaddingInfo().height);return b},measureContentWidth:function(a){var b,c,d;if(this.chromeCellMeasureBug){b=this.innerCt.dom;c=b.style;d=c.display;if(d=="table-cell"){c.display="";b.offsetWidth;c.display=d}}b=this.outerCt.getWidth();
c=a.target;this.managePadding&&c[c.contentPaddingProperty]===void 0&&(b=b+a.targetContext.getPaddingInfo().width);return b},setCtSizeIfNeeded:function(a,b){var c=b.width,d=b.height,e=a.paddingContext.getPaddingInfo(),g=this.getTarget(),h=this.getOverflowXStyle(a),i=this.getOverflowYStyle(a),j=h==="auto"||h==="scroll",k=i==="auto"||i==="scroll",l=Ext.getScrollbarSize(),m=this.isShrinkWrapTpl,n=this.manageOverflow,p,o,q;if(c&&!a.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&m&&k||Ext.isIEQuirks&&
!m&&!j)){n||k&&g.dom.scrollHeight>g.dom.clientHeight&&(c=c-l.width);a.outerCtContext.setProp("width",c+e.width);this.hasOuterCtPxWidth=true}if(d&&!a.heightModel.shrinkWrap){Ext.supports.PercentageHeightOverflowBug&&(p=true);if(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&m){o=true;q=!Ext.isIE8}if((p||o)&&j&&g.dom.scrollWidth>g.dom.clientWidth)d=Math.max(d-l.height,0);if(p){a.outerCtContext.setProp("height",d+e.height);this.hasOuterCtPxHeight=true}if(o){q&&(d=d+e.height);a.innerCtContext.setProp("height",
d);this.hasInnerCtPxHeight=true}}if(Ext.isIE7&&Ext.isStrict&&!m&&i==="auto"){c=h==="auto"?"overflow-x":"overflow-y";g.setStyle(c,"hidden");g.setStyle(c,"auto")}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});
Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9E3},constructor:function(a){var b=this;b.list={};b.zIndexStack=[];b.front=null;if(a)if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}else{Ext.EventManager.onWindowResize(b._onContainerResize,
b);b.zseed=b.getNextZSeed();Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return Ext.ZIndexManager.zBase=Ext.ZIndexManager.zBase+1E4},setBase:function(a){this.zseed=a;a=this.assignZIndices();this._activateLast();return a},assignZIndices:function(){for(var a=this.zIndexStack,b=a.length,c=0,d=this.zseed,e,g;c<b;c++)if((e=a[c])&&!e.hidden){d=e.setZIndex(d);e.modal&&(g=e)}g&&this._showModalMask(g);return d},_setActiveChild:function(a,b){var c=this.front,d=a.preventFocusOnActivate;
if(a!==c){c&&!c.destroying&&c.setActive(false,a);if((this.front=a)&&a!=b){a.preventFocusOnActivate=a.preventFocusOnActivate||b&&(b.preventFocusOnActivate||!b.focusOnToFront);a.setActive(true);a.modal&&this._showModalMask(a);a.preventFocusOnActivate=d}}},onComponentHide:function(){this._activateLast()},_activateLast:function(){for(var a=this.zIndexStack,b=a.length-1,c;b>=0&&a[b].hidden;--b);if(c=a[b]){this._setActiveChild(c,this.front);if(c.modal)return}else{this.front&&!this.front.destroying&&this.front.setActive(false);
this.front=null}for(;b>=0;--b){c=a[b];if(c.isVisible()&&c.modal){this._showModalMask(c);return}}this._hideModalMask()},_showModalMask:function(a){var b=a.el.getStyle("zIndex")-4,c=a.floatParent?a.floatParent.getTargetEl():a.container,a=this.mask,d=this.maskShim;if(!a){if(Ext.isIE6){d=this.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"});d.setVisibilityMode(Ext.Element.DISPLAY)}a=this.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+
"mask",style:"height:0;width:0"});a.setVisibilityMode(Ext.Element.DISPLAY);a.on("click",this._onMaskClick,this)}a.maskTarget=c;c=this.getMaskBox();if(d){d.setStyle("zIndex",b);d.show();d.setBox(c)}a.setStyle("zIndex",b);a.show();a.setBox(c)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;if(a&&a.isVisible()){a.maskTarget=void 0;a.hide();b&&b.hide()}},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var a=this.mask.maskTarget;return a.dom===document.body?{height:Math.max(document.body.scrollHeight,
Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:a.getBox()},_onContainerResize:function(){var a=this.mask,b=this.maskShim,c;if(a&&a.isVisible()){a.hide();b&&b.hide();c=this.getMaskBox();if(b){b.setSize(c);b.show()}a.setSize(c);a.show()}},register:function(a){var b=this,c=a.afterHide;a.zIndexManager&&a.zIndexManager.unregister(a);a.zIndexManager=b;b.list[a.id]=a;b.zIndexStack.push(a);a.afterHide=function(){c.apply(a,arguments);
b.onComponentHide(a)}},unregister:function(a){var b=this.list;delete a.zIndexManager;if(b&&b[a.id]){delete b[a.id];delete a.afterHide;Ext.Array.remove(this.zIndexStack,a);this._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a,b){var c=false,d=this.zIndexStack,a=this.get(a);if(a!==this.front){Ext.Array.remove(d,a);a.preventBringToFront?d.unshift(a):d.push(a);this.assignZIndices();b||this._activateLast();c=true;this.front=a;a.modal&&this._showModalMask(a)}return c},
sendToBack:function(a){a=this.get(a);Ext.Array.remove(this.zIndexStack,a);this.zIndexStack.unshift(a);this.assignZIndices();this._activateLast();return a},hideAll:function(){var a=this.list,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b.isComponent&&b.isVisible()&&b.hide()}},hide:function(){var a=0,b=this.zIndexStack,c=b.length,d;for(this.tempHidden=[];a<c;a++){d=b[a];if(d.isVisible()){this.tempHidden.push(d);d.el.hide();d.hidden=true}}},show:function(){for(var a=0,b=this.tempHidden,c=b?b.length:
0,d;a<c;a++){d=b[a];d.el.show();d.hidden=false;d.setPosition(d.x,d.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(a,b){for(var c=[],d=0,e=this.zIndexStack,g=e.length,h;d<g;d++){h=e[d];a.call(b||h,h)!==false&&c.push(h)}return c},each:function(a,b){var c=this.list,d,e;for(d in c)if(c.hasOwnProperty(d)){e=c[d];if(e.isComponent&&a.call(b||e,e)===false)break}},eachBottomUp:function(a,b){for(var c=this.zIndexStack,d=0,e=c.length,g;d<e;d++){g=c[d];if(g.isComponent&&a.call(b||
g,g)===false)break}},eachTopDown:function(a,b){for(var c=this.zIndexStack,d=c.length,e;d-- >0;){e=c[d];if(e.isComponent&&a.call(b||e,e)===false)break}},destroy:function(){var a=this.list,b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];b.isComponent&&b.destroy()}delete this.zIndexStack;delete this.list;delete this.container;delete this.targetEl}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this});
Ext.cmd.derive("Ext.Queryable",Ext.Base,{isQueryable:!0,query:function(a){return Ext.ComponentQuery.query(a||"*",this)},queryBy:function(a,b){for(var c=[],d=this.getRefItems(true),e=0,g=d.length,h;e<g;++e){h=d[e];a.call(b||h,h)!==false&&c.push(h)}return c},queryById:function(a){return this.down("#"+a)},child:function(a){a&&a.isComponent&&(a="#"+Ext.escapeId(a.getItemId()));return this.query("> "+(a||""))[0]||null},down:function(a){a&&a.isComponent&&(a="#"+Ext.escapeId(a.getItemId()));return this.query(a||
"")[0]||null},getRefItems:function(){return[]}},0,0,0,0,0,0,[Ext,"Queryable"],0);
Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(a,b){var c=this.owner,d=a.ownerCtContext,e=a.heightModel,g=a.widthModel,h=c.el.dom===document.body,i=c.lastBox||this.nullBox,j=c.el.lastBox||this.nullBox,k=!h;this.callParent(arguments);if(b){this.usesContentWidth&&++a.consumersContentWidth;this.usesContentHeight&&++a.consumersContentHeight;
this.usesWidth&&++a.consumersWidth;this.usesHeight&&++a.consumersHeight;if(d&&!d.hasRawContent){d=c.ownerLayout;d.usesWidth&&++a.consumersWidth;d.usesHeight&&++a.consumersHeight}}if(g.configured){d=g.names.width;h||(k=b?c[d]!==j.width:g.constrained);a.setWidth(c[d],k)}else if(a.isTopLevel){if(g.calculated){g=i.width;a.setWidth(g,g!=j.width)}g=i.x;a.setProp("x",g,g!=j.x)}if(e.configured){i=e.names.height;h||(k=b?c[i]!==j.height:e.constrained);a.setHeight(c[i],k)}else if(a.isTopLevel){if(e.calculated){g=
i.height;a.setHeight(g,g!=j.height)}g=i.y;a.setProp("y",g,g!=j.y)}},finishedLayout:function(a){var b=a.children,c=this.owner,d,e,g;if(b){d=b.length;for(e=0;e<d;e++){g=b[e];g.el.lastBox=g.props}}a.previousSize=this.lastComponentSize;this.lastComponentSize=c.el.lastBox=b=a.props;c=c.lastBox||(c.lastBox={});c.x=b.x;c.y=b.y;c.width=b.width;c.height=b.height;c.invalid=false;this.callParent(arguments)},notifyOwner:function(a){var b=this.lastComponentSize,a=a.previousSize,b=[b.width,b.height];a&&b.push(a.width,
a.height);this.owner.afterComponentLayout.apply(this.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b=this.targetInfo;if(!b){a=a.getEl("getTarget",this);this.targetInfo=b={padding:a.getPaddingInfo(),border:a.getBorderInfo()}}return b},measureAutoDimensions:function(a,b){var c=this.owner,d=c.layout,e=a.heightModel,g=a.widthModel,h=a.boxParent,i=a.isBoxParent,j=a.props,k,l={gotWidth:false,gotHeight:false,isContainer:k=
!a.hasRawContent},m=b||3,n,p=0,o=0,q;if(g.shrinkWrap&&a.consumersContentWidth){++p;n=!(m&1);if(k)if(n){l.contentWidth=0;l.gotWidth=true;++o}else{if((l.contentWidth=a.getProp("contentWidth"))!==void 0){l.gotWidth=true;++o}}else{q=j.contentWidth;if(typeof q=="number"){l.contentWidth=q;l.gotWidth=true;++o}else if(q=n?true:a.hasDomProp("containerChildrenSizeDone")?i||!h||h.widthModel.shrinkWrap?true:h.hasDomProp("width"):false){n=n?0:d&&d.measureContentWidth?d.measureContentWidth(a):this.measureContentWidth(a);
if(!isNaN(l.contentWidth=n)){a.setContentWidth(n,true);l.gotWidth=true;++o}}}}else if(g.natural&&a.consumersWidth){++p;q=j.width;if(typeof q=="number"){l.width=q;l.gotWidth=true;++o}else if((q=i||!h?true:h.hasDomProp("width"))&&!isNaN(l.width=this.measureOwnerWidth(a))){a.setWidth(l.width,false);l.gotWidth=true;++o}}if(e.shrinkWrap&&a.consumersContentHeight){++p;e=!(m&2);if(k)if(e){l.contentHeight=0;l.gotHeight=true;++o}else{if((l.contentHeight=a.getProp("contentHeight"))!==void 0){l.gotHeight=true;
++o}}else{q=j.contentHeight;if(typeof q=="number"){l.contentHeight=q;l.gotHeight=true;++o}else if(q=e?true:a.hasDomProp("containerChildrenSizeDone")?c.noWrap?true:g.shrinkWrap?i||!h||h.widthModel.shrinkWrap?true:h.hasDomProp("width"):(a.bodyContext||a).hasDomProp("width"):false){n=e?0:d&&d.measureContentHeight?d.measureContentHeight(a):this.measureContentHeight(a);if(!isNaN(l.contentHeight=n)){a.setContentHeight(n,true);l.gotHeight=true;++o}}}}else if(e.natural&&a.consumersHeight){++p;q=j.height;
if(typeof q=="number"){l.height=q;l.gotHeight=true;++o}else if((q=i||!h?true:h.hasDomProp("width"))&&!isNaN(l.height=this.measureOwnerHeight(a))){a.setHeight(l.height,false);l.gotHeight=true;++o}}if(h)a.onBoxMeasured();l.gotAll=o==p;return l},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}},
0,0,0,0,0,0,[Ext.layout.component,"Component"],0);
Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(a,b){var c=this.lastWidthModel,d=this.lastHeightModel,e=this.owner.el;this.callParent(arguments);c&&(c.fixed&&a.widthModel.shrinkWrap)&&e.setWidth(null);d&&(d.fixed&&a.heightModel.shrinkWrap)&&e.setHeight(null)},calculate:function(a){var b=this.measureAutoDimensions(a),c=a.heightModel,d=a.widthModel;
if(b.gotWidth)d.shrinkWrap?this.publishOwnerWidth(a,b.contentWidth):this.publishInnerWidth&&this.publishInnerWidth(a,b.width);else if(!d.auto&&this.publishInnerWidth){d=this.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width");d===void 0?this.done=false:this.publishInnerWidth(a,d)}if(b.gotHeight)c.shrinkWrap?this.publishOwnerHeight(a,b.contentHeight):this.publishInnerHeight&&this.publishInnerHeight(a,b.height);else if(!c.auto&&this.publishInnerHeight){c=this.waitForOuterHeightInDom?a.getDomProp("height"):
a.getProp("height");c===void 0?this.done=false:this.publishInnerHeight(a,c)}if(!b.gotAll)this.done=false},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c=this.owner,d=this.calculateOwnerHeightFromContentHeight(a,b),e,g;if(isNaN(d))this.done=false;else{c=Ext.Number.constrain(d,c.minHeight,c.maxHeight);if(c==d)e=this.setHeightInDom;else{g=this.sizeModels[c<
d?"constrainedMax":"constrainedMin"];d=c;a.heightModel.calculatedFromShrinkWrap?a.heightModel=g:a.invalidate({heightModel:g})}a.setHeight(d,e)}},publishOwnerWidth:function(a,b){var c=this.owner,d=this.calculateOwnerWidthFromContentWidth(a,b),e,g;if(isNaN(d))this.done=false;else{c=Ext.Number.constrain(d,c.minWidth,c.maxWidth);if(c==d)e=this.setWidthInDom;else{g=this.sizeModels[c<d?"constrainedMax":"constrainedMin"];d=c;a.widthModel.calculatedFromShrinkWrap?a.widthModel=g:a.invalidate({widthModel:g})}a.setWidth(d,
e)}}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0);
Ext.cmd.derive("Ext.container.AbstractContainer",Ext.Component,{renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");this.callParent();this.getLayout();this.initItems()},initItems:function(){var a=this.items;this.items=new Ext.util.AbstractMixedCollection(false,
this.getComponentId);this.floatingItems=new Ext.util.MixedCollection(false,this.getComponentId);if(a){Ext.isArray(a)||(a=[a]);this.add(a)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},beforeRender:function(){var a=this.getLayout();this.callParent();a.initialized||a.initLayout();(a=a.targetCls)&&this.applyTargetCls(a)},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var a=this.floatingItems.items,
b=a.length,c,d;this.callParent(arguments);for(c=0;c<b;c++){d=a[c];!d.rendered&&d.autoShow&&d.show()}},onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},repositionFloatingItems:function(){var a=this.floatingItems.items,b=a.length,c,d;for(c=0;c<b;c++){d=a[c];d.el&&!d.hidden&&d.setPosition(d.x,d.y)}},setupRenderTpl:function(a){this.callParent(arguments);this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},
getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(a){var b=this.layout;b&&(b.isLayout&&b!=a)&&b.setOwner(null);this.layout=a;a.setOwner(this)},getLayout:function(){if(!this.layout||!this.layout.isLayout)this.setLayout(Ext.layout.Layout.create(this.layout,this.self.prototype.layout||this.defaultLayoutType));return this.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(a){++this.layoutCounter;this.hasListeners.afterlayout&&this.fireEvent("afterlayout",
this,a)},prepareItems:function(a,b){for(var a=Ext.isArray(a)?a.slice():[a],c=0,d=a.length,e;c<d;c++){e=a[c];if(e==null){Ext.Array.erase(a,c,1);--c;--d}else{b&&(e=this.applyDefaults(e));e.isContained=this;a[c]=this.lookupComponent(e);delete e.isContained;delete a[c].isContained}}return a},applyDefaults:function(a){var b=this.defaults;if(b){Ext.isFunction(b)&&(b=b.call(this,a));Ext.isString(a)&&(a=Ext.ComponentManager.get(a));Ext.applyIf(a,b)}return a},lookupComponent:function(a){return typeof a=="string"?
Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var a=Ext.Array.slice(arguments),b=typeof a[0]=="number"?a.shift():-1,c=this.getLayout(),d,e,g,h,i;if(a.length==1&&Ext.isArray(a[0])){a=a[0];d=true}this.rendered&&Ext.suspendLayouts();i=a=this.prepareItems(a,true);e=a.length;!d&&e==1&&(i=a[0]);for(d=0;d<e;d++){g=a[d];h=b<0?this.items.length:b+d;if(g.floating){this.floatingItems.add(g);g.onAdded(this,
h);this.hasListeners.add&&this.fireEvent("add",this,g,h)}else if((!this.hasListeners.beforeadd||this.fireEvent("beforeadd",this,g,h)!==false)&&this.onBeforeAdd(g)!==false){this.items.insert(h,g);g.onAdded(this,h);this.onAdd(g,h);c.onAdd(g,h);this.hasListeners.add&&this.fireEvent("add",this,g,h)}}this.updateLayout();this.rendered&&Ext.resumeLayouts(true);return i},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(a,b){var c;if(b&&b.isComponent){c=this.items.indexOf(b);if(c!==-1)return this.move(c,
a)}return this.add(a,b)},move:function(a,b){var c=this.items,d;a.isComponent&&(a=c.indexOf(a));d=c.removeAt(a);if(d===false)return false;c.insert(b,d);this.onMove(d,a,b);this.updateLayout();return d},onMove:Ext.emptyFn,onBeforeAdd:function(a){a.ownerCt&&a.ownerCt!==this&&a.ownerCt.remove(a,false)},remove:function(a,b){var c=this.getComponent(a);if(c&&(!this.hasListeners.beforeremove||this.fireEvent("beforeremove",this,c)!==false)){this.doRemove(c,b);this.hasListeners.remove&&this.fireEvent("remove",
this,c);!this.destroying&&!c.floating&&this.updateLayout()}return c},doRemove:function(a,b){var b=b===true||b!==false&&this.autoDestroy,c=this.layout,d=c&&this.rendered,e=a.destroying||b,g=a.floating;g?this.floatingItems.remove(a):this.items.remove(a);if(d&&!g){c.running&&Ext.AbstractComponent.cancelLayout(a,e);c.onRemove(a,e)}a.onRemoved(e);this.onRemove(a,e);if(b)a.destroy();else{d&&!g&&c.afterRemove(a);this.detachOnRemove&&a.rendered&&this.detachComponent(a)}},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},
removeAll:function(a){var b=this.items.items.slice().concat(this.floatingItems.items),c=[],d=0,e=b.length,g;for(this.suspendLayouts();d<e;d++){g=b[d];this.remove(g,a);g.ownerCt!==this&&c.push(g)}this.resumeLayouts(!!e);return c},getRefItems:function(a){for(var b=this.items.items,c=b.length,d=0,e,g=[];d<c;d++){e=b[d];g[g.length]=e;a&&e.getRefItems&&g.push.apply(g,e.getRefItems(true))}b=this.floatingItems.items;c=b.length;for(d=0;d<c;d++){e=b[d];g[g.length]=e;a&&e.getRefItems&&g.push.apply(g,e.getRefItems(true))}return g},
cascade:function(a,b,c){var d=this.items?this.items.items:[],e=d.length,g=0,h,i=c?c.concat(this):[this],j=i.length-1;if(a.apply(b||this,i)!==false)for(;g<e;g++){h=d[g];if(h.cascade)h.cascade(a,b,c);else{i[j]=h;a.apply(b||d,i)}}return this},isAncestor:function(a){for(;a;){if(a.ownerCt===this)return true;a=a.ownerCt}},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());var b=this.items.get(a);!b&&typeof a!="number"&&(b=this.floatingItems.get(a));return b},contains:function(a,b){var c=false;
if(b){this.cascade(function(b){if(b.contains&&b.contains(a)){c=true;return false}});return c}return this.items.contains(a)||this.floatingItems.contains(a)},nextChild:function(a,b){var c,d=this.items.indexOf(a);if(d!==-1){c=b?Ext.ComponentQuery(b,this.items.items.slice(d+1)):this.items.getAt(d+1);!c&&this.ownerCt&&(c=this.ownerCt.nextChild(this,b))}return c},prevChild:function(a,b){var c,d=this.items.indexOf(a);if(d!==-1){c=b?Ext.ComponentQuery(b,this.items.items.slice(d+1)):this.items.getAt(d+1);
!c&&this.ownerCt&&(c=this.ownerCt.nextChild(this,b))}return c},enable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];c.resetDisable&&c.enable()}return this},disable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++){c=a[d];if(c.resetDisable!==false&&!c.disabled){c.disable();c.resetDisable=true}}return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},
beforeDestroy:function(){var a=this.items,b=this.floatingItems,c;if(a)for(;c=a.first();)this.doRemove(c,true);if(b)for(;c=b.first();)this.doRemove(c,true);Ext.destroy(this.layout);this.callParent()}},0,0,["component","box"],{component:!0,box:!0},0,[["queryable",Ext.Queryable]],[Ext.container,"AbstractContainer"],0);
Ext.cmd.derive("Ext.container.Container",Ext.container.AbstractContainer,{alternateClassName:"Ext.Container",getChildByElement:function(a,b){for(var c,d,e=0,g=this.getRefItems(),h=g.length,a=Ext.getDom(a);e<h;e++){c=g[e];if((d=c.getEl())&&(d.dom===a||d.contains(a)))return b&&c.getChildByElement?c.getChildByElement(a,b):c}return null}},0,["container"],["component","container","box"],{component:!0,container:!0,box:!0},["widget.container"],0,[Ext.container,"Container",Ext,"Container"],0);
Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(){var a=this.owner.autoSize,b=a&&a.width,c=this.sizePolicies,c=c[b]||c.$,b=a&&a.height;
return c=c[b]||c.$},calculate:function(a){var b=this.owner,c=b.autoSize,d,e;if(c===true)c=this.autoSizeDefault;if(c){d=this.getDimension(b,c.width,"getWidth",b.width);e=this.getDimension(b,c.height,"getHeight",b.height)}a.childItems[0].setSize(d,e);a.setWidth(d);a.setHeight(e);a.setContentSize(d||b.field.getWidth(),e||b.field.getHeight())},getDimension:function(a,b,c,d){switch(b){case "boundEl":return a.boundEl[c]();case "field":break;default:return d}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,
"Editor"],0);
Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this.field=Ext.ComponentManager.create(this.field,"textfield");Ext.apply(a,{inEditor:true,msgTarget:a.msgTarget=="title"?"title":"qtip"});this.mon(a,{scope:this,blur:this.onFieldBlur,specialkey:this.onSpecialKey});
a.grow&&this.mon(a,"autosize",this.onFieldAutosize,this,{delay:1});this.floating={constrain:this.constrain};this.items=a;this.callParent(arguments);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(a,b){var c=this.field.inputEl;this.callParent(arguments);if(c){c.dom.name="";this.swallowKeys&&c.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(a,b){var c=this,d=b.getKey(),
e=c.completeOnEnter&&d==b.ENTER,d=c.cancelOnEsc&&d==b.ESC;if(e||d){b.stopEvent();Ext.defer(function(){e?c.completeEdit():c.cancelEdit();a.triggerBlur&&a.triggerBlur(b)},10)}c.fireEvent("specialkey",c,a,b)},startEdit:function(a,b){var c=this.field;this.completeEdit();this.boundEl=Ext.get(a);b=Ext.isDefined(b)?b:Ext.String.trim(this.boundEl.dom.innerText||this.boundEl.dom.innerHTML);if(!this.rendered){if(this.ownerCt){this.parentEl=this.ownerCt.el;this.parentEl.position()}this.render(this.parentEl||
document.body)}if(this.fireEvent("beforestartedit",this,this.boundEl,b)!==false){this.startValue=b;this.show();c.suspendEvents();c.reset();c.setValue(b);c.resumeEvents();this.realign(true);c.focus();c.autoSize&&c.autoSize();this.editing=true}},realign:function(a){a===true&&this.updateLayout();this.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(a){var b=this.field,c;if(this.editing){b.assertValue&&b.assertValue();c=this.getValue();if(b.isValid())if(""+c===""+this.startValue&&
this.ignoreNoChange)this.hideEdit(a);else{if(this.fireEvent("beforecomplete",this,c,this.startValue)!==false){c=this.getValue();this.updateEl&&this.boundEl&&this.boundEl.update(c);this.hideEdit(a);this.fireEvent("complete",this,c,this.startValue)}}else this.revertInvalid!==false&&this.cancelEdit(a)}},onShow:function(){this.callParent(arguments);this.hideEl!==false&&this.boundEl.hide();this.fireEvent("startedit",this,this.boundEl,this.startValue)},cancelEdit:function(a){var b=this.startValue,c=this.field,
d;if(this.editing){d=this.getValue();c.suspendEvents();this.setValue(b);c.resumeEvents();this.hideEdit(a);this.fireEvent("canceledit",this,d,b)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onFieldBlur:function(){var a=Ext.Element.getActiveElement();this.allowBlur===true&&(this.editing&&this.selectSameEditor!==true)&&this.completeEdit();(Ext.fly(a).isFocusable()||a.getAttribute("tabIndex"))&&a.focus()},onHide:function(){var a=this.field;if(this.editing)this.completeEdit();else{a.hasFocus&&
a.triggerBlur&&a.triggerBlur();a.collapse&&a.collapse();this.hideEl!==false&&this.boundEl.show();this.callParent(arguments)}},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroy(this.field);delete this.field;delete this.parentEl;delete this.boundEl;this.callParent(arguments)}},0,["editor"],["editor","component","container","box"],{editor:!0,component:!0,container:!0,box:!0},["widget.editor"],0,[Ext,"Editor"],0);
Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){if(arguments.length!==1||typeof a==="string"||a.dom||a.tagName||a===document||a.isComponent)this.legacyConstructor.apply(this,arguments);else{Ext.apply(this,a);this.bindings=[];if(!this.target.isComponent)this.target=Ext.get(this.target);this.binding?this.addBinding(this.binding):a.key&&this.addBinding(a);this.enable()}},legacyConstructor:function(a,b,c){Ext.apply(this,{target:Ext.get(a),
eventName:c||this.eventName,bindings:[]});b&&this.addBinding(b);this.enable()},addBinding:function(a){var b=a.key,c;if(this.processing)this.bindings=bindings.slice(0);if(Ext.isArray(a)){b=0;for(c=a.length;b<c;b++)this.addBinding(a[b])}else this.bindings.push(Ext.apply({keyCode:this.processKeys(b)},a))},removeBinding:function(a){var b=this.bindings,c=b.length,d,e,g;if(this.processing)this.bindings=b.slice(0);g=this.processKeys(a.key);for(d=0;d<c;++d){e=b[d];if(e.fn===a.fn&&e.scope===a.scope&&a.alt==
e.alt&&(a.crtl==e.crtl&&a.shift==e.shift)&&Ext.Array.equals(e.keyCode,g)){Ext.Array.erase(this.bindings,d,1);break}}},processKeys:function(a){var b=false,c,d;if(Ext.isString(a)){c=[];a=a.toUpperCase();d=0;for(b=a.length;d<b;++d)c.push(a.charCodeAt(d));a=c;b=true}Ext.isArray(a)||(a=[a]);if(!b){d=0;for(b=a.length;d<b;++d){c=a[d];Ext.isString(c)&&(a[d]=c.toUpperCase().charCodeAt(0))}}return a},handleTargetEvent:function(){var a=/input|textarea/i;return function(b){var c,d,e,g,h;if(this.enabled){c=this.bindings;
d=0;e=c.length;b=this.processEvent.apply(this||this.processEventScope,arguments);if(this.ignoreInputFields){g=b.target;h=g.contentEditable;if(a.test(g.tagName)||h===""||h==="true")return}if(!b.getKey)return b;for(this.processing=true;d<e;++d)this.processBinding(c[d],b);this.processing=false}}}(),processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var c=b.getKey(),d=a.fn||a.handler,e=a.scope||this,g=a.keyCode,h=a.defaultEventAction,i,j,k=new Ext.EventObjectImpl(b);
i=0;for(j=g.length;i<j;++i)if(c===g[i]){if(d.call(e,c,b)!==true&&h)k[h]();break}}},checkModifiers:function(a,b){for(var c=["shift","ctrl","alt"],d=0,e=c.length,g,h;d<e;++d){h=c[d];g=a[h];if(!(g===void 0||g===b[h+"Key"]))return false}return true},on:function(a,b,c){var d,e,g,h;if(Ext.isObject(a)&&!Ext.isArray(a)){d=a.key;e=a.shift;g=a.ctrl;h=a.alt}else d=a;this.addBinding({key:d,shift:e,ctrl:g,alt:h,fn:b,scope:c})},un:function(a,b,c){var d,e,g,h;if(Ext.isObject(a)&&!Ext.isArray(a)){d=a.key;e=a.shift;
g=a.ctrl;h=a.alt}else d=a;this.removeBinding({key:d,shift:e,ctrl:g,alt:h,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.target.on(this.eventName,this.handleTargetEvent,this);this.enabled=true}},disable:function(){if(this.enabled){this.target.removeListener(this.eventName,this.handleTargetEvent,this);this.enabled=false}},setDisabled:function(a){a?this.disable():this.enable()},destroy:function(a){var b=this.target;this.bindings=[];this.disable();a===
true&&(b.isComponent?b.destroy():b.remove());delete this.target}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0);
Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){arguments.length===2?this.legacyConstructor.apply(this,arguments):this.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:this.getKeyEvent("forceKeyDown"in
a?a.forceKeyDown:this.forceKeyDown,a.eventName)},c,d,e,g;this.map&&this.map.destroy();if(a.processEvent){b.processEvent=a.processEvent;b.processEventScope=a.processEventScope||this}if(a.keyMap)b=this.map=a.keyMap;else{b=this.map=new Ext.util.KeyMap(b);this.destroyKeyMap=true}c=Ext.util.KeyNav.keyOptions;d=a.scope||this;for(e in c)if(c.hasOwnProperty(e)&&(g=a[e])){typeof g==="function"&&(g={handler:g,defaultEventAction:a.defaultEventAction!==void 0?a.defaultEventAction:this.defaultEventAction});b.addBinding({key:c[e],
handler:Ext.Function.bind(this.handleEvent,g.scope||d,g.handler||g.fn,true),defaultEventAction:g.defaultEventAction!==void 0?g.defaultEventAction:this.defaultEventAction})}b.disable();a.disabled||b.enable()},handleEvent:function(a,b,c){return c.call(this,b)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(a){this.destroyKeyMap&&this.map.destroy(a);delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){this.map&&
this.map.disable();this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(a,b){return a||Ext.EventManager.useKeyDown&&!b?"keydown":b||this.eventName}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0);
Ext.cmd.derive("Ext.FocusManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.FocusMgr"],enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a);b.addEvents("beforecomponentfocus","componentfocus","disable","enable");b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);
if(b.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentFocus.apply(b,arguments)}},onBlur:function(){this.callParent(arguments);if(b.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentBlur.apply(b,arguments)}},onDestroy:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentDestroy.apply(b,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,
this);b.onComponentHide.apply(b,arguments)}}});b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,down:b.navigateSiblings,up:b.navigateSiblings});b.focusData={};b.subscribers=new Ext.util.HashMap;b.focusChain={};Ext.apply(c.pseudos,{nextFocus:function(a,b,c){for(var c=c||1,b=parseInt(b,10),h=a.length,i=b,j;;){(i=i+c)>=h?
i=0:i<0&&(i=h-1);if(i===b)break;if((j=a[i]).isFocusable())return[j]}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){for(var b=a.length,c=[],h=0,i;h<b;h++){i=a[h];i.ownerCt||c.push(i)}return c}})},addXTypeToWhitelist:function(a){Ext.isArray(a)?Ext.Array.forEach(a,this.addXTypeToWhitelist,this):Ext.Array.contains(this.whitelist,a)||this.whitelist.push(a)},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);a.isDestroyed||a.blur()},disable:function(){if(this.enabled){delete this.options;
this.enabled=false;this.removeDOM();this.keyNav.disable();this.fireEvent("disable",this)}},enable:function(a){a===true&&(a={focusFrame:true});this.options=a=a||{};if(!this.enabled){this.enabled=true;this.initDOM(a);this.keyNav.enable();this.focusEl.focus();delete this.focusedCmp;this.fireEvent("enable",this)}},focusLast:function(){if(this.isWhitelisted(this.focusedCmp))return true;this.previousFocusedCmp&&this.previousFocusedCmp.focus()},getRootComponents:function(){var a=Ext.ComponentQuery,b=a.query(":focusable:root:not([floating])"),
a=a.query(":focusable:root[floating]");a.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return a.concat(b)},initDOM:function(a){var b=this.focusFrameCls,c=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),d=0,e=c.length;if(!Ext.isReady)return Ext.onReady(this.initDOM,this);for(;d<e;d++)c[d].addFocusListener();if(!this.focusEl){this.focusEl=Ext.getBody();this.focusEl.dom.tabIndex=-1}if(!this.focusFrame&&a.focusFrame){this.focusFrame=Ext.getBody().createChild({cls:b,
children:[{cls:b+"-top"},{cls:b+"-bottom"},{cls:b+"-left"},{cls:b+"-right"}],style:"top: -100px; left: -100px;"});this.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);this.focusFrame.hide().setLocalXY(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b=this.focusedCmp,c;if(this.isWhitelisted(b))return true;if(b)if(c=b.hasFocus?Ext.ComponentQuery.query(">:focusable",b)[0]:b)c.focus();else{if(Ext.isFunction(b.onClick)){a.button=
0;b.onClick(a);b.isVisible(true)?b.focus():this.navigateOut()}}else if(a=this.getRootComponents()[0]){a.getFocusEl()===this.focusEl&&this.focusEl.blur();a.focus()}},navigateOut:function(){var a;!this.focusedCmp||!(a=this.focusedCmp.up(":focusable"))?this.focusEl.focus():a.focus();return true},navigateSiblings:function(a,b,c){var d=b||this,e=a.getKey(),g=Ext.EventObject,b=e==g.LEFT||e==g.RIGHT||e==g.UP||e==g.DOWN,a=a.shiftKey||e==g.LEFT||e==g.UP?"prev":"next",h,d=d.focusedCmp&&d.focusedCmp.comp||d.focusedCmp;
if(!d&&!c||b&&this.isWhitelisted(d))return true;if(!d||d.is(":root"))h=this.getRootComponents();else(c=c||d.up())&&(h=c.getRefItems());if(h){c=d?Ext.Array.indexOf(h,d):-1;if((h=Ext.ComponentQuery.query(":"+a+"Focus("+c+")",h)[0])&&d!==h){h.focus();return h}}},onComponentBlur:function(a){if(this.focusedCmp===a){this.previousFocusedCmp=a;delete this.focusedCmp}this.focusFrame&&this.focusFrame.hide()},onComponentFocus:function(a){var b=this.focusChain,c;if(a.isFocusable()){this.focusChain={};this.focusTask.delay(10,
null,null,[a,a.getFocusEl()])}else{this.clearComponent(a);if(!b[a.id])if(c=a.up()){b[a.id]=true;c.focus()}}},handleComponentFocus:function(a,b){var c,d,e,g,h,i,j,k,l;if(this.fireEvent("beforecomponentfocus",this,a,this.previousFocusedCmp)===false)this.clearComponent(a);else{this.focusedCmp=a;if(this.shouldShowFocusFrame(a)){c="."+this.focusFrameCls+"-";d=this.focusFrame;e=(b.dom?b:b.el).getBox();g=e.top;h=e.left;i=e.width;e=e.height;j=d.child(c+"top");k=d.child(c+"bottom");l=d.child(c+"left");c=d.child(c+
"right");j.setWidth(i).setLocalXY(h,g);k.setWidth(i).setLocalXY(h,g+e-2);l.setHeight(e-2).setLocalXY(h,g+2);c.setHeight(e-2).setLocalXY(h+i-2,g+2);d.show()}this.fireEvent("componentfocus",this,a,this.previousFocusedCmp)}},onComponentHide:function(a){var b=false,c;this.focusedCmp&&(b=a.hasFocus||a.isContainer&&a.isAncestor(this.focusedCmp));this.clearComponent(a);b&&(c=a.up(":focusable"))?c.focus():this.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){if(!this.enabled&&!this.subscribers.length){Ext.destroy(this.focusFrame);
delete this.focusEl;delete this.focusFrame}},removeXTypeFromWhitelist:function(a){Ext.isArray(a)?Ext.Array.forEach(a,this.removeXTypeFromWhitelist,this):Ext.Array.remove(this.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,g={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c};Ext.iterate(b,function(b,d){g[b]=function(b){var g;g=c.focusedCmp===a?c.navigateSiblings(b,c,a):c.navigateSiblings(b);return Ext.isFunction(d)&&d.call(e||a,b,g)===true?true:
g}},c);return new Ext.util.KeyNav(d,g)},shouldShowFocusFrame:function(a){return!this.focusFrame||!a?false:(this.options||{}).focusFrame||this.focusData[a.id].focusFrame?true:false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"FocusManager",Ext,"FocusMgr"],0);
Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){if(this.glyph)this.autoEl="div";this.callParent()},getElConfig:function(){var a=this.callParent(),b=Ext._glyphFontFamily,c=this.glyph,d;if(this.autoEl=="img")d=a;else if(this.glyph){if(typeof c==="string"){b=c.split("@");c=b[0];b=b[1]}a.html="&#"+c+";";if(b)a.style="font-family:"+b}else a.cn=[d={tag:"img",id:this.id+"-img"}];if(d){if(this.imgCls)d.cls=(d.cls?
d.cls+" ":"")+this.imgCls;d.src=this.src||Ext.BLANK_IMAGE_URL}if(this.alt)(d||a).alt=this.alt;if(this.title)(d||a).title=this.title;return a},onRender:function(){var a;this.callParent(arguments);a=this.el;this.imgEl=this.autoEl=="img"?a:a.getById(this.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(a){var b=this.imgEl;this.src=a;if(b)b.dom.src=a||Ext.BLANK_IMAGE_URL},setGlyph:function(a){var b=Ext._glyphFontFamily,c;if(a!=this.glyph){if(typeof a===
"string"){b=a.split("@");a=b[0];b=b[1]}c=this.el.dom;c.innerHTML="&#"+a+";";if(b)c.style="font-family:"+b}}},0,["image","imagecomponent"],["component","image","box","imagecomponent"],{component:!0,image:!0,box:!0,imagecomponent:!0},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0);
Ext.cmd.derive("Ext.util.Bindable",Ext.Base,{bindStore:function(a,b,c){var c=c||"store",d=this[c];if(!b&&d){this.onUnbindStore(d,b,c);a!==d&&d.autoDestroy?d.destroyStore():this.unbindStoreListeners(d)}if(a){a=Ext.data.StoreManager.lookup(a);this.bindStoreListeners(a);this.onBindStore(a,b,c)}this[c]=a||null;return this},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;b&&a.un(b)},bindStoreListeners:function(a){var b=Ext.apply({},this.getStoreListeners(a));
if(!b.scope)b.scope=this;this.storeListeners=b;a.on(b)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Bindable"],0);
Ext.cmd.derive("Ext.LoadMask",Ext.Component,{msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,
constructor:function(a){var b;if(arguments.length===2){b=a;a=arguments[1]}else b=a.target;if(!b.isComponent){b=Ext.get(b);this.isElement=true}this.ownerCt=b;this.isElement||this.bindComponent(b);this.callParent([a]);this.store&&this.bindStore(this.store,true)},bindComponent:function(a){var b={scope:this,resize:this.sizeMask,added:this.onComponentAdded,removed:this.onComponentRemoved};if(a.floating){b.move=this.sizeMask;this.activeOwner=a}else if(a.ownerCt)this.onComponentAdded(a.ownerCt);else this.preventBringToFront=
true;this.mon(a,b);this.mon(this.hierarchyEventSource,{show:this.onContainerShow,hide:this.onContainerHide,expand:this.onContainerExpand,collapse:this.onContainerCollapse,scope:this})},onComponentAdded:function(a){delete this.activeOwner;this.floatParent=a;a.floating||(a=a.up("[floating]"));if(a){this.activeOwner=a;this.mon(a,"move",this.sizeMask,this)}else this.preventBringToFront=true;a=this.floatParent.ownerCt;if(this.rendered&&this.isVisible()&&a){this.floatOwner=a;this.mon(a,"afterlayout",this.sizeMask,
this,{single:true})}},onComponentRemoved:function(){var a=this.activeOwner,b=this.floatOwner;a&&this.mun(a,"move",this.sizeMask,this);b&&this.mun(b,"afterlayout",this.sizeMask,this);delete this.activeOwner;delete this.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a))this.onComponentShow()},onContainerHide:function(a){if(this.isActiveContainer(a))this.onComponentHide()},onContainerExpand:function(a){if(this.isActiveContainer(a))this.onComponentShow()},
onContainerCollapse:function(a){if(this.isActiveContainer(a))this.onComponentHide()},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){if(this.rendered&&this.isVisible()){this.hide();this.showNext=true}},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var a;if(this.rendered&&this.isVisible()){this.center();a=this.getMaskTarget();this.getMaskEl().show().setSize(a.getSize()).alignTo(a,"tl-tl")}},bindStore:function(a,
b){this.mixins.bindable.bindStore.apply(this,arguments);if((a=this.store)&&a.isLoading())this.onBeforeLoad()},getStoreListeners:function(a){var b=this.onLoad,c=this.onBeforeLoad,d={cachemiss:c,cachefilled:b};if(!a.proxy.isSynchronous){d.beforeLoad=c;d.load=b}return d},onDisable:function(){this.callParent(arguments);if(this.loading)this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},
onBeforeLoad:function(){var a=this,b=a.getOwner(),c;if(!a.disabled){a.loading=true;if(b.componentLayoutCounter)a.maybeShow();else{c=b.afterComponentLayout;b.afterComponentLayout=function(){b.afterComponentLayout=c;c.apply(b,arguments);a.maybeShow()}}}},maybeShow:function(){var a=this.getOwner();a.isVisible(true)?this.loading&&a.rendered&&this.show():this.showNext=true},getMaskEl:function(){return this.maskEl||(this.maskEl=this.el.insertSibling({cls:this.maskCls,style:{zIndex:this.el.getStyle("zIndex")-
2}},"before"))},onShow:function(){var a=this.msgEl;this.callParent(arguments);this.loading=true;if(this.useMsg){a.show();this.msgTextEl.update(this.msg)}else a.parent().hide()},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this)}else{delete this.showNext;return this.callParent(arguments)}},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this)}else return this.callParent(arguments)},
afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(a){var b=this.activeOwner;b&&(a=parseInt(b.el.getStyle("zIndex"),10)+1);this.getMaskEl().setStyle("zIndex",a-1);return this.mixins.floating.setZIndex.apply(this,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){this.isElement&&this.ownerCt.unmask();Ext.destroy(this.maskEl);this.callParent()}},1,["loadmask"],["component","box","loadmask"],{component:!0,box:!0,loadmask:!0},["widget.loadmask"],
[["floating",Ext.util.Floating],["bindable",Ext.util.Bindable]],[Ext,"LoadMask"],0);
Ext.cmd.derive("Ext.data.association.Association",Ext.Base,{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1E3,create:function(a){Ext.isString(a)&&(a={type:a});switch(a.type){case "belongsTo":return new Ext.data.association.BelongsTo(a);case "hasMany":return new Ext.data.association.HasMany(a);case "hasOne":return new Ext.data.association.HasOne(a)}return a}},constructor:function(a){Ext.apply(this,
a);var b=Ext.ModelManager.types,c=a.ownerModel,d=a.associatedModel,e=b[c],b=b[d],g=a.associationKey,h;if(g){h=(""+g).search(/[\[\.]/);if(h>=0)this.associationKeyFunction=Ext.functionFactory("obj","return obj"+(h>0?".":"")+g)}this.initialConfig=a;this.ownerModel=e;this.associatedModel=b;Ext.applyIf(this,{ownerName:c,associatedName:d});this.associationId="association"+ ++this.statics().AUTO_ID},getReader:function(){var a=this.reader,b=this.associatedModel;if(a){Ext.isString(a)&&(a={type:a});a.isReader?
a.setModel(b):Ext.applyIf(a,{model:b,type:this.defaultReaderType});this.reader=Ext.createByAlias("reader."+a.type,a)}return this.reader||null}},1,0,0,0,0,0,[Ext.data.association,"Association",Ext.data,"Association"],0);
Ext.cmd.derive("Ext.ModelManager",Ext.AbstractManager,{alternateClassName:"Ext.ModelMgr",singleton:!0,typeName:"mtype",associationStack:[],registerType:function(a,b){var c=b.prototype;if(c&&c.isModel)c=b;else{if(!b.extend)b.extend="Ext.data.Model";c=Ext.define(a,b)}return this.types[a]=c},unregisterType:function(a){delete this.types[a]},onModelDefined:function(a){var b=this.associationStack,c=b.length,d=[],e,g;for(g=0;g<c;g++){e=b[g];e.associatedModel==a.modelName&&d.push(e)}g=0;for(c=d.length;g<
c;g++){a=d[g];this.types[a.ownerModel].prototype.associations.add(Ext.data.association.Association.create(a));Ext.Array.remove(b,a)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){typeof a=="string"&&(a=this.types[a]);return a},create:function(a,b,c){return new (typeof b=="function"?b:this.types[b||a.name])(a,c)}},0,0,0,0,0,0,[Ext,"ModelManager",Ext,"ModelMgr"],function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,
arguments)}});
Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(a){var b,c;this.callParent(arguments);if(!a.textEls){c=this.owner.textEl;if(c.isComposite){a.textEls=[];c=c.elements;for(b=c.length;b--;)a.textEls[b]=a.getEl(Ext.get(c[b]))}else a.textEls=[a.getEl("textEl")]}},calculate:function(a){var b,c,d;this.callParent(arguments);if(Ext.isNumber(d=a.getProp("width"))){d=d-a.getBorderInfo().width;c=a.textEls;for(b=c.length;b--;)c[b].setWidth(d)}else this.done=false}},
0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0);
Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:'<tpl if="internalText">;<div class="{baseCls}-text {baseCls}-text-back">{text}</div>;</tpl>;<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">;<tpl if="internalText">;<div class="{baseCls}-text">;<div>{text}</div>;</div>;</tpl>;</div>'.split(";"),componentLayout:"progressbar",initComponent:function(){this.callParent();
this.addEvents("update")},initRenderData:function(){return Ext.apply(this.callParent(),{internalText:!this.hasOwnProperty("textEl"),text:this.text||"&#160;",percentage:this.value?this.value*100:0})},onRender:function(){this.callParent(arguments);if(this.textEl){this.textEl=Ext.get(this.textEl);this.updateText(this.text)}else this.textEl=this.el.select("."+this.baseCls+"-text")},updateProgress:function(a,b,c){var d=this.value;this.value=a||0;b&&this.updateText(b);if(this.rendered&&!this.isDestroyed)if(c===
true||c!==false&&this.animate){this.bar.stopAnimation();this.bar.animate(Ext.apply({from:{width:d*100+"%"},to:{width:this.value*100+"%"}},this.animate))}else this.bar.setStyle("width",this.value*100+"%");this.fireEvent("update",this,this.value,b);return this},updateText:function(a){this.text=a;this.rendered&&this.textEl.update(this.text);return this},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this;if(!b.waitTimer){a=a||{};b.updateText(a.text);
b.waitTimer=Ext.TaskManager.start({run:function(c){var d=a.increment||10;b.updateProgress(((c-1+d)%d+1)*(100/d)*0.01,null,a.animate)},interval:a.interval||1E3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||b);b.reset()},scope:b})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(a){this.updateProgress(0);this.clearTimer();a===true&&this.hide();return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskManager.stop(this.waitTimer);
this.waitTimer=null}},onDestroy:function(){var a=this.bar;this.clearTimer();if(this.rendered){this.textEl.isComposite&&this.textEl.clear();Ext.destroyMembers(this,"textEl","progressBar");a&&this.animate&&a.stopAnimation()}this.callParent()}},0,["progressbar"],["component","progressbar","box"],{component:!0,progressbar:!0,box:!0},["widget.progressbar"],0,[Ext,"ProgressBar"],0);
Ext.cmd.derive("Ext.ShadowPool",Ext.Base,{singleton:!0,markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){var a=[].concat(this.shadows),b,c=a.length;
for(b=0;b<c;b++)a[b].remove();this.shadows=[]}},0,0,0,0,0,0,[Ext,"ShadowPool"],0);
Ext.cmd.derive("Ext.Shadow",Ext.Base,{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a){var b,c;Ext.apply(this,a);if(!Ext.isString(this.mode))this.mode=this.defaultMode;a=this.offset;c=Math.floor(a/2);this.opacity=50;switch(this.mode.toLowerCase()){case "drop":b=Ext.supports.CSS3BoxShadow?{t:a,l:a,h:-a,w:-a}:{t:-c,l:-c,h:-c,w:-c};break;case "sides":b=Ext.supports.CSS3BoxShadow?{t:a,l:0,h:-a,w:0}:{t:-(1+c),l:1+c-2*a,h:-1,w:c-1};break;case "frame":b=Ext.supports.CSS3BoxShadow?
{t:0,l:0,h:0,w:0}:{t:1+c-2*a,l:1+c-2*a,h:a-c-1,w:a-c-1};break;case "bottom":b=Ext.supports.CSS3BoxShadow?{t:a,l:0,h:-a,w:0}:{t:a,l:0,h:0,w:0}}this.adjusts=b},getShadowSize:function(){var a=this.el?this.offset:0,a=[a,a,a,a],b=this.mode.toLowerCase();if(this.el&&b!=="frame"){a[0]=0;b=="drop"&&(a[3]=0)}return a},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;"boxShadow"in b||("WebkitBoxShadow"in b?a="WebkitBoxShadow":"MozBoxShadow"in b&&(a=
"MozBoxShadow"));return a}(),show:function(a){var b,c,a=Ext.get(a);b=parseInt(a.getStyle("z-index"),10)-1||0;c=a[this.localXYNames.get]();if(!this.el){this.el=Ext.ShadowPool.pull();this.el.dom.style.position=this.fixed?"fixed":"";this.el.dom.nextSibling!=a.dom&&this.el.insertBefore(a)}this.el.setStyle("z-index",this.zIndex||b);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow)this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+this.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+
this.offset+")";this.realign(c[0],c[1],a.dom.offsetWidth,a.dom.offsetHeight);this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(a,b,c,d){if(this.el){var e=this.adjusts,g=this.el,h=g.dom.style;g[this.localXYNames.set](a+e.l,b+e.t);a=Math.max(c+e.w,0);d=Math.max(d+e.h,0);e=a+"px";d=d+"px";if(h.width!=e||h.height!=d){h.width=e;h.height=d;Ext.supports.CSS3BoxShadow&&(h[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888")}}},hide:function(){if(this.el){this.el.dom.style.display=
"none";Ext.ShadowPool.push(this.el);delete this.el}},setZIndex:function(a){this.zIndex=a;this.el&&this.el.setStyle("z-index",a)},setOpacity:function(a){if(this.el){Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(a=Math.floor(a*100/2)/100);this.opacity=a;this.el.setOpacity(a)}}},1,0,0,0,0,0,[Ext,"Shadow"],0);
Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:!0,constructor:function(){Ext.app.EventDomain.instances[this.type]=this;this.bus={};this.monitoredClasses=[]},dispatch:function(a,b,c){var b=this.bus[b],d,e,g,h,i,j,k;if(!b)return true;for(d in b)if(b.hasOwnProperty(d)&&this.match(a,d)){e=b[d];for(g in e)if(e.hasOwnProperty(g)){h=e[g];j=0;for(k=h.length;j<k;j++){i=h[j];if(i.fire.apply(i,c)===false)return false}}}return true},listen:function(a,b){var c=this.bus,d=this.idProperty,
e=this.monitoredClasses,g=e.length,h,i,j,k,l,m,n;for(i in a)if(a.hasOwnProperty(i)&&(m=a[i])){d&&(i=i==="*"?i:i.substring(1));for(n in m)if(m.hasOwnProperty(n)){h=null;j=m[n];k=b;l=new Ext.util.Event(b,n);if(Ext.isObject(j)){h=j;j=h.fn;k=h.scope||b;delete h.fn;delete h.scope}typeof j==="string"&&(j=k[j]);l.addListener(j,k,h);for(h=g;h-- >0;)e[h].hasListeners._incr_(n);h=c[n]||(c[n]={});h=h[i]||(h[i]={});h=h[b.id]||(h[b.id]=[]);h.push(l)}}},match:function(a,b){var c=this.idProperty;return c?b==="*"||
a[c]===b:false},monitor:function(a){var b=this,c=a.isInstance?a:a.prototype,d=c.fireEventArgs;b.monitoredClasses.push(a);c.fireEventArgs=function(a,c){var h=d.apply(this,arguments);h!==false&&(h=b.dispatch(this,a,c));return h}},unlisten:function(a){var b=this.bus,c,d,e,g;for(d in b)if(b.hasOwnProperty(d)&&(g=b[d]))for(e in g){c=g[e];delete c[a]}}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0);
Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:!0,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Component)},match:function(a,b){return a.is(b)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0);
Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:!0,constructor:function(){var a=Ext.app.EventDomain.instances;this.callParent();this.domains=a;this.bus=a.component.bus},control:function(a,b){return this.domains.component.listen(a,b)},listen:function(a,b){var c=this.domains,d;for(d in a)a.hasOwnProperty(d)&&c[d].listen(a[d],b)},unlisten:function(a){var b=Ext.app.EventDomain.instances,c;for(c in b)b[c].unlisten(a)}},1,0,0,0,0,0,[Ext.app,"EventBus"],0);
Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,g;if(c){d=[];e=0;for(g=a.length;e<g;++e)d.push([a[e]])}else{e=2;for(g=a[0].length;e<=g;++e)b.push("field"+e)}return new Ext.data.ArrayStore({data:d,
fields:b,autoDestroy:true,autoCreated:true,expanded:c})}return Ext.isString(a)?this.get(a):Ext.data.AbstractStore.create(a)},getKey:function(a){return a.storeId}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(a,b){var c;Ext.isObject(a)?b=a:b.storeId=a;c=b instanceof Ext.data.Store?b:new Ext.data.Store(b);return Ext.data.StoreManager.register(c)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});
Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:!0,type:"global",constructor:function(){this.callParent();this.monitor(Ext.globalEvents)},listen:function(a,b){this.callParent([{global:a},b])},match:function(){return true}},1,0,0,0,0,0,[Ext.app.domain,"Global"],0);
Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{loaded:!0,count:0,total:0,success:!1,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===void 0)this.count=this.records.length}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0);
Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.fieldCount=0;(this.model=Ext.ModelManager.getModel(this.model))&&this.model.prototype.fields&&this.buildExtractors();this.addEvents("exception")},setModel:function(a,
b){this.model=Ext.ModelManager.getModel(a);a&&this.buildExtractors(true);b&&this.proxy&&this.proxy.setModel(this.model,true)},read:function(a){var b;a&&(b=a.responseText?this.getResponseData(a):this.readRecords(a));return b||this.nullResultSet},readRecords:function(a){var b,c,d,e,g,h,i;this.lastFieldGeneration!==this.model.prototype.fields.generation&&this.buildExtractors(true);this.rawData=a;a=this.getData(a);b=true;c=0;d=[];if(this.successProperty){h=this.getSuccess(a);if(h===false||h==="false")b=
false}this.messageProperty&&(i=this.getMessage(a));if(this.readRecordsOnFailure||b){if(e=Ext.isArray(a)?a:this.getRoot(a))g=e.length;if(this.totalProperty){h=parseInt(this.getTotal(a),10);isNaN(h)||(g=h)}if(e){d=this.extractData(e);c=d.length}}return new Ext.data.ResultSet({total:g||c,count:c,records:d,success:b,message:i})},extractData:function(a){var b=this.model,c=a.length,d=Array(c),e,g,h,i;if(!a.length&&Ext.isObject(a)){a=[a];c=1}for(i=0;i<c;i++){g=a[i];if(g.isModel)d[i]=g;else{d[i]=h=new b(void 0,
this.getId(g),g,e={});h.phantom=false;this.convertRecordData(e,g,h);this.implicitIncludes&&h.associations.length&&this.readAssociated(h,g)}}return d},readAssociated:function(a,b){for(var c=a.associations.items,d=0,e=c.length,g,h,i;d<e;d++){g=c[d];if(h=this.getAssociatedDataRoot(b,g.associationKeyFunction||g.associationKey||g.name)){i=g.getReader();if(!i)i=(i=g.associatedModel.getProxy())?i.getReader():new this.constructor({model:g.associatedName});g.read(a,i,h)}}},getAssociatedDataRoot:function(a,
b){return Ext.isFunction(b)?b(a):a[b]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(){},onMetaChange:function(a){var b=a.fields||this.getFields();this.metaData=a;this.root=a.root||this.root;this.idProperty=a.idProperty||this.idProperty;this.totalProperty=a.totalProperty||this.totalProperty;this.successProperty=a.successProperty||this.successProperty;this.messageProperty=a.messageProperty||this.messageProperty;
a=a.clientIdProperty;if(this.model){this.model.setFields(b,this.idProperty,a);this.setModel(this.model,true)}else{b=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:b,clientIdProperty:a});if(this.idProperty)b.idProperty=this.idProperty;this.setModel(b,true)}},getIdProperty:function(){var a=this.model.prototype.idField,b=this.idProperty;if(!b&&a&&(b=a.mapping)==null)b=a.name;return b},buildExtractors:function(a){var b=this,c=b.getIdProperty(),d=b.totalProperty,e=b.successProperty,
g=b.messageProperty,h;a===true&&delete b.convertRecordData;if(!b.convertRecordData){if(d)b.getTotal=b.createAccessor(d);if(e)b.getSuccess=b.createAccessor(e);if(g)b.getMessage=b.createAccessor(g);if(c){h=b.createAccessor(c);b.getId=function(a){a=h.call(b,a);return a===void 0||a===""?null:a}}else b.getId=function(){return null};b.convertRecordData=b.buildRecordDataExtractor();b.lastFieldGeneration=b.model.prototype.fields.generation}},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n",
"    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n',
'<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",
'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n',
'        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,b={clientIdProp:b.clientIdProperty,fields:b.fields.items};a.recordDataExtractorTemplate.createFieldAccessExpression=function(){return a.createFieldAccessExpression.apply(a,arguments)};return Ext.functionFactory(a.recordDataExtractorTemplate.apply(b)).call(a)},destroyReader:function(){delete this.proxy;delete this.model;delete this.convertRecordData;delete this.getId;
delete this.getTotal;delete this.getSuccess;delete this.getMessage}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})});
Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(a){var b;if(this.getMeta){if(b=this.getMeta(a))this.onMetaChange(b)}else if(a.metaData)this.onMetaChange(a.metaData);this.jsonData=a;return this.callParent([a])},getResponseData:function(a){var b;try{b=Ext.decode(a.responseText);return this.readRecords(b)}catch(c){b=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,
message:c.message});this.fireEvent("exception",this,a,b);Ext.Logger.warn("Unable to parse the JSON returned by the server");return b}},buildExtractors:function(){var a=this.metaProperty;this.callParent(arguments);this.getRoot=this.root?this.createAccessor(this.root):Ext.identityFn;if(a)this.getMeta=this.createAccessor(a)},extractData:function(a){var b=this.record,c=[],d,e;if(b){d=a.length;if(!d&&Ext.isObject(a)){d=1;a=[a]}for(e=0;e<d;e++)c[e]=a[e][b]}else c=a;return this.callParent([c])},createAccessor:function(){var a=
/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.useSimpleAccessors!==true){var c=(""+b).search(a);if(c>=0)return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}return function(a){return a[b]}}}(),createFieldAccessExpression:function(){var a=/[\[\.]/;return function(b,c,d){var e=b.mapping,g=e||e===0,b=g?e:b.name,h;if(e!==false){if(typeof b==="function")d=c+".mapping("+d+", this)";else if(this.useSimpleAccessors===true||(h=(""+b).search(a))<
0){if(!g||isNaN(b))b='"'+b+'"';d=d+"["+b+"]"}else if(h===0)d=d+b;else{c=b.split(".");e=c.length;g=1;d=d+"."+c[0];for(h=[d];g<e;g++){d=d+("."+c[g]);h.push(d)}d=h.join(" && ")}return d}}}()},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0);
Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(a){Ext.apply(this,a)},write:function(a){for(var b=a.operation,c=b.records||[],d=c.length,e=0,g=[];e<d;e++)g.push(this.getRecordData(c[e],b));return this.writeRecords(a,g)},getRecordData:function(a,b){var c=a.phantom===true,d=a.fields,e=d.items,g={},h=a.clientIdProperty,i,j,k;if(this.writeAllFields||c){k=
e.length;for(j=0;j<k;j++){i=e[j];i.persist&&this.writeValue(g,i,a)}}else{e=a.getChanges();for(j in e)if(e.hasOwnProperty(j)){i=d.get(j);i.persist&&this.writeValue(g,i,a)}}if(c){if(h&&b&&b.records.length>1)g[h]=a.internalId}else if(this.writeRecordId){c=d.get(a.idProperty)[this.nameProperty]||a.idProperty;g[c]=a.getId()}return g},writeValue:function(a,b,c){var d=b[this.nameProperty],e=this.dateFormat||b.dateWriteFormat||b.dateFormat,g=c.get(b.name);if(d==null)d=b.name;a[d]=b.serialize?b.serialize(g,
c):b.type===Ext.data.Types.DATE&&e&&Ext.isDate(g)?Ext.Date.format(g,e):g}},1,0,0,0,["writer.base"],0,[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0);
Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(a){for(var b=a.length,c=0,d,e,g,h,i;c<b;c++){d=a[c];for(e in d)if(d.hasOwnProperty(e)){g=e.split(".");h=g.length-1;if(h>0){for(i=d[e];h>0;h--){var j={};j[g[h]]=i;i=j}d[g[0]]=d[g[0]]||{};Ext.Object.merge(d[g[0]],i);delete d[e]}}}return a},writeRecords:function(a,b){var c=this.root;this.expandData&&(b=this.getExpandedData(b));
this.allowSingle&&b.length===1&&(b=b[0]);if(this.encode)c&&(a.params[c]=Ext.encode(b));else{a.jsonData=a.jsonData||{};c?a.jsonData[c]=b:a.jsonData=b}return a}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0);
Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,isSynchronous:!1,constructor:function(a){this.proxyConfig=a=a||{};this.mixins.observable.constructor.call(this,a);if(this.model!==void 0&&!(this.model instanceof Ext.data.Model))this.setModel(this.model);else{this.reader&&this.setReader(this.reader);this.writer&&this.setWriter(this.writer)}},
setModel:function(a,b){this.model=Ext.ModelManager.getModel(a);this.setReader(this.reader);this.setWriter(this.writer);b&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(a){var b=true,c=this.reader;if(a===void 0||typeof a=="string"){a={type:a};b=false}if(a.isReader)a.setModel(this.model);else{b&&(a=Ext.apply({},a));Ext.applyIf(a,{proxy:this,model:this.model,type:this.defaultReaderType});a=Ext.createByAlias("reader."+a.type,a)}if(a!==c&&a.onMetaChange)a.onMetaChange=
Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this);return this.reader=a},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(a){var b=true;if(a===void 0||typeof a=="string"){a={type:a};b=false}if(!a.isWriter){b&&(a=Ext.apply({},a));Ext.applyIf(a,{model:this.model,type:this.defaultWriterType});a=Ext.createByAlias("writer."+a.type,a)}return this.writer=a},getWriter:function(){return this.writer},create:Ext.emptyFn,
read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(a,b){var c=this.batchActions,d,e,g,h,i,j,k,l,m;a.operations===void 0&&(a={operations:a,listeners:b});a.batch?Ext.isDefined(a.batch.runOperation)&&(d=Ext.applyIf(a.batch,{proxy:this,listeners:{}})):a.batch={proxy:this,listeners:a.listeners||{}};d||(d=new Ext.data.Batch(a.batch));d.on("complete",Ext.bind(this.onBatchComplete,this,[a],0));g=this.batchOrder.split(",");h=g.length;for(j=0;j<h;j++){i=g[j];if(e=a.operations[i])if(c)d.add(new Ext.data.Operation({action:i,
records:e}));else{l=e.length;for(k=0;k<l;k++){m=e[k];d.add(new Ext.data.Operation({action:i,records:[m]}))}}}d.start();return d},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]);Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},clone:function(){return new this.self(this.proxyConfig)}},1,0,0,0,["proxy.proxy"],[["observable",Ext.util.Observable]],[Ext.data.proxy,
"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0);
Ext.cmd.derive("Ext.data.Operation",Ext.Base,{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(a){var b=this.actionCommitRecordsRe.test(this.action),c,d,e,g,h,i;if(!this.actionSkipSyncRe.test(this.action))if((d=
this.records)&&d.length){b&&(i=[]);if(d.length>1)if(this.action=="update"||d[0].clientIdProperty){c=new Ext.util.MixedCollection;c.addAll(a);for(a=d.length;a--;){g=d[a];e=c.findBy(this.matchClientRec,g);e=g.copyFrom(e);b&&i.push(e)}}else{c=0;for(h=d.length;c<h;++c){g=d[c];e=a[c];if(g&&e){e=this.updateRecord(g,e);b&&i.push(e)}}}else{e=this.updateRecord(d[0],a[0]);b&&(i[0]=e)}if(b)for(a=d.length;a--;)d[a].commit(false,i[a])}},updateRecord:function(a,b){return b&&(a.phantom||a.getId()===b.getId())?a.copyFrom(b):
[]},matchClientRec:function(a){var b=this.getId();return b&&a.getId()===b?true:a.internalId===this.internalId},setStarted:function(){this.running=this.started=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.running=this.success=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();
return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}},1,0,0,0,0,0,[Ext.data,"Operation"],0);
Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{statics:{create:function(a){if(!a.isStore){if(!a.type)a.type="store";a=Ext.createByAlias("store."+a.type,a)}return a}},onClassExtended:function(a,b,c){var d=b.model,e;if(typeof d=="string"){e=c.onBeforeCreated;c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(d,function(){e.apply(a,b)})}}},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",
isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(a){var b;Ext.apply(this,a);this.removed=[];this.mixins.observable.constructor.apply(this,arguments);this.model=Ext.ModelManager.getModel(this.model);Ext.applyIf(this,{modelDefaults:null});if(!this.model&&this.fields){this.model=Ext.define("Ext.data.Store.ImplicitModel-"+(this.storeId||Ext.id()),{extend:"Ext.data.Model",fields:this.fields,proxy:this.proxy||this.defaultProxyType});delete this.fields;this.implicitModel=true}this.setProxy(this.proxy||
this.model.getProxy());if(!this.disableMetaChangeEvent)this.proxy.on("metachange",this.onMetaChange,this);if(this.id&&!this.storeId){this.storeId=this.id;delete this.id}this.storeId&&Ext.data.StoreManager.register(this);this.mixins.sortable.initSortable.call(this);b=this.decodeFilters(this.filters);this.filters=new Ext.util.MixedCollection;this.filters.addAll(b)},setProxy:function(a){if(a instanceof Ext.data.proxy.Proxy)a.setModel(this.model);else{Ext.isString(a)&&(a={type:a});Ext.applyIf(a,{model:this.model});
a=Ext.createByAlias("proxy."+a.type,a)}return this.proxy=a},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c=Ext.ModelManager.create(Ext.applyIf(a,this.modelDefaults),this.model.modelName),b=b||{};Ext.applyIf(b,{action:"create",records:[c]});this.proxy.create(new Ext.data.Operation(b),this.onProxyWrite,this);return c},read:function(){return this.load.apply(this,arguments)},update:function(a){a=a||{};Ext.applyIf(a,{action:"update",
records:this.getUpdatedRecords()});return this.proxy.update(new Ext.data.Operation(a),this.onProxyWrite,this)},onProxyWrite:function(a){var b=a.wasSuccessful(),c=a.getRecords();switch(a.action){case "create":this.onCreateRecords(c,a,b);break;case "update":this.onUpdateRecords(c,a,b);break;case "destroy":this.onDestroyRecords(c,a,b)}if(b){this.fireEvent("write",this,a);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}Ext.callback(a.callback,a.scope||this,[c,a,b])},onCreateRecords:Ext.emptyFn,
onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){if(c)this.removed=[]},destroy:function(a){a=a||{};Ext.applyIf(a,{action:"destroy",records:this.getRemovedRecords()});return this.proxy.destroy(new Ext.data.Operation(a),this.onProxyWrite,this)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a){var a=a.operations,b=a.length,c;this.suspendEvents();for(c=0;c<b;c++)this.onProxyWrite(a[c]);this.resumeEvents();this.fireEvent("datachanged",this);this.fireEvent("refresh",
this)},onBatchException:function(){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(){},decodeFilters:function(a){Ext.isArray(a)||(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Filter,
d,e;for(e=0;e<b;e++){d=a[e];if(!(d instanceof c)){Ext.apply(d,{root:"data"});if(d.fn)d.filterFn=d.fn;typeof d=="function"&&(d={filterFn:d});a[e]=new c(d)}}return a},clearFilter:function(){},isFiltered:function(){},filterBy:function(){},sync:function(a){var b={},c=this.getNewRecords(),d=this.getUpdatedRecords(),e=this.getRemovedRecords(),g=false;if(c.length>0){b.create=c;g=true}if(d.length>0){b.update=d;g=true}if(e.length>0){b.destroy=e;g=true}if(g&&this.fireEvent("beforesync",b)!==false){a=a||{};
this.proxy.batch(Ext.apply(a,{operations:b,listeners:this.getBatchListeners()}))}return this},getBatchListeners:function(){var a={scope:this,exception:this.onBatchException};this.batchUpdateMode=="operation"?a.operationcomplete=this.onBatchOperationComplete:a.complete=this.onBatchComplete;return a},save:function(){return this.sync.apply(this,arguments)},load:function(a){this.lastOptions=a=Ext.apply({action:"read",filters:this.filters.items,sorters:this.getSorters()},a);a=new Ext.data.Operation(a);
if(this.fireEvent("beforeload",this,a)!==false){this.loading=true;this.proxy.read(a,this.onProxyLoad,this)}return this},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,b){var c,d;if(this.autoSync&&!this.autoSyncSuspended){for(c=b.length;c--;)if(a.fields.get(b[c]).persist){d=true;break}d&&this.sync()}this.onUpdate(a,Ext.data.Model.EDIT,b);this.fireEvent("update",this,a,Ext.data.Model.EDIT,b)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null);
this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a,b){b||(b=null);this.onUpdate(a,Ext.data.Model.COMMIT,b);this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b)},onUpdate:Ext.emptyFn,onIdChanged:function(a,b,c,d){this.fireEvent("idchanged",this,a,b,c,d)},destroyStore:function(){var a;if(!this.isDestroyed){this.clearListeners();this.storeId&&Ext.data.StoreManager.unregister(this);this.clearData();this.data=this.tree=this.sorters=this.filters=this.groupers=null;this.reader&&
this.reader.destroyReader();this.proxy=this.reader=this.writer=null;this.isDestroyed=true;if(this.implicitModel){a=Ext.getClassName(this.model);Ext.undefine(a);Ext.ModelManager.unregisterType(a)}else this.model=null}},getState:function(){var a=this,b,c,d=!!a.groupers,e=[],g=[],h=[];d&&a.groupers.each(function(a){e[e.length]=a.serialize();b=true});a.sorters&&a.sorters.each(function(c){if(d&&!a.groupers.contains(c)){g[g.length]=c.serialize();b=true}});a.filters&&a.statefulFilters&&a.filters.each(function(a){h[h.length]=
a.serialize();b=true});if(b){c={};if(e.length)c.groupers=e;if(g.length)c.sorters=g;if(h.length)c.filters=h;return c}},applyState:function(a){var b=!!this.sorters,c=!!this.groupers,d=!!this.filters,e;if(c&&a.groupers){this.groupers.clear();this.groupers.addAll(this.decodeGroupers(a.groupers))}if(b&&a.sorters){this.sorters.clear();this.sorters.addAll(this.decodeSorters(a.sorters))}if(d&&a.filters){this.filters.clear();this.filters.addAll(this.decodeFilters(a.filters))}b&&c&&this.sorters.insert(0,this.groupers.getRange());
if(this.autoLoad&&(this.remoteSort||this.remoteGroup||this.remoteFilter))this.autoLoad===true?this.reload():this.reload(this.autoLoad);if(d&&this.filters.length&&!this.remoteFilter){this.filter();e=this.sortOnFilter}b&&(this.sorters.length&&!this.remoteSort&&!e)&&this.sort()},doSort:function(a){if(this.remoteSort)this.load();else{this.data.sortBy(a);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}this.fireEvent("sort",this,this.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,
getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}},1,0,0,0,0,[["observable",Ext.util.Observable],["sortable",Ext.util.Sortable]],[Ext.data,"AbstractStore"],0);
Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:!0,type:"store",idProperty:"storeId",constructor:function(){this.callParent();this.monitor(Ext.data.AbstractStore)}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0);
Ext.cmd.derive("Ext.app.Controller",Ext.Base,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(a,b){var c="get",d=a.split("."),e=d.length,g;for(g=0;g<e;g++)c=c+Ext.String.capitalize(d[g]);return c+b},processDependencies:function(a,b,
c,d,e){if(e&&e.length){var g=this.strings[d],h,i,j,k,l;Ext.isArray(e)||(e=[e]);k=0;for(l=e.length;k<l;k++){j=e[k];h=this.getFullName(j,d,c);i=h.absoluteName;h=h.shortName;b.push(i);i=this.getGetterName(h,g.upper);a[i]=j=this.createGetter(g.getter,j);d!=="controller"&&(j["Ext.app.getter"]=true)}}},getFullName:function(a,b,c){var d=a,e;if((e=a.indexOf("@"))>0){d=a.substring(0,e);b=a.substring(e+1)+"."+d}else if(a.indexOf(".")>0&&(Ext.ClassManager.isCreated(a)||Ext.Loader.isAClassNameWithAKnownPrefix(a)))b=
a;else if(c){b=c+"."+b+"."+a;d=a}else b=a;return{absoluteName:b,shortName:d}}},application:null,onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c=Ext.app.Controller,i=c.controllerRegex,j=[],k,l,m;l=a.prototype;k=Ext.getClassName(a);if(i=b.$namespace||Ext.app.getNamespace(k)||(m=i.exec(k))&&m[1])l.$namespace=i;c.processDependencies(l,j,i,"model",b.models);c.processDependencies(l,j,i,"view",b.views);c.processDependencies(l,j,i,"store",b.stores);c.processDependencies(l,
j,i,"controller",b.controllers);Ext.require(j,Ext.Function.pass(d,arguments,this))}},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.refs&&this.ref(this.refs);this.eventbus=Ext.app.EventBus;this.initAutoGetters()},initAutoGetters:function(){var a=this.self.prototype,b,c;for(b in a)(c=a[b])&&c["Ext.app.getter"]&&c.call(this)},doInit:function(a){if(!this._initialized){this.init(a);this._initialized=true}},finishInit:function(a){var b=this.controllers,c,d,e;if(this._initialized&&
b&&b.length){d=0;for(e=b.length;d<e;d++){c=this.getController(b[d]);c.finishInit(a)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(a){var b=0,c=a.length,d,e,g,a=Ext.Array.from(a);for(this.references=this.references||[];b<c;b++){d=a[b];e=d.ref;g="get"+Ext.String.capitalize(e);this[g]||(this[g]=Ext.Function.pass(this.getRef,[e,d],this));this.references.push(e.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(a,b,c){var d=this.refCache||(this.refCache={}),e=d[a],b=b||{},c=c||{};
Ext.apply(b,c);if(b.forceCreate)return Ext.ComponentManager.create(b,"component");if(!e){b.selector&&(d[a]=e=Ext.ComponentQuery.query(b.selector)[0]);!e&&b.autoCreate&&(d[a]=e=Ext.ComponentManager.create(b,"component"));if(e)e.on("beforedestroy",function(){d[a]=null})}return e},hasRef:function(a){var b=this.references;return b&&Ext.Array.indexOf(b,a.toLowerCase())!==-1},control:function(a,b,c){var d;if(Ext.isString(a)){d={};d[a]=b}else{d=a;c=b}this.eventbus.control(d,c||this)},listen:function(a,b){this.eventbus.listen(a,
b||this)},getController:function(a){var b=this.application;return a===this.id?this:b&&b.getController(a)},getStore:function(a){var b,c;b=a.indexOf("@")==-1?a:a.split("@")[0];c=Ext.StoreManager.get(b);if(!c)(a=Ext.app.Controller.getFullName(a,"store",this.$namespace))&&(c=Ext.create(a.absoluteName,{storeId:b}));return c},getModel:function(a){return(a=Ext.app.Controller.getFullName(a,"model",this.$namespace))&&Ext.ModelManager.getModel(a.absoluteName)},getView:function(a){return(a=Ext.app.Controller.getFullName(a,
"view",this.$namespace))&&Ext.ClassManager.get(a.absoluteName)},getApplication:function(){return this.application}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.app,"Controller"],0);
Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(a,b){var c=0,d,e,a=this.prepareItems(a);for(e=a.length;c<e;c++){d=a[c];d.dock=d.dock||"top";(d.dock==="left"||d.dock==="right")&&this.horizontalDocks++;if(b!==void 0){c=c+b;this.dockedItems.insert(c,d)}else this.dockedItems.add(d);
d.onAdded(this,c);this.hasListeners.dockedadd&&this.fireEvent("dockedadd",this,d,c);if(this.onDockedAdd!==Ext.emptyFn)this.onDockedAdd(d)}this.rendered&&!this.suspendLayout&&this.updateLayout();return a},destroyDockedItems:function(){var a=this.dockedItems,b;if(a)for(;b=a.first();)this.removeDocked(b,true)},doRenderDockedItems:function(a,b,c){var d=b.$comp.componentLayout;if(d.getDockedItems&&!b.$skipDockedItems)(d=(b=d.getDockedItems("render",!c))&&d.getItemsRenderTree(b))&&Ext.DomHelper.generateMarkup(d,
a)},getDockedComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());return this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);a&&c.length&&(c=Ext.ComponentQuery.query(a,c));return c},getDockingRefItems:function(a,b){var c=a&&"*,* *",d=this.getDockedItems(c,true);d.push.apply(d,b);c=this.getDockedItems(c,false);d.push.apply(d,c);return d},initDockingItems:function(){var a=this.dockedItems;this.dockedItems=new Ext.util.AbstractMixedCollection(false,
this.getComponentId);a&&this.addDocked(a)},insertDocked:function(a,b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c,d,b=b===true||b!==false&&this.autoDestroy;if(!this.dockedItems.contains(a))return a;(a.dock==="left"||a.dock==="right")&&this.horizontalDocks--;if(d=(c=this.componentLayout)&&this.rendered)c.onRemove(a);this.dockedItems.remove(a);a.onRemoved(a.destroying||b);this.onDockedRemove(a);b?a.destroy():d&&c.afterRemove(a);this.hasListeners.dockedremove&&
this.fireEvent("dockedremove",this,a);!this.destroying&&!this.suspendLayout&&this.updateLayout();return a},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0);Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1},0,["tbfill"],["component","box","tbfill"],{component:!0,box:!0,tbfill:!0},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0);
Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(a,b){this.layout=a;Ext.apply(this,b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(a){var b=a.state.boxPlan;if(b&&b.tooNarrow)(b=this.handleOverflow(a))&&b.reservedSpace&&this.layout.publishInnerCtSize(a,b.reservedSpace);else this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(){var a=
this.layout.owner,b,c;if(a.hasListeners.overflowchange){b=a.query(">[hidden]");c=b.length;if(c!==this.lastHiddenCount){a.fireEvent("overflowchange",this.lastHiddenCount,c,b);this.lastHiddenCount=c}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){return a.isToolbar?"toolbar":a.isTabBar?"tabbar":a.isMenu?"menu":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,
"None",Ext.layout.boxOverflow,"None"],0);Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["tbitem","component","box"],{tbitem:!0,component:!0,box:!0},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0);
Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1},0,["tbseparator"],["tbitem","component","box","tbseparator"],{tbitem:!0,component:!0,box:!0,tbseparator:!0},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0);
Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){if(!this.initialized){Ext.getDoc().on({keydown:this.onDocumentKeyDown,mouseup:this.onDocumentMouseUp,scope:this});this.initialized=true}},onDocumentKeyDown:function(a){var b=a.getKey();if(b===a.SPACE||b===a.ENTER)if(b=a.getTarget(this.buttonSelector))Ext.getCmp(b.id).onClick(a)},onButtonMousedown:function(a,
b){var c=this.pressedButton;if(c)c.onMouseUp(b);this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;if(b){b.onMouseUp(a);this.pressedButton=null}},toggleGroup:function(a,b){if(b){var c=this.groups[a.toggleGroup],d=c.length,e;for(e=0;e<d;e++)c[e]!==a&&c[e].toggle(false)}},register:function(a){var b=this.groups,c=b[a.toggleGroup];this.init();if(a.toggleGroup){c||(c=b[a.toggleGroup]=[]);c.push(a);a.on("toggle",this.toggleGroup,this)}},unregister:function(a){if(a.toggleGroup){var b=
this.groups[a.toggleGroup];if(b){Ext.Array.remove(b,a);a.un("toggle",this.toggleGroup,this)}}},getPressed:function(a){var a=this.groups[a],b=0,c;if(a)for(c=a.length;b<c;b++)if(a[b].pressed===true)return a[b];return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0);
Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var a=this;a.active=new Ext.util.MixedCollection;Ext.getDoc().addKeyListener(27,function(){a.active.length>0&&a.hideAll()},a)},hideAll:function(){var a=this.active,b,c;if(a&&a.length>0){a=Ext.Array.slice(a.items);c=a.length;for(b=0;b<c;b++)a[b].hide();return true}return false},onHide:function(a){var b=
this.active;b.remove(a);if(b.length<1){Ext.getDoc().un("mousedown",this.onMouseDown,this);this.attached=false}},onShow:function(a){var b=this.active,c=this.attached;this.lastShow=new Date;b.add(a);if(!c){Ext.getDoc().on("mousedown",this.onMouseDown,this,{buffer:Ext.isIE9m?10:void 0});this.attached=true}a.toFront()},onBeforeHide:function(a){a.activeChild&&a.activeChild.hide();if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var b=a.parentMenu;this.active.remove(a);
!b&&!a.allowOtherMenus?this.hideAll():b&&(b.activeChild&&a!=b.activeChild)&&b.activeChild.hide()},onMouseDown:function(a){var b=this.active,c=true;if(Ext.Date.getElapsed(this.lastShow)>50&&b.length>0&&!a.getTarget(this.menuSelector)){Ext.isIE9m&&!Ext.getDoc().contains(a.target)&&(c=false);c&&this.hideAll()}},register:function(a){this.active||this.init();if(a.floating){this.menus[a.id]=a;a.on({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})}},
get:function(a){var b=this.menus;return typeof a=="string"?!b?null:b[a]:a.isMenu?a:Ext.isArray(a)?new Ext.menu.Menu({items:a}):Ext.ComponentManager.create(a,"menu")},unregister:function(a){var b=this.active;delete this.menus[a.id];b.remove(a);a.un({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})},registerCheckable:function(a){var b=this.groups,c=a.group;if(c){b[c]||(b[c]=[]);b[c].push(a)}},unregisterCheckable:function(a){var b=this.groups,c=
a.group;c&&Ext.Array.remove(b[c],a)},onCheckChange:function(a,b){var c=this.groups,d=a.group,e=0,g;if(d&&b){c=c[d];for(d=c.length;e<d;e++){g=c[e];g!=a&&g.setChecked(false)}}}},0,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0);
Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(a,b){this.el=Ext.get(a);this.el.unselectable();Ext.apply(this,b);this.callParent();this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler)this.on("click",this.handler,this.scope||this)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isIE10p||
Ext.isStrict&&Ext.isIE9))this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault();
this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",
this,a);this.fireEvent("click",this,a);if(this.accelerate)this.delay=400;a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12E3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&
this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",
this,a)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0);
Ext.cmd.derive("Ext.layout.component.Button",Ext.layout.component.Auto,{type:"button",htmlRE:/<.*>/,beginLayout:function(a){var b=this.owner,c=b.text;this.callParent(arguments);a.btnWrapContext=a.getEl("btnWrap");a.btnElContext=a.getEl("btnEl");a.btnInnerElContext=a.getEl("btnInnerEl");a.btnIconElContext=a.getEl("btnIconEl");if(c&&this.htmlRE.test(c)){a.isHtmlText=true;b.btnInnerEl.setStyle("line-height","normal");b.btnInnerEl.setStyle("padding-top","")}},beginLayoutCycle:function(a){var b=this.owner,
c=this.lastWidthModel;this.callParent(arguments);if(c&&!this.lastWidthModel.shrinkWrap&&a.widthModel.shrinkWrap){b.btnWrap.setStyle("height","");b.btnEl.setStyle("height","");b.btnInnerEl.setStyle("line-height","")}},calculate:function(a){var b=this.owner,c=a.btnElContext,d=a.btnInnerElContext,e=a.btnWrapContext,g=Math.max,h,i,j;this.callParent(arguments);if(a.heightModel.shrinkWrap){i=b.btnEl.getHeight();if(a.isHtmlText){this.centerInnerEl(a,i);this.ieCenterIcon(a,i)}}else if(h=a.getProp("height")){i=
h=h-a.getFrameInfo().height-a.getPaddingInfo().height;if((b.menu||b.split)&&b.arrowAlign==="bottom")i=i-e.getPaddingInfo().bottom;j=i;if((b.icon||b.iconCls||b.glyph)&&(b.iconAlign==="top"||b.iconAlign==="bottom"))j=j-d.getPaddingInfo().height;e.setProp("height",g(0,h));c.setProp("height",g(0,i));a.isHtmlText?this.centerInnerEl(a,i):d.setProp("line-height",g(0,j)+"px");this.ieCenterIcon(a,i)}else if(h!==0)this.done=false},centerInnerEl:function(a,b){var c=a.btnInnerElContext,d=this.owner.btnInnerEl.getHeight();
a.heightModel.shrinkWrap&&b<d?a.btnElContext.setHeight(d):b>d&&c.setProp("padding-top",Math.round((b-d)/2)+c.getPaddingInfo().top)},ieCenterIcon:function(a,b){var c=this.owner.iconAlign;(Ext.isIEQuirks||Ext.isIE6)&&(c==="left"||c==="right")&&a.btnIconElContext.setHeight(b)},publishInnerWidth:function(a,b){this.owner.getFrameInfo().table&&a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)}},0,0,0,0,["layout.button"],0,[Ext.layout.component,
"Button"],0);
Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(a,b,c){var d=this.shared;if(!d)d=this.shared=new this(a,c);d.bind(a);d.setFixedWidth(c||"auto");return d.getSize(b)},destroy:function(){Ext.destroy(this.shared);this.shared=null}},constructor:function(a,b){var c=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.measure=c;a&&this.bind(a);c.position("absolute");c.setLocalXY(-1E3,-1E3);c.hide();b&&c.setWidth(b)},getSize:function(a){var b=this.measure;
b.update(a);a=b.getSize();b.update("");return a},bind:function(a){this.el=Ext.get(a);this.measure.setStyle(this.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){this.measure.remove();delete this.el;delete this.measure}},1,
0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.addMethods({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,true)).width,b||0,c||1E6)}})});
Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:'<span id="{id}-btnWrap" class="{baseCls}-wrap,<tpl if="splitCls"> {splitCls}</tpl>,{childElCls}" unselectable="on">,<span id="{id}-btnEl" class="{baseCls}-button">,<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls},{childElCls}" unselectable="on">,{text},</span>,<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls},{childElCls} {glyphCls}" unselectable="on" style=",<tpl if="iconUrl">background-image:url({iconUrl});</tpl>,<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">,<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>,</span>,</span>,</span>,<tpl if="closable">,<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>,</tpl>'.split(","),
scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){this.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"};this.addCls("x-unselectable");this.callParent(arguments);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange");if(this.menu){this.split=true;this.menu=
Ext.menu.Manager.get(this.menu);this.menu.ownerButton=this}if(this.url)this.href=this.url;if(this.href&&!this.hasOwnProperty("preventDefault"))this.preventDefault=false;if(Ext.isString(this.toggleGroup)&&this.toggleGroup!=="")this.enableToggle=true;if(this.html&&!this.text){this.text=this.html;delete this.html}this.glyphCls=this.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var a=
this.getComponentCls();if(!Ext.isEmpty(this.oldCls)){this.removeClsWithUI(this.oldCls);this.removeClsWithUI(this.pressedCls)}this.oldCls=a;this.addClsWithUI(a)},getComponentCls:function(){var a;a=this.iconCls||this.icon||this.glyph?[this.text?"icon-text-"+this.iconAlign:"icon"]:this.text?["noicon"]:[];if(this.pressed)a[a.length]=this.pressedCls;return a},beforeRender:function(){var a=this.autoEl,b=this.getHref(),c=this.hrefTarget;if(!this.disabled)a.tabIndex=this.tabIndex;if(b){a.href=b;if(c)a.target=
c}this.callParent();this.oldCls=this.getComponentCls();this.addClsWithUI(this.oldCls);Ext.applyIf(this.renderData,this.getTemplateArgs())},onRender:function(){var a,b,c;this.doc=Ext.getDoc();this.callParent(arguments);b=this.el;this.tooltip&&this.setTooltip(this.tooltip,true);if(this.handleMouseEvents){c={scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousedown:this.onMouseDown};if(this.split)c.mousemove=this.onMouseMove}else c={scope:this};if(this.menu){this.mon(this.menu,{scope:this,
show:this.onMenuShow,hide:this.onMenuHide});this.keyMap=new Ext.util.KeyMap({target:this.el,key:Ext.EventObject.DOWN,handler:this.onDownKey,scope:this})}this.repeat?this.mon(new Ext.util.ClickRepeater(b,Ext.isObject(this.repeat)?this.repeat:{}),"click",this.onRepeatClick,this):c[this.clickEvent]?a=true:c[this.clickEvent]=this.onClick;this.mon(b,c);a&&this.mon(b,this.clickEvent,this.onClick,this);Ext.button.Manager.register(this)},getTemplateArgs:function(){var a=this.glyph,b=Ext._glyphFontFamily;
if(typeof a==="string"){b=a.split("@");a=b[0];b=b[1]}return{innerCls:this.getInnerCls(),splitCls:this.getSplitCls(),iconUrl:this.icon,iconCls:this.iconCls,glyph:a,glyphCls:a?this.glyphCls:"",glyphFontFamily:b,text:this.text||"&#160;"}},setHref:function(a){this.href=a;this.el.dom.href=this.getHref()},getHref:function(){var a=this.href;return a?Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams))):false},setParams:function(a){this.params=a;this.el.dom.href=this.getHref()},
getSplitCls:function(){return this.split?this.baseCls+"-"+this.arrowCls+" "+(this.baseCls+"-"+this.arrowCls+"-"+this.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(a){var a=a||"",b=this.btnIconEl,c=this.icon||"";this.icon=a;if(a!=c){if(b){b.setStyle("background-image",a?"url("+a+")":"");this.setComponentCls();this.didIconStateChange(c,a)&&this.updateLayout()}this.fireEvent("iconchange",this,c,a)}return this},setIconCls:function(a){var a=
a||"",b=this.btnIconEl,c=this.iconCls||"";this.iconCls=a;if(c!=a){if(b){b.removeCls(c);b.addCls(a);this.setComponentCls();this.didIconStateChange(c,a)&&this.updateLayout()}this.fireEvent("iconchange",this,c,a)}return this},setGlyph:function(a){var a=a||0,b=this.btnIconEl,c=this.glyph,d;this.glyph=a;if(b){if(typeof a==="string"){d=a.split("@");a=d[0];d=d[1]||Ext._glyphFontFamily}if(a){if(c!=a)b.dom.innerHTML="&#"+a+";"}else b.dom.innerHTML="";d&&b.setStyle("font-family",d)}this.fireEvent("glyphchange",
this,this.glyph,c);return this},setTooltip:function(a,b){if(this.rendered){(!b||!a)&&this.clearTip();if(a)if(Ext.quickTipsActive&&Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:this.el.id},a));this.tooltip=a}else this.el.dom.setAttribute(this.getTipAttr(),a)}else this.tooltip=a;return this},setTextAlign:function(a){var b=this.btnEl;if(b){b.removeCls(this.baseCls+"-inner-"+this.textAlign);b.addCls(this.baseCls+"-inner-"+a)}this.textAlign=a;return this},getTipAttr:function(){return this.tooltipType==
"qtip"?"data-qtip":"title"},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},clearTip:function(){var a=this.el;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(a):a.dom.removeAttribute(this.getTipAttr())},beforeDestroy:function(){this.rendered&&this.clearTip();this.menu&&this.destroyMenu!==false&&Ext.destroy(this.menu);Ext.destroy(this.btnInnerEl,this.repeater);this.callParent()},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",
this.monitorMouseOver,this);delete this.doc;Ext.destroy(this.keyMap);delete this.keyMap}Ext.button.Manager.unregister(this);this.callParent()},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(a){var a=a||"",b=this.text||"";if(a!=b){this.text=a;if(this.rendered){this.btnInnerEl.update(a||"&#160;");this.setComponentCls();Ext.isStrict&&Ext.isIE8&&this.el.repaint();this.updateLayout()}this.fireEvent("textchange",this,b,a)}return this},didIconStateChange:function(a,b){var c=
Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},getText:function(){return this.text},toggle:function(a,b){a=a===void 0?!this.pressed:!!a;if(a!==this.pressed){if(this.rendered)this[a?"addClsWithUI":"removeClsWithUI"](this.pressedCls);this.pressed=a;if(!b){this.fireEvent("toggle",this,a);Ext.callback(this.toggleHandler,this.scope||this,[this,a])}}return this},maybeShowMenu:function(){this.menu&&(!this.hasVisibleMenu()&&!this.ignoreNextClick)&&this.showMenu(true)},showMenu:function(a){var b=this.menu;if(this.rendered){this.tooltip&&
(Ext.quickTipsActive&&this.getTipAttr()!="title")&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.el);b.isVisible()&&b.hide();(!a||this.showEmptyMenu||b.items.getCount()>0)&&b.showBy(this.el,this.menuAlign)}return this},hideMenu:function(){this.hasVisibleMenu()&&this.menu.hide();return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){(this.preventDefault||this.disabled&&this.getHref()&&a)&&
a.preventDefault();if(!(a.type!=="keydown"&&a.button!==0)&&!this.disabled){this.doToggle();this.maybeShowMenu();this.fireHandler(a)}},fireHandler:function(a){var b=this.handler;this.fireEvent("click",this,a)!==false&&b&&b.call(this.scope||this,this,a)},doToggle:function(){this.enableToggle&&(this.allowDepress!==false||!this.pressed)&&this.toggle()},onMouseOver:function(a){if(!this.disabled&&!a.within(this.el,true,true))this.onMouseEnter(a)},onMouseOut:function(a){if(!a.within(this.el,true,true)){if(this.overMenuTrigger)this.onMenuTriggerOut(a);
this.onMouseLeave(a)}},onMouseMove:function(a){var b=this.el,c=this.overMenuTrigger,d;if(this.split){b=this.arrowAlign==="right"?a.getX()-this.getX():a.getY()-b.getY();d=this.getTriggerRegion();if(b>d.begin&&b<d.end){if(!c)this.onMenuTriggerOver(a)}else if(c)this.onMenuTriggerOut(a)}},getTriggerRegion:function(){var a=this._triggerRegion,b=this.getTriggerSize(),c=this.arrowAlign==="right"?this.getWidth():this.getHeight();a.begin=c-b;a.end=c;return a},getTriggerSize:function(){var a=this.triggerSize,
b;if(a==null){b=this.arrowAlign;a=b.charAt(0);a=this.triggerSize=this.el.getFrameWidth(a)+this.getBtnWrapFrameWidth(a);if(this.frameSize)a=this.triggerSize=this.triggerSize+this.frameSize[b]}return a},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",
this,a)},onMenuTriggerOver:function(a){var b=this.arrowTooltip;this.overMenuTrigger=true;this.split&&b&&this.btnWrap.dom.setAttribute(this.getTipAttr(),b);this.fireEvent("menutriggerover",this,this.menu,a)},onMenuTriggerOut:function(a){delete this.overMenuTrigger;this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),"");this.fireEvent("menutriggerout",this,this.menu,a)},enable:function(a){this.callParent(arguments);this.removeClsWithUI("disabled");this.rendered&&this.el.dom.setAttribute("tabIndex",
this.tabIndex);return this},disable:function(a){this.callParent(arguments);this.addClsWithUI("disabled");this.removeClsWithUI(this.overCls);this.rendered&&this.el.dom.removeAttribute("tabIndex");this.btnInnerEl&&Ext.isIE7m&&this.btnInnerEl.repaint();return this},setScale:function(a){var b=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,a))throw"#setScale: scale must be an allowed scale ("+this.allowedScales.join(", ")+")";this.scale=a;this.setUI(b)},setUI:function(a){this.scale&&
!a.match(this.scale)&&(a=a+"-"+this.scale);this.callParent([a])},onMouseDown:function(a){Ext.isIE&&this.getFocusEl().focus();if(!this.disabled&&a.button===0){Ext.button.Manager.onButtonMousedown(this,a);this.addClsWithUI(this.pressedCls)}},onMouseUp:function(a){a.button===0&&(this.pressed||this.removeClsWithUI(this.pressedCls))},onMenuShow:function(){this.ignoreNextClick=0;this.addClsWithUI(this.menuActiveCls);this.fireEvent("menushow",this,this.menu)},onMenuHide:function(){this.removeClsWithUI(this.menuActiveCls);
this.ignoreNextClick=Ext.defer(this.restoreClick,250,this);this.fireEvent("menuhide",this,this.menu);this.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,b){if(this.menu&&!this.disabled){this.showMenu();b.stopEvent();return false}}},0,["button"],["button","component","box"],{button:!0,component:!0,box:!0},["widget.button"],[["queryable",Ext.Queryable]],[Ext.button,"Button",Ext,"Button"],0);
Ext.cmd.derive("Ext.layout.container.boxOverflow.Menu",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(a){this.callParent(arguments);this.triggerButtonCls=this.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after";this.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);
if(!b){this.clearOverflow(a);this.layout.cacheChildItems(a)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this.layout,b=a.owner,c=b.id;this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.button.Button({id:c+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+this.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:b.usePlainButtons,ownerCt:b,ownerLayout:a,iconCls:Ext.baseCSSPrefix+
this.getOwnerType(b)+"-more-icon",ui:b instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:this.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return this.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(a){var b=this.layout.names,c=a.state.boxPlan,d=[null,null];this.showTrigger(a);if(this.layout.direction!=="vertical"){d[b.heightIndex]=(c.maxSize-this.menuTrigger[b.getHeight]())/
2;this.menuTrigger.setPosition.apply(this.menuTrigger,d)}return{reservedSpace:this.triggerTotalWidth}},captureChildElements:function(){var a=this.menuTrigger,b=this.layout.names;if(a.rendering){a.finishRender();this.triggerTotalWidth=a[b.getWidth]()+a.el.getMargin(b.parallelMargins)}},_asLayoutRoot:{isRoot:!0},clearOverflow:function(){var a=this.menuItems,b,c=0,d=a.length;b=this.layout.owner;var e=this._asLayoutRoot;b.suspendLayouts();this.captureChildElements();this.hideTrigger();for(b.resumeLayouts();c<
d;c++){b=a[c];b.suspendLayouts();b.show();b.resumeLayouts(e)}a.length=0},showTrigger:function(a){var b=this.layout,c=b.owner,d=b.names,b=d.x,d=d.width,e=a.state.boxPlan.targetSize[d],a=a.childItems,g=a.length,h=this.menuTrigger,i,j;h.suspendLayouts();h.show();h.resumeLayouts(this._asLayoutRoot);e=e-this.triggerTotalWidth;c.suspendLayouts();for(h=this.menuItems.length=0;h<g;h++){i=a[h];j=i.props;if(j[b]+j[d]>e){i=i.target;this.menuItems.push(i);i.hide()}}c.resumeLayouts()},hideTrigger:function(){var a=
this.menuTrigger;a&&a.hide()},beforeMenuShow:function(a){var b=this.menuItems,c=0,d=b.length,e,g,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};a.suspendLayouts();this.clearMenu();for(a.removeAll();c<d;c++){e=b[c];if(c||!(e instanceof Ext.toolbar.Separator)){g&&(h(e,g)||h(g,e))&&a.add("-");this.addComponentToMenu(a,e);g=e}}a.items.length<1&&a.add(this.noItemsMenuText);a.resumeLayouts()},createMenuConfig:function(a,b){var c=Ext.apply({},a.initialConfig),d=a.toggleGroup;
Ext.copyTo(c,a,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.apply(c,{text:a.overflowText||a.text,hideOnClick:b,destroyMenu:false,listeners:{}});if(a.isFormField){c.value=a.getValue();c.listeners.change=function(b,c){a.setValue(c)}}else(d||a.enableToggle)&&Ext.apply(c,{hideOnClick:false,group:d,checked:a.pressed,handler:function(b,c){a.onClick(c)}});if(a.isButton&&!a.changeListenersAdded){a.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,
toggle:this.onButtonToggle});a.changeListenersAdded=true}delete c.margin;delete c.ownerCt;delete c.xtype;delete c.id;delete c.itemId;return c},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts();b.setText(a.text);b.setIcon(a.icon);b.setIconCls(a.iconCls);b.resumeLayouts(true)},onButtonToggle:function(a,b){a.overflowClone.checked!==b&&a.overflowClone.setChecked(b)},addComponentToMenu:function(a,b){var c,d,e;if(b instanceof Ext.toolbar.Separator)a.add("-");else if(b.isComponent)if(b.isXType("splitbutton"))b.overflowClone=
a.add(this.createMenuConfig(b,true));else if(b.isXType("button"))b.overflowClone=a.add(this.createMenuConfig(b,!b.menu));else if(b.isXType("buttongroup")){d=b.items.items;e=d.length;for(c=0;c<e;c++)this.addComponentToMenu(a,d[c])}else b.overflowClone=a.add(Ext.create(Ext.getClassName(b),this.createMenuConfig(b)))},clearMenu:function(){var a=this.menu,b,c,d;if(a&&a.items){a=a.items.items;c=a.length;for(b=0;b<c;b++){d=a[b];d.setMenu&&d.setMenu(null)}}},destroy:function(){var a=this.menuTrigger;a&&!this.layout.owner.items.contains(a)&&
delete a.ownerCt;Ext.destroy(this.menu,a)}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,"Menu",Ext.layout.boxOverflow,"Menu"],0);
Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(a,b){this.layout=a;Ext.apply(this,b||{});this.mixins.observable.constructor.call(this);this.addEvents("scroll");this.scrollSize=this.scrollPosition=0},getPrefixConfig:function(){var a=this.layout,
b=a.owner,c;this.initCSSClasses();c=Ext.layout.container.Box.prototype.innerCls+" "+this.beforeCtCls;b.plain&&(c=c+(" "+this.scrollerCls+"-plain"));return{cls:c,cn:{id:b.id+a.names.beforeScrollerSuffix,cls:this.scrollerCls+" "+this.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var a=this.layout,b=a.owner,c=Ext.layout.container.Box.prototype.innerCls+" "+this.afterCtCls;b.plain&&(c=c+(" "+this.scrollerCls+"-plain"));return{cls:c,cn:{id:b.id+a.names.afterScrollerSuffix,cls:this.scrollerCls+
" "+this.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var a=Ext.baseCSSPrefix,b=this.layout,c=b.names,d=c.beforeX,c=c.afterX,b=this.getOwnerType(b.owner);this.beforeCtCls=this.beforeCtCls||a+"box-scroller-"+d;this.afterCtCls=this.afterCtCls||a+"box-scroller-"+c;this.beforeScrollerCls=this.beforeScrollerCls||a+b+"-scroll-"+d;this.afterScrollerCls=this.afterScrollerCls||a+b+"-scroll-"+
c},beginLayout:function(a){a.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},completeLayout:function(a){var b=a.state.boxPlan,c=this.layout.names;if(b&&b.tooNarrow){b=a.childItems[a.childItems.length-1];this.scrollSize=b.props[c.x]+b.props[c.width];this.updateScrollButtons()}this.callParent(arguments)},finishedLayout:function(a){var b=this.layout,a=Math.min(this.getMaxScrollPosition(),a.innerCtScrollPos);b.innerCt[b.names.setScrollLeft](a)},handleOverflow:function(){var a=this.layout.names.getWidth;
this.showScrollers();return{reservedSpace:this.beforeCt[a]()+this.afterCt[a]()}},captureChildElements:function(){var a=this.layout.owner.el,b,c,d;if(!this.beforeCt){c=this.scrollerCls+"-hover";d=this.scrollerCls+"-pressed";b=this.beforeScroller=a.getById(this.layout.owner.id+"-before-scroller");a=this.afterScroller=a.getById(this.layout.owner.id+"-after-scroller");this.beforeCt=b.up("");this.afterCt=a.up("");this.createWheelListener();b.addClsOnOver(c);b.addClsOnOver(this.beforeScrollerCls+"-hover");
b.addClsOnClick(d);b.addClsOnClick(this.beforeScrollerCls+"-pressed");a.addClsOnOver(c);a.addClsOnOver(this.afterScrollerCls+"-hover");a.addClsOnClick(d);a.addClsOnClick(this.afterScrollerCls+"-pressed");b.setVisibilityMode(Ext.Element.DISPLAY);a.setVisibilityMode(Ext.Element.DISPLAY);this.beforeRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.scrollRight,
scope:this})}},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.captureChildElements();this.beforeScroller.show();this.afterScroller.show();this.layout.owner.addClsWithUI(this.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){if(this.beforeScroller!==
void 0){this.beforeScroller.hide();this.afterScroller.hide();this.layout.owner.removeClsWithUI(this.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){Ext.destroy(this.beforeRepeater,this.afterRepeater,this.beforeScroller,this.afterScroller,this.beforeCt,this.afterCt)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a,
b,c,d;if(!(this.beforeScroller==null||this.afterScroller==null)){a=this.atExtremeBefore()?"addCls":"removeCls";b=this.atExtremeAfter()?"addCls":"removeCls";d=this.scrollerCls+"-disabled";c=[d,this.beforeScrollerCls+"-disabled"];d=[d,this.afterScrollerCls+"-disabled"];this.beforeScroller[a](c);this.afterScroller[b](d);this.scrolling=false}},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var a=
this.layout;return isNaN(this.scrollPosition)?a.innerCt[a.names.getScrollLeft]():this.scrollPosition},getMaxScrollPosition:function(){var a=this.layout,a=this.scrollSize-a.innerCt[a.names.getWidth]();return a<0?0:a},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var c=this.layout,d=c.names,e=this.getScrollPosition(),g=Ext.Number.constrain(a,0,this.getMaxScrollPosition());if(g!=
e&&!this.scrolling){this.scrollPosition=NaN;if(b===void 0)b=this.animateScroll;c.innerCt[d.scrollTo](d.beforeScrollX,g,b?this.getScrollAnim():false);b?this.scrolling=true:this.updateScrollButtons();this.fireEvent("scroll",this,g,b?this.getScrollAnim():false)}},scrollToItem:function(a,b){var c=this.layout,d=c.owner,c=c.names,e,g,a=this.getItem(a);if(a!==void 0){if(a==d.items.first())g=0;else if(a===d.items.last())g=this.getMaxScrollPosition();else{d=this.getItemVisibility(a);if(!d.fullyVisible){e=
a.getBox(false,true);g=e[c.x];d.hiddenEnd&&(g=g-(this.layout.innerCt[c.getWidth]()-e[c.width]))}}g!==void 0&&this.scrollTo(g,b)}},getItemVisibility:function(a){var b=this.getItem(a).getBox(true,true),c=this.layout,d=c.names,a=b[d.x],b=a+b[d.width],e=this.getScrollPosition(),c=e+c.innerCt[d.getWidth]();return{hiddenStart:a<e,hiddenEnd:b>c,fullyVisible:a>e&&b<c}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0);
Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},round:function(a){if(isNaN(a)){this.x=Math.round(this.x);this.y=Math.round(this.y)}else{a=
Math.pow(10,a);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}},isZero:function(){return this.x==0&&this.y==0}},3,0,0,0,0,0,[Ext.util,"Offset"],0);
Ext.cmd.derive("Ext.util.Region",Ext.Base,{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){this.y=this.top=this[1]=a;this.right=b;this.bottom=c;this.x=this.left=this[0]=d},contains:function(a){return a.x>=this.x&&a.right<=this.right&&a.y>=this.y&&a.bottom<=this.bottom},intersect:function(a){var b=Math.max(this.y,a.y),c=Math.min(this.right,a.right),d=Math.min(this.bottom,a.bottom),a=Math.max(this.x,
a.x);return d>b&&c>a?new this.self(b,c,d,a):false},union:function(a){var b=Math.min(this.y,a.y),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom),a=Math.min(this.x,a.x);return new this.self(b,c,d,a)},constrainTo:function(a){var b=Ext.Number.constrain;this.top=this.y=b(this.top,a.y,a.bottom);this.bottom=b(this.bottom,a.y,a.bottom);this.left=this.x=b(this.left,a.x,a.right);this.right=b(this.right,a.x,a.right);return this},adjust:function(a,b,c,d){this.top=this.y=this.y+a;this.left=this.x=
this.x+d;this.right=this.right+b;this.bottom=this.bottom+c;return this},getOutOfBoundOffset:function(a,b){if(Ext.isObject(a)){var b=a,c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}return a=="x"?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b)},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(a,
b){if(Ext.isObject(a)){b=a;return this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y)}return a=="x"?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){if(Ext.isObject(a)){c=b;b=a;a=b.copy?b.copy():{x:b.x,y:b.y};a.x=this.restrictX(b.x,c);a.y=this.restrictY(b.y,c);return a}return a=="x"?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,b){b||(b=1);a<=this.x?
a=a-(a-this.x)*b:a>=this.right&&(a=a-(a-this.right)*b);return a},restrictY:function(a,b){b||(b=1);a<=this.y?a=a-(a-this.y)*b:a>=this.bottom&&(a=a-(a-this.bottom)*b);return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){this.top=this.y=this[1]=a.y;this.right=a.right;this.bottom=a.bottom;this.left=this.x=this[0]=a.x;return this},toString:function(){return"Region["+this.top+
","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){if(arguments.length==1){b=a.y;a=a.x}this.top=this.y=this.y+b;this.right=this.right+a;this.bottom=this.bottom+b;this.left=this.x=this.x+a;return this},round:function(){this.top=this.y=Math.round(this.y);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=this.x=Math.round(this.x);return this},equals:function(a){return this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left}},
3,0,0,0,0,0,[Ext.util,"Region"],0);
Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(a,b){var c,d,e;for(c in this.ids)for(d in this.ids[c]){e=this.ids[c][d];this.isTypeOfDD(e)&&e[a].apply(e,
b)}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,
dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init();this.ids[b]||(this.ids[b]={});this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a){for(var b in a.groups)b&&(this.ids[b]&&this.ids[b][a.id])&&delete this.ids[b][a.id];delete this.handleIds[a.id]},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={});this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?
true:false},getRelated:function(a,b){var c=[],d,e,g;for(d in a.groups)for(e in this.ids[d]){g=this.ids[d][e];if(this.isTypeOfDD(g)&&(!b||g.isTarget))c[c.length]=g}return c},isLegalTarget:function(a,b){var c=this.getRelated(a,true),d,e;d=0;for(e=c.length;d<e;++d)if(c[d].id==b.id)return true;return false},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){var b,c;for(b in this.ids){c=this.ids[b][a];if(c instanceof
Ext.dd.DDTarget)return c}return null},handleMouseDown:function(a,b){var c=this,d;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable();c.dragCurrent&&c.handleMouseUp(a);c.currentTarget=a.getTarget();c.dragCurrent=b;d=b.getEl();Ext.isIE9m&&d.setCapture&&d.setCapture();c.startX=a.getPageX();c.startY=a.getPageY();c.deltaX=c.startX-d.offsetLeft;c.deltaY=c.startY-d.offsetTop;c.dragThreshMet=false;c.clickTimeout=setTimeout(function(){c.startDrag(c.startX,c.startY)},c.clickTimeThresh)},startDrag:function(a,
b){var c=this.dragCurrent;clearTimeout(this.clickTimeout);if(c){c.b4StartDrag(a,b);c.startDrag(a,b);(c=c.getDragEl())&&Ext.fly(c).addCls(this.dragCls)}this.dragThreshMet=true},handleMouseUp:function(a){Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable();if(this.dragCurrent){Ext.isIE&&document.releaseCapture&&document.releaseCapture();clearTimeout(this.clickTimeout);this.dragThreshMet&&this.fireEvents(a,true);this.stopDrag(a);this.stopEvent(a)}},stopEvent:function(a){this.stopPropagation&&a.stopPropagation();
this.preventDefault&&a.preventDefault()},stopDrag:function(a){var b=this.dragCurrent,c;if(b){if(this.dragThreshMet){(c=b.getDragEl())&&Ext.fly(c).removeCls(this.dragCls);b.b4EndDrag(a);b.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){var b=this.dragCurrent,c,d;if(!b)return true;if(!this.dragThreshMet){c=Math.abs(this.startX-a.getPageX());d=Math.abs(this.startY-a.getPageY());(c>this.clickPixelThresh||d>this.clickPixelThresh)&&this.startDrag(this.startX,
this.startY)}if(this.dragThreshMet){b.b4Drag(a);b.onDrag(a);b.moveOnly||this.fireEvents(a,false)}this.stopEvent(a);return true},fireEvents:function(a,b){var c=this.dragCurrent,d,e,g=a.getPoint(),h,i=[],j=[],k=[],l=[],m=[],n=[],p,o,q,r;if(c&&!c.isLocked()){if(!this.notifyOccluded&&(!Ext.supports.PointerEvents||Ext.isIE10m||Ext.isOpera)&&!(c.deltaX<0||c.deltaY<0)){d=c.getDragEl();e=d.style.top;d.style.top="-10000px";p=a.getXY();a.target=document.elementFromPoint(p[0],p[1]);d.style.top=e}for(q in this.dragOvers){d=
this.dragOvers[q];if(this.isTypeOfDD(d)){this.notifyOccluded?this.isOverTarget(g,d,this.mode)||k.push(d):a.within(d.getEl())||k.push(d);j[q]=true;delete this.dragOvers[q]}}for(r in c.groups)if("string"==typeof r)for(q in this.ids[r]){d=this.ids[r][q];if(this.isTypeOfDD(d)&&(h=d.getEl())&&d.isTarget&&!d.isLocked()&&Ext.fly(h).isVisible(true)&&(d!=c||c.ignoreSelf===false))if(this.notifyOccluded){if((d.zIndex=this.getZIndex(h))!==-1)o=true;i.push(d)}else if(a.within(d.getEl())){i.push(d);break}}o&&Ext.Array.sort(i,
this.byZIndex);q=0;for(h=i.length;q<h;q++){d=i[q];if(this.isOverTarget(g,d,this.mode)){if(b)m.push(d);else{j[d.id]?l.push(d):n.push(d);this.dragOvers[d.id]=d}if(!this.notifyOccluded)break}}if(this.mode){if(k.length){c.b4DragOut(a,k);c.onDragOut(a,k)}if(n.length)c.onDragEnter(a,n);if(l.length){c.b4DragOver(a,l);c.onDragOver(a,l)}if(m.length){c.b4DragDrop(a,m);c.onDragDrop(a,m)}}else{q=0;for(h=k.length;q<h;++q){c.b4DragOut(a,k[q].id);c.onDragOut(a,k[q].id)}q=0;for(h=n.length;q<h;++q)c.onDragEnter(a,
n[q].id);q=0;for(h=l.length;q<h;++q){c.b4DragOver(a,l[q].id);c.onDragOver(a,l[q].id)}q=0;for(h=m.length;q<h;++q){c.b4DragDrop(a,m[q].id);c.onDragDrop(a,m[q].id)}}if(b&&!m.length)c.onInvalidDrop(a)}},getZIndex:function(a){for(var b=document.body,c,d=-1,a=Ext.getDom(a);a!==b;){if(!isNaN(c=Number(Ext.fly(a).getStyle("zIndex"))))d=c;a=a.parentNode}return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b=null,c=a.length,d,e;if(c==1)b=a[0];else for(d=0;d<c;++d){e=a[d];if(e.cursorIsOver){b=
e;break}else if(!b||b.overlap.getArea()<e.overlap.getArea())b=e}return b},refreshCache:function(a){var b,c,d,e;for(b in a)if("string"==typeof b)for(c in this.ids[b]){d=this.ids[b][c];if(this.isTypeOfDD(d))(e=this.getLocation(d))?this.locationCache[d.id]=e:delete this.locationCache[d.id]}},verifyEl:function(a){if(a){var b;if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return true}return false},getLocation:function(a){if(!this.isTypeOfDD(a))return null;if(a.getRegion)return a.getRegion();
var b=a.getEl(),c,d,e;try{c=Ext.Element.getXY(b)}catch(g){}if(!c)return null;d=c[0];e=d+b.offsetWidth;c=c[1];return new Ext.util.Region(c-a.padding[0],e+a.padding[1],c+b.offsetHeight+a.padding[2],d-a.padding[3])},isOverTarget:function(a,b,c){var d=this.locationCache[b.id],e;if(!d||!this.useCache){d=this.getLocation(b);this.locationCache[b.id]=d}if(!d)return false;b.cursorIsOver=d.contains(a);e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY)return b.cursorIsOver;b.overlap=
null;a=e.getTargetCoord(a.x,a.y);e=e.getDragEl();if(d=(new Ext.util.Region(a.y,a.x+e.offsetWidth,a.y+e.offsetHeight,a.x)).intersect(d)){b.overlap=d;return c?true:b.cursorIsOver}return false},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache)delete this.elementCache[a];this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];
if(!b||!b.el)b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a));return b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){return(a=Ext.getDom(a))?a.style:null},ElementWrapper:function(a){this.id=(this.el=a||null)&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;if(d==a)c.insertBefore(a,b);else if(b==a.nextSibling)c.insertBefore(b,
a);else{a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}},getScroll:function(){var a=window.document,b=a.documentElement,a=a.body,c=0,d=0;if(Ext.isGecko4){c=window.scrollYOffset;d=window.scrollXOffset}else if(b&&(b.scrollTop||b.scrollLeft)){c=b.scrollTop;d=b.scrollLeft}else if(a){c=a.scrollTop;d=a.scrollLeft}return{top:c,left:d}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,
b){var c=Ext.Element.getXY(b);Ext.Element.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){if(document)this._onLoad();else if(this._timeoutCount<=2E3){setTimeout(this._addListeners,10);if(document&&document.body)this._timeoutCount=this._timeoutCount+1}},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return true;for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return true;c=c.parentNode}return false}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,
"DragDropMgr",Ext.dd,"DDM"],function(){this._addListeners()});
Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,
childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)",
"}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b;this.callParent(arguments);this.flexSortFn=Ext.Function.bind(this.flexSort,this);this.initOverflowHandler();b=typeof this.padding;if(b=="string"||b=="number"){this.padding=Ext.util.Format.parseBox(this.padding);this.padding.height=this.padding.top+this.padding.bottom;this.padding.width=this.padding.left+this.padding.right}},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=
this.sizePolicy,d=this.align,e=a.flex,g=d,h=this.names,i=a[h.height],j=this._percentageRe,k=j.test(a[h.width]),l=d=="stretch",d=d=="stretchmax",m=this.constrainAlign;if(!b&&(l||e||k||m&&!d))b=this.owner.getSizeModel();l?!j.test(i)&&b[h.height].shrinkWrap&&(g="stretchmax"):d||(g=j.test(i)?"stretch":m&&!b[h.height].shrinkWrap?"stretchmax":"");if((e||k)&&!b[h.width].shrinkWrap)c=c.flex;return c[g]},flexSort:function(a,b){var c=this.names.maxWidth,d=this.names.minWidth,e=a.target,g=b.target,h=0,i,j;i=
e[c]||Infinity;c=g[c]||Infinity;e=e[d]||0;d=g[d]||0;g=isFinite(e)||isFinite(d);j=isFinite(i)||isFinite(c);if(g||j){j&&(h=i-c);h===0&&g&&(h=d-e)}return h},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){if(this.direction==="vertical"&&a.collapsedVertical()){a.collapseMemento.capture(["flex"]);delete a.flex}else if(this.direction==="horizontal"&&a.collapsedHorizontal()){a.collapseMemento.capture(["flex"]);
delete a.flex}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this.owner,c=b.stretchMaxPartner,d=this.innerCt.dom.style,e=this.names;a.boxNames=e;this.overflowHandler.beginLayout(a);typeof c==="string"&&(c=Ext.getCmp(c)||b.query(c)[0]);a.stretchMaxPartner=c&&a.context.getCmp(c);this.callParent(arguments);a.innerCtContext=a.getEl("innerCt",this);this.scrollParallel=b.scrollFlags[e.x];this.scrollPerpendicular=b.scrollFlags[e.y];if(this.scrollParallel)this.scrollPos=
b.getTargetEl().dom[e.scrollLeft];d.width="";d.height=""},beginLayoutCycle:function(a,b){var c=this.align,d=a.boxNames,e=this.pack,g=d.heightModel;this.overflowHandler.beginLayoutCycle(a,b);this.callParent(arguments);a.parallelSizeModel=a[d.widthModel];a.perpendicularSizeModel=a[g];a.boxOptions={align:c={stretch:c=="stretch",stretchmax:c=="stretchmax",center:c==d.center,bottom:c==d.afterY},pack:e={center:e=="center",end:e=="end"}};if(c.stretch&&a.perpendicularSizeModel.shrinkWrap){c.stretchmax=true;
c.stretch=false}c.nostretch=!(c.stretch||c.stretchmax);if(a.parallelSizeModel.shrinkWrap)e.center=e.end=false;this.cacheFlexes(a);this.targetEl.setWidth(2E4)},cacheFlexes:function(a){for(var b=a.boxNames,c=b.widthModel,d=b.heightModel,e=a.boxOptions.align.nostretch,g=0,h=a.childItems,i=h.length,j=[],k=0,l=b.minWidth,m=this._percentageRe,n=0,p=0,o,q,r;i--;){q=h[i];o=q.target;if(q[c].calculated)if(q.flex=r=o.flex){g=g+r;j.push(q);k=k+(o[l]||0)}else{r=m.exec(o[b.width]);q.percentageParallel=parseFloat(r[1])/
100;++n}if(e&&q[d].calculated){r=m.exec(o[b.height]);q.percentagePerpendicular=parseFloat(r[1])/100;++p}}a.flexedItems=j;a.flexedMinSize=k;a.totalFlex=g;a.percentageWidths=n;a.percentageHeights=p;Ext.Array.sort(j,this.flexSortFn)},calculate:function(a){var b=this.getContainerSize(a),c=a.boxNames,d=a.state,e=d.boxPlan||(d.boxPlan={}),g=a.targetContext;e.targetSize=b;if(!a.parallelSizeModel.shrinkWrap&&!b[c.gotWidth])this.done=false;else{if(!d.parallelDone)d.parallelDone=this.calculateParallel(a,c,
e);if(!d.perpendicularDone)d.perpendicularDone=this.calculatePerpendicular(a,c,e);if(d.parallelDone&&d.perpendicularDone){if(this.owner.dock&&(Ext.isIE7m||Ext.isIEQuirks)&&!this.owner.width&&!this.horizontal){e.isIEVerticalDock=true;e.calculatedWidth=e.maxSize+a.getPaddingInfo().width+a.getFrameInfo().width;if(g!==a)e.calculatedWidth=e.calculatedWidth+g.getPaddingInfo().width}this.publishInnerCtSize(a,this.reserveOffset?this.availableSpaceOffset:0);if(this.done&&(a.childItems.length>1||a.stretchMaxPartner)&&
a.boxOptions.align.stretchmax&&!d.stretchMaxDone){this.calculateStretchMax(a,c,e);d.stretchMaxDone=true}this.overflowHandler.calculate(a)}else this.done=false}},calculateParallel:function(a,b,c){var d=b.width,e=a.childItems,g=b.beforeX,h=b.afterX,i=b.setWidth,j=e.length,k=a.flexedItems,l=k.length,m=a.boxOptions.pack,n=this.padding,p=c.targetSize[d],o=0,q=n[g],r=q+n[h]+this.scrollOffset+(this.reserveOffset?this.availableSpaceOffset:0),n=Ext.getScrollbarSize()[b.width],t,s,u,v,B;if(n&&this.scrollPerpendicular&&
a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone)return false;B=true}for(t=0;t<j;++t){u=e[t];s=u.marginInfo||u.getMarginInfo();o=o+s[d];if(!u[b.widthModel].calculated){s=u.getProp(d);r=r+s;if(isNaN(r))return false}}r=r+o;if(a.percentageWidths){o=p-o;if(isNaN(o))return false;for(t=0;t<j;++t){u=e[t];if(u.percentageParallel){s=Math.ceil(o*u.percentageParallel);s=u.setWidth(s);r=r+s}}}if(a.parallelSizeModel.shrinkWrap){c.availableSpace=
0;c.tooNarrow=false}else{c.availableSpace=p-r;c.tooNarrow=c.availableSpace<a.flexedMinSize;if(c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&this.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=false;for(t=0;t<j;++t)e[t].invalidate()}}p=r;o=c.availableSpace;r=a.totalFlex;for(t=0;t<l;t++){u=k[t];s=u.flex;v=this.roundFlex(s/r*o);v=u[i](v);p=p+v;o=Math.max(0,o-v);r=r-s}if(m.center){q=q+o/2;q<0&&(q=0)}else m.end&&(q=q+o);for(t=0;t<j;++t){u=e[t];s=u.marginInfo;q=q+s[g];u.setProp(b.x,
q);q=q+(s[h]+u.props[d])}p=p+a.targetContext.getPaddingInfo()[d];a.state.contentWidth=p;if(B&&a.peek(b.contentHeight)>c.targetSize[b.height]){p=p+n;a[b.hasOverflowY]=true;a.target.componentLayout[b.setWidthInDom]=true;a[b.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}a[b.setContentWidth](p);return true},calculatePerpendicular:function(a,b,c){var d=a.perpendicularSizeModel.shrinkWrap,e=a.childItems,g=e.length,h=Math.max,i=b.height,j=b.setHeight,k=b.beforeY,l=b.y,m=this.padding,n=m[k],p=c.targetSize[i]-
n-m[b.afterY],o=a.boxOptions.align,m=o.stretch,q=o.stretchmax,r=o.center,o=o.bottom,t=this.constrainAlign,s=0,u=0,v=this.onBeforeConstrainInvalidateChild,B=this.onAfterConstrainInvalidateChild,y=Ext.getScrollbarSize().height,w,z,C,A,x,D;if((m||(r||o)&&!d)&&isNaN(p))return false;if(this.scrollParallel&&c.tooNarrow)if(d)D=true;else{p=p-y;c.targetSize[i]=c.targetSize[i]-y}if(m)A=p;else{for(w=0;w<g;w++){x=e[w];C=(x.marginInfo||x.getMarginInfo())[i];if(z=x.percentagePerpendicular){++u;if(d)continue;else{z=
z*p-C;z=x[b.setHeight](z)}}else z=x.getProp(i);if(!d&&t&&x[b.heightModel].shrinkWrap&&z>p){x.invalidate({before:v,after:B,layout:this,childHeight:p,names:b});a.state.parallelDone=false}if(isNaN(s=h(s,z+C,x.target[b.minHeight]||0)))return false}if(D){s=s+y;a[b.hasOverflowX]=true;a.target.componentLayout[b.setHeightInDom]=true;a[b.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}if(w=a.stretchMaxPartner){a.setProp("maxChildHeight",s);if((x=w.childItems)&&x.length){s=h(s,w.getProp("maxChildHeight"));if(isNaN(s))return false}}a[b.setContentHeight](s+
this.padding[i]+a.targetContext.getPaddingInfo()[i]);D&&(s=s-y);c.maxSize=s;if(q)A=s;else if(r||o||u){A=t?d?s:p:d?s:h(p,s);A=A-a.innerCtContext.getBorderInfo()[i]}}for(w=0;w<g;w++){x=e[w];C=x.marginInfo||x.getMarginInfo();a=n+C[k];if(m)x[j](A-C[i]);else{z=x.percentagePerpendicular;if(d&&z){C=x.marginInfo||x.getMarginInfo();z=z*A-C[i];x.setHeight(z)}if(r){b=A-x.props[i];b>0&&(a=n+Math[this.alignRoundingMethod](b/2))}else o&&(a=h(0,A-a-x.props[i]))}x.setProp(l,a)}return true},onBeforeConstrainInvalidateChild:function(a,
b){var c=b.names.heightModel;if(!a[c].constrainedMin)a[c]=Ext.layout.SizeModel.calculated},onAfterConstrainInvalidateChild:function(a,b){var c=b.names;a.setProp(c.beforeY,0);if(a[c.heightModel].calculated)a[c.setHeight](b.childHeight)},calculateStretchMax:function(a,b,c){var d=b.height,e=b.width,a=a.childItems,g=a.length,c=c.maxSize,h=this.onBeforeStretchMaxInvalidateChild,i=this.onAfterStretchMaxInvalidateChild,j,k,l,m;for(l=0;l<g;++l){j=a[l];k=j.props;m=c-j.getMarginInfo()[d];(m!=k[d]||j[b.heightModel].constrained)&&
j.invalidate({before:h,after:i,layout:this,childWidth:k[e],childHeight:m,childX:k.x,childY:k.y,names:b})}},onBeforeStretchMaxInvalidateChild:function(a,b){var c=b.names.heightModel;if(!a[c].constrainedMax)a[c]=Ext.layout.SizeModel.calculated},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX);a.setProp("y",b.childY);if(a[c.heightModel].calculated)a[c.setHeight](d);if(a[c.widthModel].calculated)a[c.setWidth](e)},completeLayout:function(a){var b=
a.boxNames,c=a.invalidateScrollX,d=a.invalidateScrollY,e,g,h,i;this.overflowHandler.completeLayout(a);if(c||d){e=this.getTarget();a=e.dom;i=a.style;if(c){g=e.getStyle("overflowX");if(g=="auto"){g=i.overflowX;i.overflowX="scroll"}else c=false}if(d){h=e.getStyle("overflowY");if(h=="auto"){h=i.overflowY;i.overflowY="scroll"}else d=false}if(c||d){a.scrollWidth;if(c)i.overflowX=g;if(d)i.overflowY=h}}if(this.scrollParallel)this.owner.getTargetEl().dom[b.scrollLeft]=this.scrollPos},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);
this.callParent(arguments);this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(a,b){var c=a.boxNames,d=c.height,e=c.width,g=a.boxOptions.align,h=this.owner.dock,i=this.padding,j=a.state.boxPlan,k=j.targetSize,l=k[d],m=a.innerCtContext,e=(a.parallelSizeModel.shrinkWrap||j.tooNarrow&&this.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[e]:k[e])-(b||0);if(g.stretch)d=l;else{d=j.maxSize+i[c.beforeY]+i[c.afterY]+m.getBorderInfo()[d];if(!a.perpendicularSizeModel.shrinkWrap&&
(g.center||g.bottom))d=Math.max(l,d)}m[c.setWidth](e);m[c.setHeight](d);if(isNaN(e+d))this.done=false;j.calculatedWidth&&(h=="left"||h=="right")&&a.setWidth(j.calculatedWidth,true,true)},onRemove:function(a){this.callParent(arguments);if(this.overflowHandler)this.overflowHandler.onRemove(a);a.layoutMarginCap==this.id&&delete a.layoutMarginCap},initOverflowHandler:function(){var a=this.overflowHandler,b;typeof a=="string"&&(a={type:a});b="None";if(a&&a.type!==void 0)b=a.type;this.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+
b,this,a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)},getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;return a}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0);
Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",
overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",
gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,
setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0);
Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",
overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",
gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},
stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0);
Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{"0":{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){if(!this.layout&&
this.enableOverflow)this.layout={overflowHandler:"Menu"};if(this.dock==="right"||this.dock==="left")this.vertical=true;this.layout=Ext.applyIf(Ext.isString(this.layout)?{type:this.layout}:this.layout||{},{type:this.vertical?"vbox":"hbox",align:this.vertical?"stretchmax":"middle"});this.vertical&&this.addClsWithUI("vertical");if(this.ui==="footer")this.ignoreBorderManagement=true;this.callParent();this.addEvents("overflowchange")},getRefItems:function(a){var b=this.callParent(arguments),c=this.layout;
if(a&&this.enableOverflow)(c=c.overflowHandler)&&c.menu&&(b=b.concat(c.menu.getRefItems(a)));return b},lookupComponent:function(a){var b=arguments;if(typeof a=="string"){b=Ext.toolbar.Toolbar;b=b.shortcutsHV[this.vertical?1:0][a]||b.shortcuts[a];a=typeof b=="string"?{xtype:b}:b?Ext.apply({},b):{xtype:"tbtext",text:a};this.applyDefaults(a);b=[a]}return this.callParent(b)},applyDefaults:function(a){Ext.isString(a)||(a=this.callParent(arguments));return a},trackMenu:function(a,b){if(this.trackMenus&&
a.menu){var c=b?"mun":"mon";this[c](a,"mouseover",this.onButtonOver,this);this[c](a,"menushow",this.onButtonMenuShow,this);this[c](a,"menuhide",this.onButtonMenuHide,this)}},onBeforeAdd:function(a){var b=a.isButton;if(b&&this.defaultButtonUI&&a.ui==="default"&&!a.hasOwnProperty("ui"))a.ui=this.defaultButtonUI;else if((b||a.isFormField)&&this.ui!=="footer"){a.ui=a.ui+"-toolbar";a.addCls(a.baseCls+"-toolbar")}a instanceof Ext.toolbar.Separator&&a.setUI(this.vertical?"vertical":"horizontal");this.callParent(arguments)},
onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}},0,["toolbar"],["toolbar","component","container","box"],{toolbar:!0,
component:!0,container:!0,box:!0},["widget.toolbar"],0,[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0);
Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",
maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a,b;this.callParent();a=this.getRenderTarget();b=this.getDockedItems();this.finishRenderItems(a,b)},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",
Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var a=this.owner,
b,c,d=this.lastDockedItems,e=this.borders;c=a.dockedItems.generation;var g=this.noBorderClassesSides,h=this.borderWidthProps,i,j,k,l,m;b=this.collapsed;if(!(this.initializedBorders==c||a.border&&!a.manageBodyBorders)){this.initializedBorders=c;this.collapsed=false;this.lastDockedItems=c=this.getLayoutItems();this.collapsed=b;b={top:[],right:[],bottom:[],left:[]};i=0;for(j=c.length;i<j;i++){k=c[i];l=k.dock;if(!k.ignoreBorderManagement){if(!b[l].satisfied){b[l].push(k);b[l].satisfied=true}!b.top.satisfied&&
l!=="bottom"&&b.top.push(k);!b.right.satisfied&&l!=="left"&&b.right.push(k);!b.bottom.satisfied&&l!=="top"&&b.bottom.push(k);!b.left.satisfied&&l!=="right"&&b.left.push(k)}}if(d){i=0;for(j=d.length;i<j;i++){k=d[i];!k.isDestroyed&&(!k.ignoreBorderManagement&&!a.manageBodyBorders)&&k.removeCls(this.noBorderClasses)}}if(e)for(m in e)a.manageBodyBorders&&e[m].satisfied&&a.setBodyStyle(h[m],"");for(m in b){j=b[m].length;if(a.manageBodyBorders)b[m].satisfied&&a.setBodyStyle(h[m],"1px");else{for(i=0;i<j;i++)b[m][i].addCls(g[m]);
(!b[m].satisfied&&!a.bodyBorder||a.bodyBorder===false)&&a.addBodyCls(g[m])}}this.borders=b}},beforeLayoutCycle:function(a){var b=this.owner,c=this.sizeModels.shrinkWrap,d=b.shrinkWrapDock,e,g;if(b.collapsed)if(b.collapsedVertical()){g=true;a.measureDimensions=1}else{e=true;a.measureDimensions=2}a.collapsedVert=g;a.collapsedHorz=e;if(g)a.heightModel=c;else if(e)a.widthModel=c;d=d===true?3:d||0;a.shrinkWrapDockHeight=d&1&&a.heightModel.shrinkWrap;a.shrinkWrapDockWidth=d&2&&a.widthModel.shrinkWrap},
beginLayout:function(a){var b=this.owner,c=this.getLayoutItems(),d=a.context,e=c.length,g,h,i,j;this.callParent(arguments);g=b.getCollapsed();if(g!==this.lastCollapsedState&&Ext.isDefined(this.lastCollapsedState))if(this.owner.collapsed){a.isCollapsingOrExpanding=1;b.addClsWithUI(b.collapsedCls)}else{a.isCollapsingOrExpanding=2;b.removeClsWithUI(b.collapsedCls);a.lastCollapsedState=this.lastCollapsedState}this.lastCollapsedState=g;a.dockedItems=b=[];for(g=0;g<e;g++){h=c[g];if(h.rendered){j=h.dock;
i=d.getCmp(h);i.dockedAt={x:0,y:0};i.offsets=h=Ext.Element.parseBox(h.offsets||0);i.horizontal=j=="top"||j=="bottom";h.width=h.left+h.right;h.height=h.top+h.bottom;b.push(i)}}a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=a.dockedItems,c=b.length,d=this.owner,e=d.frameBody,g=this.lastHeightModel;this.callParent(arguments);if(this.owner.manageHeight){if(this.lastBodyDisplay)d.body.dom.style.display=this.lastBodyDisplay=""}else{if(this.lastBodyDisplay!=="inline-block")d.body.dom.style.display=
this.lastBodyDisplay="inline-block";if(g&&g.shrinkWrap&&!a.heightModel.shrinkWrap)d.body.dom.style.marginBottom=""}if(a.widthModel.auto){a.widthModel.shrinkWrap&&d.el.setWidth(null);d.body.setWidth(null);e&&e.setWidth(null)}if(a.heightModel.auto){d.body.setHeight(null);e&&e.setHeight(null)}a.collapsedVert?a.setContentHeight(0):a.collapsedHorz&&a.setContentWidth(0);for(d=0;d<c;d++){e=b[d].target;g=e.dock;g=="right"&&e.setLocalX(0)}},calculate:function(a){var b=this.measureAutoDimensions(a,a.measureDimensions),
c=a.state,d=c.horzDone,e=c.vertDone,g=a.bodyContext,h,i;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.frameInfo||a.getFrameInfo();g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();if(!a.frameBorder)if(g=a.framing){a.frameBorder=g.border;a.framePadding=g.padding}else{a.frameBorder=a.borderInfo;a.framePadding=a.paddingInfo}g=!d&&this.createAxis(a,b.contentWidth,a.widthModel,this.horzAxisProps,a.collapsedHorz);b=!e&&this.createAxis(a,b.contentHeight,a.heightModel,
this.vertAxisProps,a.collapsedVert);h=0;for(i=a.dockedItems.length;i--;++h){g&&this.dockChild(a,g,i,h);b&&this.dockChild(a,b,i,h)}if(g&&this.finishAxis(a,g))c.horzDone=d=g;if(b&&this.finishAxis(a,b))c.vertDone=e=b;d&&e&&this.finishConstraints(a,d,e)?this.finishPositions(a,d,e):this.done=false},createAxis:function(a,b,c,d,e){var g=0,h=this.owner,i=h[d.maxSize],h=h[d.minSize]||0,j=d.dockBegin,k=d.dockEnd,l=d.pos,m=d.size,n=i!=null,p;if(c.shrinkWrap)if(e)b=0;else{p=a.bodyContext;b=b+p.borderInfo[m]}else{b=
a.frameBorder;p=a.framePadding;g=b[j]+p[j];b=a.getProp(m)-(b[k]+p[k])}return{shrinkWrap:c.shrinkWrap,sizeModel:c,initialBegin:g,begin:g,end:b,collapsed:e,horizontal:d.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:b-g,maxChildSize:0,hasMinMaxConstraints:(h||n)&&c.shrinkWrap,minSize:h,maxSize:n?i:1E9,bodyPosProp:this.owner.manageHeight?l:d.marginBegin,dockBegin:j,dockEnd:k,posProp:l,sizeProp:m,setSize:d.setSize,shrinkWrapDock:a[d.shrinkWrapDock],sizeModelName:d.sizeModel,dockedPixelsEnd:0}},
dockChild:function(a,b,c,d){var c=a.dockedItems[b.shrinkWrap?c:d],d=c.target,e=d.dock,g=b.sizeProp;d.ignoreParentFrame&&a.isCollapsingOrExpanding&&c.clearMarginCache();c.marginInfo||c.getMarginInfo();if(e==b.dockBegin)a=b.shrinkWrap?this.dockOutwardBegin(a,c,d,b):this.dockInwardBegin(a,c,d,b);else if(e==b.dockEnd)a=b.shrinkWrap?this.dockOutwardEnd(a,c,d,b):this.dockInwardEnd(a,c,d,b);else if(b.shrinkWrapDock){a=c.getProp(g)+c.marginInfo[g];b.maxChildSize=Math.max(b.maxChildSize,a);a=0}else a=this.dockStretch(a,
c,d,b);c.dockedAt[b.posProp]=a},dockInwardBegin:function(a,b,c,d){var e=d.begin,g=d.sizeProp,h=c.ignoreParentFrame,i,j;if(h){d.ignoreFrameBegin=b;j=c.dock;i=a.frameBorder[j];e=e-(i+a.framePadding[j])}if(!c.overlay){a=b.getProp(g)+b.marginInfo[g];d.begin=d.begin+a;if(h)d.begin=d.begin-i}return e},dockInwardEnd:function(a,b,c,d){var e=d.sizeProp,e=b.getProp(e)+b.marginInfo[e],e=d.end-e;if(!c.overlay)d.end=e;if(c.ignoreParentFrame){d.ignoreFrameEnd=b;b=a.frameBorder[c.dock];e=e+(b+a.framePadding[c.dock]);
d.end=d.end+b}return e},dockOutwardBegin:function(a,b,c,d){var a=d.begin,e=d.sizeProp;if(d.collapsed)d.ignoreFrameBegin=d.ignoreFrameEnd=b;else if(c.ignoreParentFrame)d.ignoreFrameBegin=b;if(!c.overlay){b=b.getProp(e)+b.marginInfo[e];a=a-b;d.begin=a}return a},dockOutwardEnd:function(a,b,c,d){var a=d.end,e=d.sizeProp,e=b.getProp(e)+b.marginInfo[e];if(d.collapsed)d.ignoreFrameBegin=d.ignoreFrameEnd=b;else if(c.ignoreParentFrame)d.ignoreFrameEnd=b;if(!c.overlay){d.end=a+e;d.dockedPixelsEnd=d.dockedPixelsEnd+
e}return a},dockStretch:function(a,b,c,d){var e=c.dock,g=d.sizeProp,h=e=="top"||e=="bottom",e=a.frameBorder,i=b.offsets,j=a.framePadding,k=h?"left":"top",a=d.begin+i[k];if(c.stretch!==false){h=d.end-a-i[h?"right":"bottom"];if(c.ignoreParentFrame){a=a-(j[k]+e[k]);h=h+(j[g]+e[g])}c=b.marginInfo;h=h-c[g];b[d.setSize](h)}return a},finishAxis:function(a,b){if(isNaN(b.maxChildSize))return false;var c=b.begin,d=b.end-c,e=b.collapsed,g=b.setSize,h=b.dockBegin,i=b.dockEnd,j=a.framePadding,k=a.frameBorder,
l=k[h],m=a.framing,n=m&&m[h],h=e?0:j[h],p=b.sizeProp,o=b.ignoreFrameBegin,q=b.ignoreFrameEnd,r=a.bodyContext,t=Math.max(l+h-n,0),s,u;if(b.shrinkWrap){s=b.initialSize;if(m){m=-c+l+h;c=m-n-t}else{c=-c;m=c+h}e||(d=d+j[p]);if(o){m=m-l;c=c-l;o.dockedAt[b.posProp]=o.dockedAt[b.posProp]-h}else d=d+l;e||(q?q.dockedAt[b.posProp]=q.dockedAt[b.posProp]+j[i]:d=d+k[i]);b.size=d;!b.horizontal&&!this.owner.manageHeight&&(u=false)}else{if(m){m=0;c=c-n-t}else{m=-l;c=c-h-l}s=d}b.delta=m;r[g](s,u);r.setProp(b.bodyPosProp,
c);return!isNaN(d)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;if(!a[c].constrainedMin)a[c]=Ext.layout.SizeModel.calculated},afterInvalidateShrinkWrapDock:function(a,b){var c=b.axis,d=b.layout;if(a[c.sizeModelName].calculated){d=d.dockStretch(b.ownerContext,a,a.target,c);a.setProp(c.posProp,c.delta+d)}},finishConstraints:function(a,b,c){var d=this.sizeModels,e=b.shrinkWrap,g=c.shrinkWrap,h=this.owner,i,j,k,l,m,n,p,o,q,r;if(e){n=b.size;p=b.collapsed?0:b.minSize;o=b.maxSize;
q=b.maxChildSize;r=Math.max(n,q);if(r>o){m=d.constrainedMax;k=o}else if(r<p){m=d.constrainedMin;k=p}else if(n<q){m=d.constrainedDock;h.dockConstrainedWidth=k=q}else k=n}if(g){n=c.size;p=c.collapsed?0:c.minSize;o=c.maxSize;q=c.maxChildSize;r=Math.max(n,q+n-c.initialSize);if(r>o){l=d.constrainedMax;j=o}else if(r<p){l=d.constrainedMin;j=p}else if(n<q){l=d.constrainedDock;h.dockConstrainedHeight=j=q}else{if(!a.collapsedVert&&!h.manageHeight){i=false;a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)}j=
n}}if(m||l){if(m&&l&&m.constrainedMax&&l.constrainedByMin){a.invalidate({widthModel:m});return false}if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap){a.invalidate({widthModel:m,heightModel:l});return false}}else this.invalidateAxes(a,b,c);if(e){a.setWidth(k);if(m)a.widthModel=m}if(g){a.setHeight(j,i);if(l)a.heightModel=l}return true},invalidateAxes:function(a,b,c){var d=this.beforeInvalidateShrinkWrapDock,e=this.afterInvalidateShrinkWrapDock,g=b.end-b.begin,h=c.initialSize,
i=b.shrinkWrapDock&&b.maxChildSize<g,j=c.shrinkWrapDock&&c.maxChildSize<h,k,l,m,n,p,o,q,r;if(i||j){if(j){c.begin=c.initialBegin;c.end=c.begin+c.initialSize}k=a.dockedItems;m=0;for(l=k.length;m<l;++m){n=k[m];o=n.horizontal;q=null;if(i&&o){r=b.sizeProp;p=g;q=b}else if(j&&!o){r=c.sizeProp;p=h;q=c}if(q){p=p-n.getMarginInfo()[r];p!==n.props[r]&&n.invalidate({before:d,after:e,axis:q,ownerContext:a,layout:this})}}}},finishPositions:function(a,b,c){var a=a.dockedItems,d=a.length,b=b.delta,c=c.delta,e,g;for(e=
0;e<d;++e){g=a[e];g.setProp("x",b+g.dockedAt.x);g.setProp("y",c+g.dockedAt.y)}},finishedLayout:function(a){var b=a.target;this.callParent(arguments);a.animatePolicy||(a.isCollapsingOrExpanding===1?b.afterCollapse(false):a.isCollapsingOrExpanding===2&&b.afterExpand(false))},getAnimatePolicy:function(a){var b,c;if(a.isCollapsingOrExpanding==1)b=this.lastCollapsedState;else if(a.isCollapsingOrExpanding==2)b=a.lastCollapsedState;if(b=="left"||b=="right")c=this.horizontalCollapsePolicy;else if(b=="top"||
b=="bottom")c=this.verticalCollapsePolicy;return c},getDockedItems:function(a,b){var c=this,d=a==="visual",e=d?Ext.ComponentQuery.query("[rendered]",c.owner.dockedItems.items):c.owner.dockedItems.items,g=e&&e.length&&a!==false,h,i,j,k;if(b==null)d=g&&!d?e.slice():e;else{d=[];j=0;for(k=e.length;j<k;++j){i=e[j].dock;i=i=="top"||i=="left";(b?i:!i)&&d.push(e[j])}g=g&&d.length}if(g){h=(a=a||"render")=="render";Ext.Array.sort(d,function(b,d){var e,g;if(h&&(e=c.owner.dockOrder[b.dock])!==(g=c.owner.dockOrder[d.dock])&&
!(e+g))return e-g;e=c.getItemWeight(b,a);g=c.getItemWeight(d,a);return e!==void 0&&g!==void 0?e-g:0})}return d||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a,b,c,d,e;if(this.owner.collapsed)e=this.owner.getCollapsedDockedItems();else{a=this.getDockedItems("visual");b=a.length;e=[];for(d=0;d<b;d++){c=a[d];c.hidden||e.push(c)}}return e},measureContentWidth:function(a){a=a.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},
measureContentHeight:function(a){a=a.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(a){var b=this.owner;if(a.isCollapsingOrExpanding==1){b.reExpander&&b.reExpander.el.show();b.addClsWithUI(b.collapsedCls);a.redo(true)}else if(a.isCollapsingOrExpanding==2){b.removeClsWithUI(b.collapsedCls);a.bodyContext.redo()}},renderChildren:function(){var a=this.getDockedItems(),b=this.getRenderTarget();this.handleItemBorders();this.renderItems(a,b)},renderItems:function(a,b){var c=
a.length,d=0,e=0,g=0,h=this.getRenderTarget().dom.childNodes,i=h.length,j,k,l,m;for(j=0;j<i;j++){l=h[j];if(Ext.fly(l).hasCls(Ext.baseCSSPrefix+"resizable-handle"))break;for(k=0;k<c;k++){m=a[k];if(m.rendered&&m.el.dom===l)break}k===c&&g++}for(;d<c;d++,e++){m=a[d];if(d===e&&(m.dock==="right"||m.dock==="bottom"))e=e+g;m&&!m.rendered?this.renderItem(m,b,e):this.isValidParent(m,b,e)||this.moveItem(m,b,e)}},undoLayout:function(a){var b=this.owner;if(a.isCollapsingOrExpanding==1){b.reExpander&&b.reExpander.el.hide();
b.removeClsWithUI(b.collapsedCls);a.undo(true)}else if(a.isCollapsingOrExpanding==2){b.addClsWithUI(b.collapsedCls);a.bodyContext.undo()}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,
setsHeight:1}},getItemSizePolicy:function(a,b){var c=this.sizePolicy,d=this.owner.shrinkWrapDock,e;if(a.stretch===false)return c.nostretch;e=a.dock;e=e=="left"||e=="right";d=d===true?3:d||0;if(e){c=c.vert;d=d&1}else{c=c.horz;d=d&2}if(d){b||(b=this.owner.getSizeModel());if(b[e?"height":"width"].shrinkWrap)return c.shrinkWrap}return c.stretch},configureItem:function(a,b){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+
a},afterRemove:function(a){this.callParent(arguments);this.itemCls&&a.el.removeCls(this.itemCls+"-"+a.dock);var b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b);this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var a=this.borderCollapseMap,b=this.owner,c=b.baseCls,b=b.ui,d,a=a[c]||(a[c]={});d=a[b];if(!d){c=c+("-"+b+"-outer-border-");a[b]=d=[0,c+"l",c+"b",c+"bl",c+"r",c+"rl",c+"rb",c+"rbl",c+"t",c+"tl",c+"tb",c+"tbl",c+"tr",c+"trl",c+"trb",c+"trbl"]}return d}},
0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0);
Ext.cmd.derive("Ext.panel.AbstractPanel",Ext.container.Container,{baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>',
'</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps();this.callParent()},initBorderProps:function(){if(this.frame&&this.border&&this.bodyBorder===void 0)this.bodyBorder=false;if(this.frame&&this.border&&(this.bodyBorder===false||this.bodyBorder===0))this.manageBodyBorders=true},beforeDestroy:function(){this.destroyDockedItems();
this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this.callParent();this.initBodyStyles();this.protoBody.writeTo(a);delete this.protoBody;return a},getComponent:function(a){var b=this.callParent(arguments);b===void 0&&!Ext.isNumber(a)&&(b=this.getDockedComponent(a));return b},getProtoBody:function(){var a=this.protoBody;if(!a)this.protoBody=a=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",
styleIsText:true});return a},initBodyStyles:function(){var a=this.getProtoBody();this.bodyPadding!==void 0&&(this.layout.managePadding?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(this.bodyPadding===true?5:this.bodyPadding)));this.initBodyBorder()},initBodyBorder:function(){if(this.frame&&this.bodyBorder){if(!Ext.isNumber(this.bodyBorder))this.bodyBorder=1;this.getProtoBody().setStyle("border-width",this.unitizeBox(this.bodyBorder))}},getCollapsedDockedItems:function(){return this.header===
false||this.collapseMode=="placeholder"?this.emptyArray:[this.getReExpander()]},setBodyStyle:function(a,b){var c=this.rendered?this.body:this.getProtoBody();Ext.isFunction(a)&&(a=a());if(arguments.length==1){Ext.isString(a)&&(a=Ext.Element.parseStyles(a));c.setStyle(a)}else c.setStyle(a,b);return this},addBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).addCls(a);return this},removeBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).removeCls(a);return this},addUIClsToElement:function(a){var b=
this.callParent(arguments);this.addBodyCls([Ext.baseCSSPrefix+a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},removeUIClsFromElement:function(a){var b=this.callParent(arguments);this.removeBodyCls([Ext.baseCSSPrefix+a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},addUIToElement:function(){this.callParent(arguments);this.addBodyCls(this.baseCls+"-body-"+this.ui)},removeUIFromElement:function(){this.callParent(arguments);this.removeBodyCls(this.baseCls+
"-body-"+this.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}},0,0,["component","container","box"],{component:!0,container:!0,box:!0},0,[["docking",Ext.container.DockingContainer]],[Ext.panel,"AbstractPanel"],0);
Ext.cmd.derive("Ext.panel.Header",Ext.container.Container,{isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],
shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var a=this.hasOwnProperty("titlePosition"),b=this.items,c=a?this.titlePosition:b?b.length:0,d=[this.orientation,this.getDockName()],e=this.ownerCt;this.addEvents("click","dblclick");this.indicateDragCls=this.headerCls+"-draggable";this.title=this.title||"&#160;";this.tools=this.tools||[];b=this.items=b?Ext.Array.slice(b):[];this.orientation=this.orientation||"horizontal";this.dock=this.dock?this.dock:this.orientation==
"horizontal"?"top":"left";(e?!e.border&&!e.frame:!this.border)&&d.push(this.orientation+"-noborder");this.addClsWithUI(d);this.addCls([this.headerCls,this.headerCls+"-"+this.orientation]);this.indicateDrag&&this.addCls(this.indicateDragCls);if(this.iconCls||this.icon||this.glyph){this.initIconCmp();!a&&!b.length&&++c;b.push(this.iconCmp)}this.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,rtl:this.rtl,id:this.id+"_hd",style:this.titleAlign?"text-align:"+this.titleAlign:
"",cls:this.headerCls+"-text-container "+this.baseCls+"-text-container "+this.baseCls+"-text-container-"+this.ui,renderTpl:this.getTpl("headingTpl"),renderData:{title:this.title,cls:this.baseCls,headerCls:this.headerCls,ui:this.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:this.onTitleRender,scope:this}});this.layout=this.orientation=="vertical"?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"};Ext.Array.push(b,
this.tools);this.tools.length=0;this.callParent();if(b.length<c)c=b.length;this.titlePosition=c;this.insert(c,this.titleCmp);this.on({dblclick:this.onDblClick,click:this.onClick,element:"el",scope:this})},initIconCmp:function(){var a=[this.headerCls+"-icon",this.baseCls+"-icon",this.iconCls];this.glyph&&a.push(this.baseCls+"-glyph");a={focusable:false,src:Ext.BLANK_IMAGE_URL,cls:a,baseCls:this.baseCls+"-icon",id:this.id+"-iconEl",iconCls:this.iconCls,glyph:this.glyph};if(!Ext.isEmpty(this.icon)){delete a.iconCls;
a.src=this.icon}this.iconCmp=new Ext.Img(a)},beforeRender:function(){this.protoEl.unselectable();this.callParent()},afterLayout:function(){var a,b,c;if(this.orientation==="vertical"){this.adjustTitlePosition();if(b=this.frameTR){a=this.frameBR;c=this.frameTL;c=this.getWidth()-b.getPadding("r")-(c?c.getPadding("l"):this.el.getBorderWidth("l"))+"px";a.setStyle("background-position-x",c);b.setStyle("background-position-x",c)}Ext.isIE7&&(Ext.isStrict&&this.frame)&&this.el.repaint()}},beforeLayout:function(){this.callParent();
this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var a=this.titleCmp;if(!Ext.isIE9m&&a){a=a.el;a.setStyle("left",a.getWidth()+"px")}},onTitleRender:function(){this.orientation==="vertical"&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(a){var b=this.callParent(arguments),c=[this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a],d,e;if(this.bodyCls){d=this.bodyCls.split(" ");for(e=0;e<c.length;e++)Ext.Array.contains(d,c[e])||d.push(c[e]);this.bodyCls=d.join(" ")}else this.bodyCls=
c.join(" ");return b},removeUIClsFromElement:function(a){var b=this.callParent(arguments),c=[this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a],d,e;if(this.bodyCls){d=this.bodyCls.split(" ");for(e=0;e<c.length;e++)Ext.Array.remove(d,c[e]);this.bodyCls=d.join(" ")}return b},addUIToElement:function(){var a,b;this.callParent(arguments);b=this.baseCls+"-body-"+this.ui;if(this.rendered)this.bodyCls?this.body.addCls(this.bodyCls):this.body.addCls(b);else if(this.bodyCls){a=this.bodyCls.split(" ");
Ext.Array.contains(a,b)||a.push(b);this.bodyCls=a.join(" ")}else this.bodyCls=b;this.titleCmp&&this.titleCmp.rendered&&this.titleCmp.addCls(this.baseCls+"-text-container-"+this.ui)},removeUIFromElement:function(){var a,b;this.callParent(arguments);b=this.baseCls+"-body-"+this.ui;if(this.rendered)this.bodyCls?this.body.removeCls(this.bodyCls):this.body.removeCls(b);else if(this.bodyCls){a=this.bodyCls.split(" ");Ext.Array.remove(a,b);this.bodyCls=a.join(" ")}else this.bodyCls=b;this.titleCmp&&this.titleCmp.rendered&&
this.titleCmp.removeCls(this.baseCls+"-text-container-"+this.ui)},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,b){b.getTarget("."+Ext.panel.Tool.prototype.baseCls)||this.fireEvent(a,this,b)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(a){var b=this,c=b.titleCmp;b.title=a;if(c.rendered){c.textEl.update(b.title||
"&#160;");c.updateLayout()}else b.titleCmp.on({render:function(){b.setTitle(a)},single:true})},getMinWidth:function(){var a=this.titleCmp.textEl.dom,b,c=this.tools,d;a.style.display="inline";b=a.offsetWidth;a.style.display="";if(c&&(d=c.length))for(a=0;a<d;a++)c[a].el&&(b=b+c[a].el.dom.offsetWidth);this.iconCmp&&(b=b+this.iconCmp.el.dom.offsetWidth);return b+10},setIconCls:function(a){var b=!a||!a.length,c=this.iconCmp;this.iconCls=a;if(!this.iconCmp&&!b){this.initIconCmp();this.insert(0,this.iconCmp)}else if(c)if(b){this.iconCmp.destroy();
delete this.iconCmp}else{c.removeCls(c.iconCls);c.addCls(a);c.iconCls=a}},setIcon:function(a){var b=!a||!a.length,c=this.iconCmp;this.icon=a;if(!this.iconCmp&&!b){this.initIconCmp();this.insert(0,this.iconCmp)}else if(c)if(b){this.iconCmp.destroy();delete this.iconCmp}else c.setSrc(this.icon)},setGlyph:function(a){var b=this.iconCmp;if(this.iconCmp){if(b)if(a)this.iconCmp.setGlyph(a);else{this.iconCmp.destroy();delete this.iconCmp}}else{this.initIconCmp();this.insert(0,this.iconCmp)}},getTools:function(){return this.tools.slice()},
addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},syncBeforeAfterTitleClasses:function(){var a=this.items,b=a.items,c=this.titlePosition,d=b.length,e=a.generation,a=this.syncBeforeAfterGen,g,h,i;if(a!==e){this.syncBeforeAfterGen=e;for(h=0;h<d;++h){i=b[h];e=i.afterTitleCls||(i.afterTitleCls=i.baseCls+"-after-title");g=i.beforeTitleCls||(i.beforeTitleCls=i.baseCls+"-before-title");if(!this.title||h<c){a&&i.removeCls(e);i.addCls(g)}else if(h>c){a&&i.removeCls(g);i.addCls(e)}}}},onAdd:function(a,
b){var c=this.tools;this.callParent(arguments);if(a.isTool){c.push(a);c[a.type]=a}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var a=this.callParent(),b=this.ownerCt;if(!this.expanding&&b&&b.collapsed||this.isCollapsedExpander)a=a+("-"+b.collapsedCls);return a+"-"+this.dock}},0,["header"],["component","container","box","header"],
{component:!0,container:!0,box:!0,header:!0},["widget.header"],0,[Ext.panel,"Header"],0);
Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=true},moveOnly:!1,unlock:function(){this.locked=false},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,
available:!1,hasOuterHandles:!1,b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},
constrainTo:function(a,b){var c,d,e,g;Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b});var b=b||this.defaultPadding,h=Ext.get(this.getEl()).getBox();c=Ext.get(a);e=c.getScroll();g=c.dom;if(g==document.body){c=e.left;d=e.top;e=Ext.Element.getViewWidth();g=Ext.Element.getViewHeight()}else{e=c.getXY();c=e[0];d=e[1];e=g.clientWidth;g=g.clientHeight}d=h.y-d;c=h.x-c;this.resetConstraints();this.setXConstraint(c-(b.left||0),e-c-h.width-(b.right||0),this.xTickSize);this.setYConstraint(d-(b.top||0),g-
d-h.height-(b.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef)this._domRef=Ext.getDom(this.id);return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.initTarget(a,b,c);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};typeof a!=="string"&&(a=Ext.id(a));this.id=a;this.addToGroup(b?b:"default");this.handleElId=a;this.setDragElId(a);
this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=this.config.isTarget!==false;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=this.config.primaryButtonOnly!==false},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){this.padding=!b&&0!==b?[a,a,a,
a]:!c&&0!==c?[a,b,a,b]:[a,b,c,d]},setInitPosition:function(a,b){var c=this.getEl(),d,e;if(this.DDMInstance.verifyEl(c)){d=a||0;e=b||0;c=Ext.Element.getXY(c);this.initPageX=c[0]-d;this.initPageY=c[1]-e;this.lastPageX=c[0];this.lastPageY=c[1];this.setStartPosition(c)}},setStartPosition:function(a){a=a||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&
delete this.groups[a];this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){typeof a!=="string"&&(a=Ext.id(a));this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){typeof a!=="string"&&(a=Ext.id(a));Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;
this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a){if(!(this.primaryButtonOnly&&a.button!=0||this.isLocked())){this.DDMInstance.refreshCache(this.groups);if((this.hasOuterHandles||this.DDMInstance.isOverTarget(a.getPoint(),this))&&this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDMInstance.handleMouseDown(a,this);this.DDMInstance.stopEvent(a)}}},
clickValidator:function(a){a=a.getTarget();return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(a){a=a.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){typeof a!=="string"&&(a=Ext.id(a));this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){delete this.invalidHandleTypes[a.toUpperCase()]},removeInvalidHandleId:function(a){typeof a!==
"string"&&(a=Ext.id(a));delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;b<c;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b=true,c,d;try{c=a.nodeName.toUpperCase()}catch(e){c=a.nodeName}b=(b=b&&!this.invalidHandleTypes[c])&&!this.invalidHandleIds[a.id];c=0;for(d=this.invalidHandleClasses.length;b&&c<d;++c)b=!Ext.fly(a).hasCls(this.invalidHandleClasses[c]);return b},setXTicks:function(a,
b){this.xTicks=[];this.xTickSize=b;var c={},d;for(d=this.initPageX;d>=this.minX;d=d-b)if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}for(d=this.initPageX;d<=this.maxX;d=d+b)if(!c[d]){this.xTicks[this.xTicks.length]=d;c[d]=true}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var c={},d;for(d=this.initPageY;d>=this.minY;d=d-b)if(!c[d]){this.yTicks[this.yTicks.length]=d;c[d]=true}for(d=this.initPageY;d<=this.maxY;d=d+b)if(!c[d]){this.yTicks[this.yTicks.length]=
d;c[d]=true}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;c&&this.setXTicks(this.initPageX,c);this.constrainX=true},clearConstraints:function(){this.constrainY=this.constrainX=false;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a;this.bottomConstraint=
b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;c&&this.setYTicks(this.initPageY,c);this.constrainY=true},resetConstraints:function(){this.initPageX||this.initPageX===0?this.setInitPosition(this.maintainOffset?this.lastPageX-this.initPageX:0,this.maintainOffset?this.lastPageY-this.initPageY:0):this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},
getTick:function(a,b){if(b){if(b[0]>=a)return b[0];var c,d,e,g;c=0;for(d=b.length;c<d;++c){e=c+1;if(b[e]&&b[e]>=a){d=a-b[c];g=b[e]-a;return g>d?b[c]:b[e]}}return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0);
Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:!0,autoOffset:function(a,b){this.setDelta(a-this.startPageX,b-this.startPageY)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){this.alignElWithMouse(this.getDragEl(),a,b)},alignElWithMouse:function(a,b,c){var b=this.getTargetCoord(b,c),c=a.dom?a:Ext.fly(a,"_dd"),d=c.getSize(),e=Ext.Element;if(this.deltaSetXY){e=this.cachedViewportSize;this.setLocalXY(c,Math.max(0,Math.min(b.x+
this.deltaSetXY[0],e.width-d.width)),Math.max(0,Math.min(b.y+this.deltaSetXY[1],e.height-d.height)))}else{e=this.cachedViewportSize={width:e.getDocumentWidth(),height:e.getDocumentHeight()};d=[Math.max(0,Math.min(b.x,e.width-d.width)),Math.max(0,Math.min(b.y,e.height-d.height))];c.setXY(d);d=this.getLocalX(c);c=c.getLocalY();this.deltaSetXY=[d-b.x,c-b.y]}this.cachePosition(b.x,b.y);this.autoScroll(b.x,b.y,a.offsetHeight,a.offsetWidth);return b},cachePosition:function(a,b){if(a){this.lastPageX=a;this.lastPageY=
b}else{var c=Ext.Element.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewHeight(),g=Ext.Element.getViewWidth(),h=this.DDMInstance.getScrollTop(),i=this.DDMInstance.getScrollLeft(),d=d+a,j=e+h-b-this.deltaY,k=g+i-a-this.deltaX,l=document.all?80:30;c+b>e&&j<40&&window.scrollTo(i,h+l);b<h&&(h>0&&b-h<40)&&window.scrollTo(i,h-l);d>g&&k<40&&window.scrollTo(i+l,h);a<i&&(i>0&&a-i<40)&&window.scrollTo(i-l,h)}},getTargetCoord:function(a,
b){var c=a-this.deltaX,d=b-this.deltaY;if(this.constrainX){if(c<this.minX)c=this.minX;if(c>this.maxX)c=this.maxX}if(this.constrainY){if(d<this.minY)d=this.minY;if(d>this.maxY)d=this.maxY}c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=this.config.scroll!==false},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+
this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}},3,0,0,0,0,0,[Ext.dd,"DD"],0);
Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){if(a){this.init(a,b,c);this.initFrame()}},resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body,c,d;if(!b||!b.firstChild)setTimeout(function(){a.createFrame()},50);else{c=this.getDragEl();if(!c){c=document.createElement("div");c.id=this.dragElId;d=c.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;b.insertBefore(c,b.firstChild)}}},
initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=this.config.resizeFrame!==false;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){this.getEl();var c=this.getDragEl(),d=c.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2));this.setDragElPos(a,b);Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=
this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),a=a.getPageY();this.autoOffset(b,a);this.setDragElPos(b,a)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="";this.beforeMove();a.style.visibility="hidden";Ext.dd.DDM.moveToEl(a,b);b.style.visibility="hidden";a.style.visibility="";this.afterDrag()},
beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0);
Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(a){a=a||{};Ext.apply(this,{hideMode:"visibility",hidden:true,floating:true,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});this.callParent(arguments);
this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(a){var b=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(b+this.dropAllowed,b+this.dropNotAllowed);this.dropStatus=this.dropNotAllowed;a&&this.ghost.update("")},update:function(a){if(typeof a=="string")this.ghost.update(a);
else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}(a=this.ghost.dom.firstChild)&&Ext.fly(a).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent();a&&this.reset(true)},stop:function(){this.anim&&(this.anim.isAnimated&&this.anim.isAnimated())&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(a,b,c){this.callback=b;this.scope=c;if(a&&this.animRepair!==false){this.el.addCls(this.repairCls);this.el.hideUnders(true);
this.anim=this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:true,callback:this.afterRepair,scope:this})}else this.afterRepair()},afterRepair:function(){this.hide(true);this.el.removeCls(this.repairCls);typeof this.callback=="function"&&this.callback.call(this.scope||this);delete this.callback;delete this.scope}},1,0,["component","box"],{component:!0,box:!0},0,0,[Ext.dd,"StatusProxy"],0);
Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a);if(!this.dragData)this.dragData={};Ext.apply(this,b);if(!this.proxy)this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair});this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,
scroll:this.scroll===true}]);this.dragging=false},getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=c;if(this.beforeDragEnter(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(c,a,b)}},beforeDragEnter:function(){return true},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),
d;if(this.beforeDragOver(c,a,b)!==false){if(c.isNotifyTarget){d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}this.afterDragOver&&this.afterDragOver(c,a,b)}},beforeDragOver:function(){return true},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(c,a,b)!==false){c.isNotifyTarget&&c.notifyOut(this,a,this.dragData);this.proxy.reset();this.afterDragOut&&this.afterDragOut(c,a,b)}this.cachedTarget=null},beforeDragOut:function(){return true},
onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(c,a,b)!==false){if(c.isNotifyTarget)if(c.notifyDrop(this,a,this.dragData)!==false)this.onValidDrop(c,a,b);else this.onInvalidDrop(c,a,b);else this.onValidDrop(c,a,b);this.afterDragDrop&&this.afterDragDrop(c,a,b)}delete this.cachedTarget},beforeDragDrop:function(){return true},onValidDrop:function(a,b,c){this.hideProxy();this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},
onInvalidDrop:function(a,b,c){if(!b){b=a;a=null;c=b.getTarget().id}if(this.beforeInvalidDrop(a,b,c)!==false){if(this.cachedTarget){this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData);this.cacheTarget=null}this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this);this.afterInvalidDrop&&this.afterInvalidDrop(b,c)}},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor);this.dragging=false},beforeInvalidDrop:function(){return true},
handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);if(b&&this.onBeforeDrag(b,a)!==false){this.dragData=b;this.proxy.stop();this.callParent(arguments)}}},onBeforeDrag:function(){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,
b){var c=this.el.dom.cloneNode(true);c.id=Ext.id();this.proxy.update(c);this.onStartDrag(a,b);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}},
1,0,0,0,0,0,[Ext.dd,"DragSource"],0);
Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.unghost(null,
this.moveOnDrag);delete this.ghost}},show:function(){var a;if(!this.ghost){a=this.panel.getSize();this.panel.el.setVisibilityMode(Ext.Element.DISPLAY);this.ghost=this.panel.ghost();if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});this.proxy.setSize(a)}}},repair:function(a,b,c){this.hide();Ext.callback(b,c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0);
Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(a,b){this.panel=a;this.dragData={panel:a};this.panelProxy=new Ext.panel.Proxy(a,b);this.proxy=this.panelProxy.proxy;this.callParent([a.el,b]);this.setupEl(a)},setupEl:function(a){var b=a.header,c=a.body;if(b){this.setHandleElId(b.id);c=b.el}if(c){c.setStyle("cursor","move");this.scroll=false}else a.on("boxready",this.setupEl,this,{single:true})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},
b4MouseDown:function(a){var b=a.getPageX(),a=a.getPageY();this.autoOffset(b,a)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(){var a=this.panelProxy.ghost;if(a)return a.el.dom},endDrag:function(){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a=a-this.startPageX;b=b-this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(a,b,c){if(this.beforeInvalidDrop(a,b,c)!==false){if(this.cachedTarget){this.cachedTarget.isNotifyTarget&&
this.cachedTarget.notifyOut(this,b,this.dragData);this.cacheTarget=null}this.afterInvalidDrop&&this.afterInvalidDrop(b,c)}}},1,0,0,0,0,0,[Ext.panel,"DD"],0);
Ext.cmd.derive("Ext.util.Memento",Ext.Base,function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,d){var d=d?d+c:c,j=a[d];if(j||a.hasOwnProperty(d))Ext.isDefined(j)?b[c]=j:delete b[c]}function d(a,b,c,d,j){if(b)if(Ext.isArray(d)){var k,l=d.length;for(k=0;k<l;k++)a(b,c,d[k],j)}else a(b,c,d,j)}return{data:null,target:null,constructor:function(a,b){if(a){this.target=a;b&&this.capture(b)}},capture:function(b,c,h){d(a,this.data||(this.data={}),c||this.target,b,h)},
remove:function(a){d(b,this.data,null,a)},restore:function(a,b,h,i){d(c,this.data,h||this.target,a,i);b!==false&&this.remove(a)},restoreAll:function(a,b){var c=b||this.target,d=this.data,j;for(j in d)if(d.hasOwnProperty(j)){var k=c,l=j,m=d[j];Ext.isDefined(m)?k[l]=m:delete k[l]}a!==false&&delete this.data}}}(),1,0,0,0,0,0,[Ext.util,"Memento"],0);
Ext.cmd.derive("Ext.panel.Panel",Ext.panel.AbstractPanel,{alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){this.addEvents("beforeclose",
"close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat");this.collapsible&&this.addStateEvents(["expand","collapse"]);this.unstyled&&this.setUI("plain");this.frame&&this.setUI(this.ui+"-framed");this.bridgeToolbars();this.callParent();this.collapseDirection=this.collapseDirection||this.headerPosition||Ext.Component.DIRECTION_TOP;this.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){Ext.destroy(this.placeholder,
this.ghostPanel,this.dd);this.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var a=this.el,b=this.header;a&&b&&a.dom.setAttribute("aria-labelledby",b.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(a){var b=this.title,c=this.header,d=this.reExpander,e=this.placeholder;this.title=a;c?c.isHeader?c.setTitle(a):c.title=a:this.rendered&&this.updateHeader();d&&d.setTitle(a);e&&e.setTitle&&
e.setTitle(a);this.fireEvent("titlechange",this,a,b)},setIconCls:function(a){var b=this.iconCls,c=this.header,d=this.placeholder;this.iconCls=a;c?c.isHeader?c.setIconCls(a):c.iconCls=a:this.updateHeader();d&&d.setIconCls&&d.setIconCls(a);this.fireEvent("iconclschange",this,a,b)},setIcon:function(a){var b=this.icon,c=this.header,d=this.placeholder;this.icon=a;c?c.isHeader?c.setIcon(a):c.icon=a:this.updateHeader();d&&d.setIcon&&d.setIcon(a);this.fireEvent("iconchange",this,a,b)},setGlyph:function(a){var b=
this.glyph,c=this.header,d=this.placeholder;this.glyph=a;c?c.isHeader?c.setGlyph(a):c.glyph=a:this.updateHeader();d&&d.setGlyph&&d.setIcon(a);this.fireEvent("glyphchange",this,a,b)},bridgeToolbars:function(){function a(a,c,d){if(Ext.isArray(a))a={xtype:"toolbar",items:a};else if(!a.xtype)a.xtype="toolbar";a.dock=c;if(c=="left"||c=="right")a.vertical=true;if(d)a.layout=Ext.applyIf(a.layout||{},{pack:{left:"start",center:"center"}[b.buttonAlign]||"end"});return a}var b=this,c=[],d,e,g=b.minButtonWidth;
if(b.tbar){c.push(a(b.tbar,"top"));b.tbar=null}if(b.bbar){c.push(a(b.bbar,"bottom"));b.bbar=null}if(b.buttons){b.fbar=b.buttons;b.buttons=null}if(b.fbar){d=a(b.fbar,"bottom",true);d.ui="footer";if(g){e=d.defaults;d.defaults=function(a){var b=e||{};if((!a.xtype||a.xtype==="button"||a.isComponent&&a.isXType("button"))&&!("minWidth"in b))b=Ext.apply({minWidth:g},b);return b}}c.push(d);b.fbar=null}if(b.lbar){c.push(a(b.lbar,"left"));b.lbar=null}if(b.rbar){c.push(a(b.rbar,"right"));b.rbar=null}if(b.dockedItems){if(!Ext.isArray(b.dockedItems))b.dockedItems=
[b.dockedItems];b.dockedItems=b.dockedItems.concat(c)}else b.dockedItems=c},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var a;this.callParent();this.initTools();this.preventHeader||this.header===false||this.updateHeader();if(this.collapsed)if(this.isPlaceHolderCollapse()){if(!this.hidden){this.setHiddenState(true);this.preventCollapseFire=true;this.placeholderCollapse();
delete this.preventCollapseFire;a=this.collapsed;this.collapsed=false}}else{this.beginCollapse();this.addClsWithUI(this.collapsedCls)}if(a)this.collapsed=a},initTools:function(){var a=this.tools,b,c;this.tools=[];for(b=a&&a.length;b;){--b;this.tools[b]=c=a[b];c.toolOwner=this}if(this.collapsible&&!this.hideCollapseTool&&!(this.header===false||this.preventHeader)){this.collapseDirection=this.collapseDirection||this.headerPosition||"top";this.collapseTool=this.expandTool=Ext.widget({xtype:"tool",handler:this.toggleCollapse,
scope:this});this.updateCollapseTool();this.collapseFirst&&this.tools.unshift(this.collapseTool)}this.addTools();if(this.closable){this.addClsWithUI("closable");this.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(this.close,this,[])}))}this.collapseTool&&!this.collapseFirst&&this.addTool(this.collapseTool)},addTools:Ext.emptyFn,updateCollapseTool:function(){var a=this.collapseTool;a&&(this.collapsed&&!this.isPlaceHolderCollapse()?a.setType("expand-"+this.getOppositeDirection(this.collapseDirection)):
a.setType("collapse-"+this.collapseDirection))},close:function(){this.fireEvent("beforeclose",this)!==false&&this.doClose()},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(a){var b=this.header,c=this.title,d=this.tools,e=this.icon||this.iconCls,g=this.headerPosition==="left"||this.headerPosition==="right";if(Ext.isObject(b)||b!==false&&(a||c||e||d&&d.length||this.collapsible&&!this.titleCollapse)){if(b&&b.isHeader)b.show();else{b=this.header=Ext.widget(Ext.apply({xtype:"header",
title:c,titleAlign:this.titleAlign,orientation:g?"vertical":"horizontal",dock:this.headerPosition||"top",textCls:this.headerTextCls,iconCls:this.iconCls,icon:this.icon,glyph:this.glyph,baseCls:this.baseCls+"-header",tools:d,ui:this.ui,id:this.id+"_header",overCls:this.headerOverCls,indicateDrag:this.draggable,frame:(this.frame||this.alwaysFramed)&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,ownerCt:this,listeners:this.collapsible&&
this.titleCollapse?{click:this.toggleCollapse,scope:this}:null},this.header));this.addDocked(b,0)}this.initHeaderAria()}else b&&b.hide()},setUI:function(a){this.callParent(arguments);this.header&&this.header.rendered&&this.header.setUI(a)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},isVisible:function(a){return this.collapsed&&this.placeholder?this.placeholder.isVisible(a):this.callParent(arguments)},onHide:function(){this.collapsed&&
this.placeholder?this.placeholder.hide():this.callParent(arguments)},onShow:function(){if(this.collapsed&&this.isPlaceHolderCollapse()){this.setHiddenState(true);this.placeholderCollapse()}else this.callParent(arguments)},onRemoved:function(a){this.placeholder&&!a&&this.ownerCt.remove(this.placeholder,false);this.callParent(arguments)},addTool:function(a){Ext.isArray(a)||(a=[a]);var b=this.header,c,d=a.length,e;for(c=0;c<d;c++){e=a[c];e.toolOwner=this;b&&b.isHeader?b.addTool(e):this.tools.push(e)}this.updateHeader()},
getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();
return a==="left"||a==="right"},collapsedVertical:function(){var a=this.getCollapsed();return a==="top"||a==="bottom"},restoreDimension:function(){var a=this.collapseDirection;return a==="top"||a==="bottom"?"height":"width"},getCollapsed:function(){return this.collapsed===true?this.collapseDirection:this.collapsed},getState:function(){var a=this.callParent(),b,a=this.addPropertyToState(a,"collapsed");if(this.collapsed){b=(b=this.collapseMemento)&&b.data;if(this.collapsedVertical()){a&&delete a.height;
b&&(a=this.addPropertyToState(a,"height",b.height))}else{a&&delete a.width;b&&(a=this.addPropertyToState(a,"width",b.width))}}return a},findReExpander:function(a){var b=Ext.Component,c=this.dockedItems.items,d=c.length;if(this.collapseMode!=="mini")switch(a){case b.DIRECTION_TOP:case b.DIRECTION_BOTTOM:for(b=0;b<d;b++){a=c[b];if(!a.hidden&&a.isHeader&&(!a.dock||a.dock==="top"||a.dock==="bottom"))return a}break;case b.DIRECTION_LEFT:case b.DIRECTION_RIGHT:for(b=0;b<d;b++){a=c[b];if(!a.hidden&&a.isHeader&&
(a.dock==="left"||a.dock==="right"))return a}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";}},getReExpander:function(a){var a=a||this.collapseDirection,b=this.reExpander||this.findReExpander(a);this.expandDirection=this.getOppositeDirection(a);if(!b){this.reExpander=b=this.createReExpander(a,{dock:a,cls:Ext.baseCSSPrefix+"docked "+this.baseCls+"-"+this.ui+"-collapsed",isCollapsedExpander:true});this.dockedItems.insert(0,b)}return b},createReExpander:function(a,
b){var c=a==="left",d=a==="right",e=c||d,g=Ext.apply({hideMode:"offsets",title:this.title||"&#160;",titleAlign:this.titleAlign,orientation:e?"vertical":"horizontal",textCls:this.headerTextCls,icon:this.icon,iconCls:this.iconCls,glyph:this.glyph,baseCls:this.self.prototype.baseCls+"-header",ui:this.ui,frame:this.frame&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,indicateDrag:this.draggable,collapseImmune:true,ownerCt:this.ownerCt,ownerLayout:this.componentLayout,margin:this.margin},
b);if(this.collapseMode==="mini")e?g.width=1:g.height=1;if(!this.hideCollapseTool){if(c||d&&this.isPlaceHolderCollapse())g.titlePosition=1;g.tools=[{xtype:"tool",type:"expand-"+this.getOppositeDirection(a),uiCls:["top"],handler:this.toggleCollapse,scope:this}]}g=new Ext.panel.Header(g);g.addClsWithUI(this.getHeaderCollapsedClasses(g));return g},getHeaderCollapsedClasses:function(a){var b=this.collapsedCls,c;c=[b,b+"-"+a.getDockName()];this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&
c.push(b+"-border-"+a.getDockName());return c},beginCollapse:function(){var a=this.lastBox,b=this.rendered,c=this.collapseMemento||(this.collapseMemento=new Ext.util.Memento(this)),d=this.getSizeModel(),e=this.header;c.capture(["height","minHeight","width","minWidth"]);a&&c.capture(this.restoreDimension(),a,"last.");if(this.collapsedVertical()){if(d.width.shrinkWrap)this.width=b?this.getWidth():this.width||this.minWidth||100;delete this.height;this.minHeight=0}else if(this.collapsedHorizontal()){if(d.height.shrinkWrap)this.height=
b?this.getHeight():this.height||this.minHeight||100;delete this.width;this.minWidth=0}this.ownerCt&&this.ownerCt.getLayout().beginCollapse(this);if(!this.isPlaceHolderCollapse()&&e!==false)if(e===(a=this.getReExpander())){e.collapseImmune=true;e.getHierarchyState().collapseImmune=true;e.addClsWithUI(this.getHeaderCollapsedClasses(e));e.rendered&&e.updateFrame()}else if(a.el){a.el.show();a.hidden=false}this.resizer&&this.resizer.disable()},beginExpand:function(){var a=this.lastBox,b=this.collapseMemento,
c=this.restoreDimension(),d=this.header;if(b){b.restore(["minHeight","minWidth",c]);a&&b.restore(c,true,a,"last.")}this.ownerCt&&this.ownerCt.getLayout().beginExpand(this);if(!this.isPlaceHolderCollapse()&&d!==false)if(d===(a=this.getReExpander())){delete d.collapseImmune;delete d.getHierarchyState().collapseImmune;d.removeClsWithUI(this.getHeaderCollapsedClasses(d));if(d.rendered){d.expanding=true;d.updateFrame();delete d.expanding}}else{a.hidden=true;a.el.hide()}this.resizer&&this.resizer.enable()},
collapse:function(a,b){var c=a||this.collapseDirection,d=this.ownerCt;if(this.isCollapsingOrExpanding)return this;if(arguments.length<2)b=this.animCollapse;if(this.collapsed||this.fireEvent("beforecollapse",this,a,b)===false)return this;if(d&&this.isPlaceHolderCollapse())return this.placeholderCollapse(a,b);this.collapsed=c;this.beginCollapse();this.getHierarchyState().collapsed=true;this.fireHierarchyEvent("collapse");return this.doCollapseExpand(1,b)},doCollapseExpand:function(a,b){var c=this.animCollapse,
d=this.ownerLayout;this.animCollapse=b;this.isCollapsingOrExpanding=a;b&&this.addCls(Ext.baseCSSPrefix+"animating-size");if(d&&!b)d.onContentChange(this);else this.updateLayout({isRoot:true});this.animCollapse=c;return this},afterCollapse:function(a){var b=this.ownerLayout;this.isCollapsingOrExpanding=0;this.updateCollapseTool();a&&this.removeCls(Ext.baseCSSPrefix+"animating-size");if(b&&a)b.onContentChange(this);this.setHiddenDocked();this.fireEvent("collapse",this)},setHiddenDocked:function(){var a=
this.hiddenOnCollapse,b=this.getDockedItems(),c=b.length,d=0,e,g;this.header!==false&&(g=this.getReExpander());for(a.add(this.body);d<c;d++)(e=b[d])&&(e!==g&&e.el)&&a.add(e.el);a.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(a){var a=a||this.collapseDirection,b=null,c=this.placeholder,d=this.floatable,e=this.titleCollapse;if(!c){if(d||this.collapsible&&e)b={click:{fn:!e&&d?this.floatCollapsedPanel:
this.toggleCollapse,element:"el",scope:this}};this.placeholder=c=Ext.widget(this.createReExpander(a,{id:this.id+"-placeholder",listeners:b}))}if(!c.placeholderFor){if(!c.isComponent)this.placeholder=c=this.lookupComponent(c);Ext.applyIf(c,{margins:this.margins,placeholderFor:this});c.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+a+"-placeholder",this.collapsedCls])}return c},placeholderCollapse:function(a,b){var c=this,d=c.ownerCt,e=a||c.collapseDirection,
g=Ext.baseCSSPrefix+"border-region-slide-in",h=c.getPlaceholder(e),i;c.isCollapsingOrExpanding=1;c.setHiddenState(true);c.collapsed=e;if(h.rendered){h.el.dom.parentNode!==c.el.dom.parentNode&&c.el.dom.parentNode.insertBefore(h.el.dom,c.el.dom);h.hidden=false;h.el.show();d.updateLayout()}else d.insert(d.items.indexOf(c),h);if(c.rendered){c.el.setVisibilityMode(c.placeholderCollapseHideMode);if(b){c.el.addCls(g);h.el.hide();i=c.convertCollapseDir(e);c.el.slideOut(i,{preserveScroll:true,duration:Ext.Number.from(b,
Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.el.removeCls(g);h.el.show().setStyle("display","none").slideIn(i,{easing:"linear",duration:100,listeners:{afteranimate:function(){h.focus();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}})}}})}else{c.el.hide();c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}else{c.isCollapsingOrExpanding=0;c.preventCollapseFire||c.fireEvent("collapse",c)}return c},floatCollapsedPanel:function(){var a=this,b=a.placeholder,c=b.getSize(),
d,e=Ext.baseCSSPrefix+"border-region-slide-in",g=a.collapsed,h=a.ownerCt||a;if(!a.isSliding)if(a.el.hasCls(e))a.slideOutFloatedPanel();else{a.isSliding=true;b.el.hide();b.hidden=true;a.el.show();a.setHiddenState(false);a.collapsed=false;h.updateLayout();d=a.getBox(false,true);b.el.show();b.hidden=false;a.el.hide();a.setHiddenState(true);a.collapsed=g;h.updateLayout();a.slideOutTask=a.slideOutTask||new Ext.util.DelayedTask(a.slideOutFloatedPanel,a);b.el.on("mouseleave",a.onMouseLeaveFloated,a);a.el.on("mouseleave",
a.onMouseLeaveFloated,a);b.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.addCls(e);a.floated=true;a.collapseTool&&a.collapseTool.el.hide();switch(a.collapsed){case "top":a.setLocalXY(d.x,d.y+c.height-1);break;case "right":a.setLocalXY(d.x-c.width+1,d.y);break;case "bottom":a.setLocalXY(d.x,d.y-c.height+1);break;case "left":a.setLocalXY(d.x+c.width-1,d.y)}b=a.convertCollapseDir(a.collapsed);a.floatedFromCollapse=a.collapsed;a.collapsed=false;a.setHiddenState(false);
a.el.slideIn(b,{preserveScroll:true,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.isSliding=false;a.fireEvent("float",a)}}})}},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},isLayoutRoot:function(){return this.floatedFromCollapse?true:this.callParent()},slideOutFloatedPanel:function(){var a=this,b=this.el,c;if(!a.isSliding&&!a.isDestroyed){a.isSliding=true;a.floated=
false;a.slideOutFloatedPanelBegin();typeof a.collapsed=="string"&&(c=a.convertCollapseDir(a.collapsed));b.slideOut(c,{preserveScroll:true,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})}},slideOutFloatedPanelBegin:function(){var a=this.placeholder.el,b=this.el;this.collapsed=this.floatedFromCollapse;this.setHiddenState(true);this.floatedFromCollapse=
null;a.un("mouseleave",this.onMouseLeaveFloated,this);b.un("mouseleave",this.onMouseLeaveFloated,this);a.un("mouseenter",this.onMouseEnterFloated,this);b.un("mouseenter",this.onMouseEnterFloated,this)},slideOutFloatedPanelEnd:function(){this.collapseTool&&this.collapseTool.el.show();this.slideOutTask.cancel();this.isSliding=false;this.fireEvent("unfloat",this)},expand:function(a){if(this.isCollapsingOrExpanding)return this;if(!arguments.length)a=this.animCollapse;if(!this.collapsed&&!this.floatedFromCollapse||
this.fireEvent("beforeexpand",this,a)===false)return this;delete this.getHierarchyState().collapsed;if(this.isPlaceHolderCollapse())return this.placeholderExpand(a);this.restoreHiddenDocked();this.beginExpand();this.collapsed=false;return this.doCollapseExpand(2,a)},placeholderExpand:function(a){var b=this,c=b.collapsed,d=Ext.baseCSSPrefix+"border-region-slide-in",e,g=b.ownerLayout?b.ownerLayout.centerRegion:null;Ext.AbstractComponent.layoutSuspendCount&&(a=false);if(b.floatedFromCollapse){e=b.getPosition(true);
b.slideOutFloatedPanelBegin();b.slideOutFloatedPanelEnd();b.floated=false}if(a){Ext.suspendLayouts();b.placeholder.hide();b.el.show();b.collapsed=false;b.setHiddenState(false);if(g&&!e)g.hidden=true;Ext.resumeLayouts(true);g.hidden=false;b.el.addCls(d);b.isCollapsingOrExpanding=2;if(e){c=b.getXY();b.setLocalXY(e[0],e[1]);b.setXY([c[0],c[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.isCollapsingOrExpanding=0;b.fireEvent("expand",
b)}}})}else{b.el.hide();b.placeholder.el.show();b.placeholder.hidden=false;b.setHiddenState(false);b.el.slideIn(b.convertCollapseDir(c),{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.placeholder.hide();b.updateLayout();b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})}}else{b.floated=b.collapsed=false;b.el.removeCls(d);Ext.suspendLayouts();b.placeholder.hide();b.show();Ext.resumeLayouts(true);b.fireEvent("expand",
b)}return b},afterExpand:function(a){var b=this.ownerLayout;this.isCollapsingOrExpanding=0;this.updateCollapseTool();a&&this.removeCls(Ext.baseCSSPrefix+"animating-size");if(b&&a)b.onContentChange(this);this.fireEvent("expand",this);this.fireHierarchyEvent("expand")},setBorder:function(a,b){if(!b){var c=this.header,a=a?a===true?"1px":this.unitizeBox(a):0;if(c)c.isHeader?c.setBorder(a):c.border=a;this.rendered&&this.bodyBorder!==false&&this.body.setStyle("border-width",a);this.updateLayout();this.border=
a}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var a;this.header||this.updateHeader(true);if(this.header){a=Ext.applyIf({el:this.el,delegate:"#"+
Ext.escapeId(this.header.id)},this.draggable);if(this.constrain||this.constrainHeader){a.constrain=this.constrain;a.constrainDelegate=this.constrainHeader;a.constrainTo=this.constrainTo||this.container}a=this.dd=new Ext.util.ComponentDragger(this,a);this.relayEvents(a,["dragstart","drag","dragend"]);this.maximized&&a.disable()}},ghostTools:function(){var a=[],b=this.header,b=b?b.query("tool[hidden=false]"):[],c,d,e;if(b.length){c=0;for(d=b.length;c<d;c++){e=b[c];a.push({type:e.type})}}else a=[{type:"placeholder"}];
return a},ghost:function(a){var b=this.ghostPanel,c=this.getBox();if(b)b.el.show();else this.ghostPanel=b=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:false},frame:this.frame&&!this.alwaysFramed,alwaysFramed:this.alwaysFramed,overlapHeader:this.overlapHeader,headerPosition:this.headerPosition,baseCls:this.baseCls,cls:this.baseCls+"-ghost "+(a||"")});this.ghostPanel.hidden=false;b.floatParent=this.floatParent;this.floating?b.zIndexManager.assignZIndices():b.toFront();if(!(this.preventHeader||
this.header===false)){if(a=b.header){a.suspendLayouts();Ext.Array.forEach(a.query("tool"),a.remove,a);a.resumeLayouts()}b.addTool(this.ghostTools());b.setTitle(this.title);this.iconCls?b.setIconCls(this.iconCls):this.icon?b.setIcon(this.icon):this.glyph&&b.setGlyph(this.glyph);b.header.addCls(Ext.baseCSSPrefix+"header-ghost")}b.setPagePosition(c.x,c.y);b.setSize(c.width,c.height);this.el.hide();return b},unghost:function(a,b){if(this.ghostPanel){if(a!==false){this.el.show();if(b!==false){this.setPagePosition(this.ghostPanel.getXY());
this.hideMode=="offsets"&&delete this.el.hideModeStyles}Ext.defer(this.focus,10,this)}this.ghostPanel.el.hide();this.ghostPanel.hidden=true}},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments);this.collapsed&&this.resizer.disable()},convertCollapseDir:function(a){return a.substr(0,1)}},0,["panel"],["panel","component","container","box"],{panel:!0,
component:!0,container:!0,box:!0},["widget.panel"],0,[Ext.panel,"Panel",Ext,"Panel"],function(){this.prototype.animCollapse=Ext.enableFx});
Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow,constrain:this.constrainPosition},this.self.prototype.floating);this.callParent(arguments);this.constrain=
this.constrain||this.constrainPosition},showAt:function(a){this.callParent(arguments);if(this.isVisible()){this.setPagePosition(a[0],a[1]);(this.constrainPosition||this.constrain)&&this.doConstrain();this.toFront(true)}},initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(this)},ghost:void 0,unghost:void 0},0,0,["panel","component","container","box"],{panel:!0,component:!0,
container:!0,box:!0},0,0,[Ext.tip,"Tip",Ext,"Tip"],0);
Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5E3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){this.callParent(arguments);this.lastActive=new Date;this.setTarget(this.target);this.origAnchor=this.anchor},onRender:function(a,b){this.callParent(arguments);this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:Ext.baseCSSPrefix+
"tip-anchor "+this.anchorCls})},setTarget:function(a){var a=Ext.get(a),b;if(this.target){b=Ext.get(this.target);this.mun(b,"mouseover",this.onTargetOver,this);this.mun(b,"mouseout",this.onTargetOut,this);this.mun(b,"mousemove",this.onMouseMove,this)}(this.target=a)&&this.mon(a,{freezeEvent:true,mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});if(this.anchor)this.anchorTarget=this.target},onMouseMove:function(a){var b=this.delegate?a.getTarget(this.delegate):
this.triggerElement=true;if(b){this.targetXY=a.getXY();if(b===this.triggerElement){if(!this.hidden&&this.trackMouse){a=this.getTargetXY();this.constrainPosition&&(a=this.el.adjustForConstraints(a,this.el.parent()));this.setPagePosition(a)}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(a)}}else!this.closable&&this.isVisible()&&this.autoHide!==false&&this.hide()},getTargetXY:function(){var a,b,c,d,e,g,h;if(this.delegate)this.anchorTarget=this.triggerElement;if(this.anchor){this.targetCounter++;
b=this.getOffsets();c=this.anchorToTarget&&!this.trackMouse?this.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY;a=Ext.Element.getViewWidth()-5;d=Ext.Element.getViewHeight()-5;e=document.documentElement;g=document.body;h=(e.scrollLeft||g.scrollLeft||0)+5;e=(e.scrollTop||g.scrollTop||0)+5;b=[c[0]+b[0],c[1]+b[1]];c=this.getSize();g=this.constrainPosition;this.anchorEl.removeCls(this.anchorCls);if(this.targetCounter<2&&g){if(b[0]<h){if(this.anchorToTarget){this.defaultAlign="l-r";
this.mouseOffset&&(this.mouseOffset[0]=this.mouseOffset[0]*-1)}this.anchor="left";return this.getTargetXY()}if(b[0]+c.width>a){if(this.anchorToTarget){this.defaultAlign="r-l";this.mouseOffset&&(this.mouseOffset[0]=this.mouseOffset[0]*-1)}this.anchor="right";return this.getTargetXY()}if(b[1]<e){if(this.anchorToTarget){this.defaultAlign="t-b";this.mouseOffset&&(this.mouseOffset[1]=this.mouseOffset[1]*-1)}this.anchor="top";return this.getTargetXY()}if(b[1]+c.height>d){if(this.anchorToTarget){this.defaultAlign=
"b-t";this.mouseOffset&&(this.mouseOffset[1]=this.mouseOffset[1]*-1)}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.anchorEl.addCls(this.anchorCls);this.targetCounter=0;return b}a=this.getMouseOffset();return this.targetXY?[this.targetXY[0]+a[0],this.targetXY[1]+a[1]]:a},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];if(this.mouseOffset){a[0]=a[0]+this.mouseOffset[0];a[1]=a[1]+this.mouseOffset[1]}return a},getAnchorPosition:function(){var a;
if(this.anchor)this.tipAnchor=this.anchor.charAt(0);else{a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case "t":return"top";case "b":return"bottom";case "r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case "top":return"tl-bl";case "left":return"tl-tr";case "right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,b;a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(a){case "t":b=
[0,9];break;case "b":b=[0,-13];break;case "r":b=[-13,0];break;default:b=[9,0]}else switch(a){case "t":b=[-15-this.anchorOffset,30];break;case "b":b=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case "r":b=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:b=[25,-13-this.anchorOffset]}a=this.getMouseOffset();b[0]=b[0]+a[0];b[1]=b[1]+a[1];return b},onTargetOver:function(a){var b=this.delegate;if(!this.disabled&&!a.within(this.target.dom,true))if(b=b?a.getTarget(b):true){this.triggerElement=
b;this.triggerEvent=a;this.clearTimer("hide");this.targetXY=a.getXY();this.delayShow()}},delayShow:function(){this.hidden&&!this.showTimer?Ext.Date.getElapsed(this.lastActive)<this.quickShowInterval?this.show():this.showTimer=Ext.defer(this.showFromDelay,this.showDelay,this):!this.hidden&&this.autoHide!==false&&this.show()},showFromDelay:function(){this.fromDelayShow=true;this.show();delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},
onTargetOut:function(a){var b=this.triggerElement,c=b===true?this.target:b;if(!this.disabled&&b&&!a.within(c,true)){if(this.showTimer){this.clearTimer("show");this.triggerElement=null}this.autoHide!==false&&this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer)this.hideTimer=Ext.defer(this.hide,this.hideDelay,this)},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date;this.anchorEl&&this.anchorEl.hide();this.callParent(arguments);delete this.triggerElement},show:function(){this.callParent();
if(this.hidden===false){this.setPagePosition(-1E4,-1E4);if(this.anchor)this.anchor=this.origAnchor;this.calledFromShowAt||this.showAt(this.getTargetXY());if(this.anchor){this.syncAnchor();this.anchorEl.show()}else this.anchorEl.hide()}},showAt:function(a){this.lastActive=new Date;this.clearTimers();this.calledFromShowAt=true;this.isVisible()||this.callParent(arguments);if(this.isVisible()){this.setPagePosition(a[0],a[1]);(this.constrainPosition||this.constrain)&&this.doConstrain();this.toFront(true);
this.el.sync(true);if(this.dismissDelay&&this.autoHide!==false)this.dismissTimer=Ext.defer(this.hide,this.dismissDelay,this);if(this.anchor){this.syncAnchor();this.anchorEl.isVisible()||this.anchorEl.show()}else this.anchorEl.hide()}delete this.calledFromShowAt},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case "t":a="b";b="tl";c=[20+this.anchorOffset,1];break;case "r":a="l";b="tr";c=[-1,12+this.anchorOffset];break;case "b":a="t";b="bl";c=[20+this.anchorOffset,-1];break;default:a=
"r";b="tl";c=[1,12+this.anchorOffset]}this.anchorEl.alignTo(this.el,a+"-"+b,c);this.anchorEl.setStyle("z-index",parseInt(this.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,b){this.callParent(arguments);this.anchor&&this.syncAnchor()},_timerNames:{},clearTimer:function(a){var b=this._timerNames,a=b[a]||(b[a]=a+"Timer");if(b=this[a]){clearTimeout(b);this[a]=null}},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},
onShow:function(){this.callParent();this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent();this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){if(!this.closable&&!a.within(this.el.dom)){this.disable();Ext.defer(this.doEnable,100,this)}},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);
delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;this.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}},0,["tooltip"],["panel","component","container","box","tooltip"],{panel:!0,component:!0,container:!0,box:!0,tooltip:!0},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0);
Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};this.callParent()},register:function(a){for(var b=Ext.isArray(a)?a:arguments,c=0,d=b.length,e,g,h;c<d;c++){a=b[c];if(e=
a.target)if(Ext.isArray(e)){g=0;for(h=e.length;g<h;g++)this.targets[Ext.id(e[g])]=a}else this.targets[Ext.id(e)]=a}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this.activeTarget,a=Ext.get(a).dom;this.isVisible()?b&&b.el==a&&this.hide():b&&b.el==a&&this.clearTimer("show")},getTipCfg:function(a){var b=a.getTarget(),c=b.title;if(this.interceptTitles&&c&&Ext.isString(c)){b.qtip=c;b.removeAttribute("title");a.preventDefault();return{text:c}}c=this.tagConfig;if(b=
a.getTarget("["+c.namespace+c.attribute+"]"))return{target:b,text:b.getAttribute(c.namespace+c.attribute)}},onTargetOver:function(a){var b=a.getTarget(this.delegate),c,d,e,g,h;if(!this.disabled){this.targetXY=a.getXY();if(b&&!(b.nodeType!==1||b==document.documentElement||b==document.body))if(this.activeTarget&&(b==this.activeTarget.el||Ext.fly(this.activeTarget.el).contains(b)))if(this.targetTextEmpty()){this.onShowVeto();delete this.activeTarget}else{this.clearTimer("hide");this.show()}else{if(b){e=
this.targets;for(g in e)if(e.hasOwnProperty(g)){h=e[g];if((h=Ext.fly(h.target))&&(h.dom===b||h.contains(b))){d=h.dom;break}}if(d){this.activeTarget=this.targets[d.id];this.activeTarget.el=b;if(this.anchor=this.activeTarget.anchor)this.anchorTarget=b;if(b=parseInt(this.activeTarget.showDelay,10)){c=this.showDelay;this.showDelay=b}this.delayShow();if(b)this.showDelay=c;return}}d=Ext.fly(b,"_quicktip-target");e=this.tagConfig;g=e.namespace;if(a=this.getTipCfg(a)){if(a.target){b=a.target;d=Ext.fly(b,
"_quicktip-target")}h=d.getAttribute(g+e.hide);this.activeTarget={el:b,text:a.text,width:+d.getAttribute(g+e.width)||null,autoHide:h!="user"&&h!=="false",title:d.getAttribute(g+e.title),cls:d.getAttribute(g+e.cls),align:d.getAttribute(g+e.align),showDelay:parseInt(d.getAttribute(g+e.showDelay),10)};if(this.anchor=d.getAttribute(g+e.anchor))this.anchorTarget=b;if(b=parseInt(this.activeTarget.showDelay,10)){c=this.showDelay;this.showDelay=b}this.delayShow();if(b)this.showDelay=c}}}},onTargetOut:function(a){var b=
this.activeTarget,c;if(!b||!a.within(this.activeTarget.el)||this.getTipCfg(a)){this.clearTimer("show");delete this.activeTarget;if(this.autoHide!==false){if(a=b&&parseInt(b.hideDelay,10)){c=this.hideDelay;this.hideDelay=a}this.delayHide();if(a)this.hideDelay=c}}},targetTextEmpty:function(){var a=this.activeTarget,b=this.tagConfig,c;if(a)if(c=a.el){b=c.getAttribute(b.namespace+b.attribute);if(!b&&!this.targets[a.target])return true}return false},show:function(){if(this.fromDelayShow&&this.targetTextEmpty()){this.onShowVeto();
delete this.activeTarget}else this.callParent(arguments)},showAt:function(a){var b=this.activeTarget,c=this.header;if(b){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=b}this.suspendLayouts();if(b.title){this.setTitle(b.title);c.show()}else c&&c.hide();this.update(b.text);this.autoHide=b.autoHide;this.dismissDelay=b.dismissDelay||this.dismissDelay;if(b.mouseOffset){a[0]=a[0]+b.mouseOffset[0];a[1]=a[1]+b.mouseOffset[1]}if(c=this.lastCls){this.removeCls(c);delete this.lastCls}if(c=
b.cls){this.addCls(c);this.lastCls=c}this.setWidth(b.width);if(this.anchor)this.constrainPosition=false;else if(b.align){a=this.getAlignToXY(b.el,b.align);this.constrainPosition=false}else this.constrainPosition=true;this.resumeLayouts(true)}this.callParent([a])},hide:function(){delete this.activeTarget;this.callParent()}},0,["quicktip"],"panel component container box quicktip tooltip".split(" "),{panel:!0,component:!0,container:!0,box:!0,quicktip:!0,tooltip:!0},["widget.quicktip"],0,[Ext.tip,"QuickTip",
Ext,"QuickTip"],0);
Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(a,b){if(!this.tip)if(Ext.isReady){var c=Ext.apply({disabled:this.disabled,id:"ext-quicktips-tip"},b),d=c.className,e=c.xtype;if(d)delete c.className;else if(e){d="widget."+e;delete c.xtype}if(a!==false)c.renderTo=document.body;this.tip=Ext.create(d||"Ext.tip.QuickTip",c);Ext.quickTipsActive=true}else Ext.onReady(function(){Ext.tip.QuickTipManager.init(a,b)})},destroy:function(){Ext.destroy(this.tip);
this.tip=void 0},ddDisable:function(){var a=this.tip;a&&!this.disabled&&a.disable()},ddEnable:function(){var a=this.tip;a&&!this.disabled&&a.enable()},enable:function(){var a=this.tip;a&&a.enable();this.disabled=false},disable:function(){var a=this.tip;a&&a.disable();this.disabled=true},isEnabled:function(){var a=this.tip;return a!==void 0&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,
arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0);
Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{scope:void 0,enableQuickTips:!0,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(a,b,c){var d=Ext.app.Controller,e=a.prototype,g=[],h,i,j;i=b.name||a.superclass.name;a=b.appFolder||a.superclass.appFolder;if(i){b.$namespace=i;Ext.app.addNamespaces(i)}b.namespaces&&Ext.app.addNamespaces(b.namespaces);if(b["paths processed"])delete b["paths processed"];else{i&&a&&Ext.Loader.setPath(i,a);
if(a=b.paths)for(j in a)a.hasOwnProperty(j)&&Ext.Loader.setPath(j,a[j])}b.autoCreateViewport&&d.processDependencies(e,g,i,"view",["Viewport"]);if(g.length){h=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c=Ext.Array.clone(arguments);Ext.require(g,function(){return h.apply(this,c)})}}},constructor:function(a){this.callParent(arguments);this.doInit(this);this.initNamespace();this.initControllers();this.onBeforeLaunch();this.finishInitControllers()},initNamespace:function(){var a=this,b=a.appProperty,
c;if(c=Ext.namespace(a.name)){c.getApplication=function(){return a};b&&(c[b]||(c[b]=a))}},initControllers:function(){var a=Ext.Array.from(this.controllers);this.controllers=new Ext.util.MixedCollection;for(var b=0,c=a.length;b<c;b++)this.getController(a[b])},finishInitControllers:function(){var a,b,c;a=this.controllers.getRange();b=0;for(c=a.length;b<c;b++)a[b].finishInit(this)},launch:Ext.emptyFn,onBeforeLaunch:function(){var a,b,c,d;this.enableQuickTips&&this.initQuickTips();this.autoCreateViewport&&
this.initViewport();this.launch.call(this.scope||this);this.launched=true;this.fireEvent("launch",this);a=this.controllers.items;c=a.length;for(b=0;b<c;b++){d=a[b];d.onLaunch(this)}},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView("Viewport");a&&a.create()},getController:function(a){var b=this.controllers,c;c=b.get(a);if(!c){c=this.getModuleClassName(a,
"controller");c=Ext.create(c,{application:this,id:a});b.add(c);this._initialized&&c.doInit(this)}return c},getApplication:function(){return this}},1,0,0,0,0,0,[Ext.app,"Application"],0);Ext.define("ExtThemeNeptune.panel.Panel",{override:"Ext.panel.Panel",border:!1,bodyBorder:!1,initBorderProps:Ext.emptyFn,initBodyBorder:function(){this.bodyBorder!==true&&this.callParent()}});
Ext.define("ExtThemeNeptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,Ext.baseCSSPrefix+"noborder-l",Ext.baseCSSPrefix+"noborder-b",Ext.baseCSSPrefix+"noborder-bl",Ext.baseCSSPrefix+"noborder-r",Ext.baseCSSPrefix+"noborder-rl",Ext.baseCSSPrefix+"noborder-rb",Ext.baseCSSPrefix+"noborder-rbl",Ext.baseCSSPrefix+"noborder-t",Ext.baseCSSPrefix+"noborder-tl",Ext.baseCSSPrefix+"noborder-tb",Ext.baseCSSPrefix+"noborder-tbl",Ext.baseCSSPrefix+"noborder-tr",Ext.baseCSSPrefix+
"noborder-trl",Ext.baseCSSPrefix+"noborder-trb",Ext.baseCSSPrefix+"noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var a=0,b=this.owner,c=b.bodyBorder,d=b.border,e=this.collapsed,g=this.edgeMasks,h=this.noBorderClassTable,i=b.dockedItems.generation,j,k,l,m,n,p,o,q,r;if(this.initializedBorders!==i){q=[];r=[];k=this.getBorderCollapseTable();h=this.getBorderClassTable?this.getBorderClassTable():h;this.initializedBorders=i;this.collapsed=false;i=this.getDockedItems();
this.collapsed=e;l=0;for(m=i.length;l<m;l++){n=i[l];if(!n.ignoreBorderManagement){p=n.dock;o=e=0;q.length=0;r.length=0;if(p!=="bottom"){if(a&8)j=n.border;else{j=d;j!==false&&(e=e+8)}j===false&&(o=o+8)}if(p!=="left"){if(a&4)j=n.border;else{j=d;j!==false&&(e=e+4)}j===false&&(o=o+4)}if(p!=="top"){if(a&2)j=n.border;else{j=d;j!==false&&(e=e+2)}j===false&&(o=o+2)}if(p!=="right"){if(a&1)j=n.border;else{j=d;j!==false&&(e=e+1)}j===false&&(o=o+1)}if((j=n.lastBorderMask)!==o){n.lastBorderMask=o;j&&(r[0]=h[j]);
o&&(q[0]=h[o])}if((j=n.lastBorderCollapse)!==e){n.lastBorderCollapse=e;j&&(r[r.length]=k[j]);e&&(q[q.length]=k[e])}r.length&&n.removeCls(r);q.length&&n.addCls(q);a=a|g[p]}}o=e=0;q.length=0;r.length=0;if(a&8)j=c;else{j=d;j!==false&&(e=e+8)}j===false&&(o=o+8);if(a&4)j=c;else{j=d;j!==false&&(e=e+4)}j===false&&(o=o+4);if(a&2)j=c;else{j=d;j!==false&&(e=e+2)}j===false&&(o=o+2);if(a&1)j=c;else{j=d;j!==false&&(e=e+1)}j===false&&(o=o+1);if((j=this.lastBodyBorderMask)!==o){this.lastBodyBorderMask=o;j&&(r[0]=
h[j]);o&&(q[0]=h[o])}if((j=this.lastBodyBorderCollapse)!==e){this.lastBodyBorderCollapse=e;j&&(r[r.length]=k[j]);e&&(q[q.length]=k[e])}r.length&&b.removeBodyCls(r);q.length&&b.addBodyCls(q)}},onRemove:function(a){var b=a.lastBorderMask;if(!a.isDestroyed&&!a.ignoreBorderManagement&&b){a.lastBorderMask=0;a.removeCls(this.noBorderClassTable[b])}this.callParent([a])}});Ext.define("ExtThemeNeptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:!1,border:!1});
Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:!0,type:"controller",idProperty:"id",constructor:function(){this.callParent();this.monitor(Ext.app.Controller)}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0);
Ext.cmd.derive("Ext.direct.Provider",Ext.Base,{isProvider:!0,constructor:function(a){Ext.apply(this,a);Ext.applyIf(this,{id:Ext.id(null,"provider-")});this.addEvents("connect","disconnect","data","exception");this.mixins.observable.constructor.call(this,a)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn},1,0,0,0,["direct.provider"],[["observable",Ext.util.Observable]],[Ext.direct,"Provider"],0);
Ext.cmd.derive("Ext.app.domain.Direct",Ext.app.EventDomain,{singleton:!0,type:"direct",idProperty:"id",constructor:function(){this.callParent();this.monitor(Ext.direct.Provider)}},1,0,0,0,0,0,[Ext.app.domain,"Direct"],0);
Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(a,b){this.arrowHandler=a;this.scope=b},onClick:function(a){a.preventDefault();if(!this.disabled)if(this.overMenuTrigger){this.maybeShowMenu();this.fireEvent("arrowclick",this,a);this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,a)}else{this.doToggle();this.fireHandler(a)}}},
0,["splitbutton"],["button","component","box","splitbutton"],{button:!0,component:!0,box:!0,splitbutton:!0},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0);
Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(a){this.target=a;a.on("beforedestroy",this.disable,this);this.onContainerAdd(a)},unbind:function(){var a=this.target;a&&a.un("beforedestroy",this.disable,this);this.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(a,b){if(!this.disabled){if(b.is(this.selector))this.onItemAdd(b.ownerCt,
b);if(b.isQueryable)this.onContainerAdd(b)}},onItemAdd:function(a,b){var c=this.items,d=this.addHandler;if(!this.disabled){d&&d.call(this.scope||b,b);c&&c.add(b)}},onItemRemove:function(a,b){var c=this.items,d=this.removeHandler;if(!this.disabled){d&&d.call(this.scope||b,b);c&&c.remove(b)}},onContainerAdd:function(a,b){var c,d;c=this.handleAdd;d=this.handleRemove;var e,g;if(a.isContainer){a.on("add",c,this);a.on("dockedadd",c,this);a.on("remove",d,this);a.on("dockedremove",d,this)}if(b!==true){c=
a.query(this.selector);e=0;for(d=c.length;e<d;++e){g=c[e];this.onItemAdd(g.ownerCt,g)}}c=a.query("container");e=0;for(d=c.length;e<d;++e)this.onContainerAdd(c[e],true)},handleRemove:function(a,b){if(!this.disabled){if(b.is(this.selector))this.onItemRemove(a,b);if(b.isQueryable)this.onContainerRemove(a,b)}},onContainerRemove:function(a,b){var c,d,e,g;if(!b.isDestroyed&&!b.destroying&&b.isContainer){this.removeCtListeners(b);c=b.query(this.selector);d=0;for(e=c.length;d<e;++d){g=c[d];this.onItemRemove(g.ownerCt,
g)}c=b.query("container");d=0;for(e=c.length;d<e;++d)this.removeCtListeners(c[d])}else this.invalidateItems()},removeCtListeners:function(a){a.un("add",this.handleAdd,this);a.un("dockedadd",this.handleAdd,this);a.un("remove",this.handleRemove,this);a.un("dockedremove",this.handleRemove,this)},getItems:function(){var a=this.items;if(!a){a=this.items=new Ext.util.MixedCollection;a.addAll(this.target.query(this.selector))}return a},invalidateItems:function(){this.items=null}},1,0,0,0,0,0,[Ext.container,
"Monitor"],0);
Ext.cmd.derive("Ext.container.Viewport",Ext.container.Container,{alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var a=document.body.parentNode,b=this.el=Ext.getBody();Ext.getScrollbarSize();this.width=this.height=void 0;this.callParent(arguments);Ext.fly(a).addCls(this.viewportCls);if(this.autoScroll){Ext.fly(a).setStyle(this.getOverflowStyle());delete this.autoScroll}b.setHeight=b.setWidth=
Ext.emptyFn;b.dom.scroll="no";this.allowDomMove=false;this.renderTo=this.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){this.callParent(arguments);this.width=Ext.Element.getViewportWidth();this.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(a,b){(a!=this.width||b!=this.height)&&this.setSize(a,b)},initHierarchyState:function(){this.callParent([this.hierarchyState=
Ext.rootHierarchyState])},beforeDestroy:function(){this.removeUIFromElement();this.el.removeCls(this.baseCls);Ext.fly(document.body.parentNode).removeCls(this.viewportCls);this.callParent()}},0,["viewport"],["viewport","component","container","box"],{viewport:!0,component:!0,container:!0,box:!0},["widget.viewport"],0,[Ext.container,"Viewport",Ext,"Viewport"],0);
Ext.cmd.derive("Ext.data.IdGenerator",Ext.Base,{isGenerator:!0,constructor:function(a){Ext.apply(this,a);this.id&&(Ext.data.IdGenerator.all[this.id]=this)},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c;if(typeof a=="string"){b=c=a;a=null}else{if(a.isGenerator)return a;b=a.id||a.type;c=a.type}(b=this.all[b])||(b=Ext.create("idgen."+c,a));return b}}},1,0,0,0,0,0,[Ext.data,"IdGenerator"],0);
Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return(""+a).replace(this.stripTagsRE,"")},asUCText:function(a){return(""+a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return(""+a).toUpperCase()},asDate:function(a){return!a?0:Ext.isDate(a)?a.getTime():Date.parse(""+a)},asFloat:function(a){a=parseFloat((""+a).replace(/,/g,""));return isNaN(a)?0:a},asInt:function(a){a=parseInt((""+a).replace(/,/g,""),
10);return isNaN(a)?0:a}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0);
Ext.cmd.derive("Ext.data.Types",Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext.data,"Types"],function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(a){var c=this.useNull?null:"";return a===void 0||a===null?c:""+a},sortType:a.asUCString,type:"string"},INT:{convert:function(a){return typeof a=="number"?parseInt(a):a!==void 0&&a!==null&&a!==""?parseInt((""+a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,
type:"int"},FLOAT:{convert:function(a){return typeof a==="number"?a:a!==void 0&&a!==null&&a!==""?parseFloat((""+a).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:a.none,type:"float"},BOOL:{convert:function(a){return typeof a==="boolean"?a:this.useNull&&(a===void 0||a===null||a==="")?null:a==="true"||a==1},sortType:a.none,type:"bool"},DATE:{convert:function(a){var c=this.dateReadFormat||this.dateFormat;if(!a)return null;if(a instanceof Date)return a;if(c)return Ext.Date.parse(a,
c);return(a=Date.parse(a))?new Date(a):null},sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});
Ext.cmd.derive("Ext.data.Field",Ext.Base,{isField:!0,constructor:function(a){var b=Ext.data.Types,c;Ext.isString(a)&&(a={name:a});Ext.apply(this,a);c=this.sortType;if(this.type){if(Ext.isString(this.type))this.type=b[this.type.toUpperCase()]||b.AUTO}else this.type=b.AUTO;if(Ext.isString(c))this.sortType=Ext.data.SortTypes[c];else if(Ext.isEmpty(c))this.sortType=this.type.sortType;if(a.hasOwnProperty("convert")){if(!this.convert&&this.type.convert&&!a.hasOwnProperty("defaultValue"))this.defaultValue=
this.type.convert(this.defaultValue)}else this.convert=this.type.convert;if(a.convert)this.hasCustomConvert=true},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0},1,0,0,0,["data.field"],0,[Ext.data,"Field"],0);
Ext.cmd.derive("Ext.data.Errors",Ext.util.MixedCollection,{isValid:function(){return this.length===0},getByField:function(a){var b=[],c,d;for(d=0;d<this.length;d++){c=this.items[d];c.field==a&&b.push(c)}return b}},0,0,0,0,0,0,[Ext.data,"Errors"],0);
Ext.cmd.derive("Ext.data.validations",Ext.Base,{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){arguments.length===1&&(b=a);return!!b||b===0||b===false},length:function(a,b){if(b===
void 0||b===null)return false;var c=b.length,d=a.min,e=a.max;return d&&c<d||e&&c>e?false:true},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return!(!a.matcher||!a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}},0,0,0,0,0,0,[Ext.data,"validations"],0);
Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",compareConvertFields:function(a,b){var c=a.convert&&a.type&&a.convert!==a.type.convert,d=b.convert&&b.type&&b.convert!==b.type.convert;return c&&!d?1:!c&&d?-1:0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var h=this,i=Ext.getClassName(a),j=a.prototype,k=a.prototype.superclass,l=b.validations||[],m=b.fields||[],n=b.associations||[],p=function(a,
b){var c=0,d,e;if(a){a=Ext.Array.from(a);for(d=a.length;c<d;++c){e=a[c];Ext.isObject(e)||(e={model:e});e.type=b;n.push(e)}}},o=b.idgen,q=new Ext.util.MixedCollection(false,j.itemNameFn),r=new Ext.util.MixedCollection(false,j.itemNameFn),t=k.validations,s=k.fields,k=k.associations,u,v,B,y=[],w="idProperty"in b?b.idProperty:j.idProperty,z=w?w.isField?w:new Ext.data.Field(w):null,C=false,A=function(a,b,c){if(q.events.add.firing){c=a;a=b}else{a=c;c=b.originalIndex}a.originalIndex=c;if(z&&(a.mapping&&
a.mapping===z.mapping||a.name===z.name)){j.idField=a;C=true;a.defaultValue=void 0}},x=b.proxy,w=function(){q.sortBy(j.compareConvertFields)};a.modelName=i;j.modelName=i;t&&(l=t.concat(l));b.validations=l;s&&(m=s.items.concat(m));q.on({add:A,replace:A});v=0;for(B=m.length;v<B;++v){l=m[v];q.add(l.isField?l:new Ext.data.Field(l))}if(z&&!C){j.idField=z;z.defaultValue=void 0;q.add(z)}w();q.on({add:w,replace:w});b.fields=q;if(o)b.idgen=Ext.data.IdGenerator.get(o);p(b.belongsTo,"belongsTo");delete b.belongsTo;
p(b.hasMany,"hasMany");delete b.hasMany;p(b.hasOne,"hasOne");delete b.hasOne;k&&(n=k.items.concat(n));v=0;for(B=n.length;v<B;++v)y.push("association."+n[v].type.toLowerCase());if(x)x.isProxy||y.push("proxy."+(x.type||x));else if(!a.prototype.proxy){a.prototype.proxy=a.prototype.defaultProxyType;y.push("proxy."+a.prototype.defaultProxyType)}Ext.require(y,function(){Ext.ModelManager.registerType(i,a);v=0;for(B=n.length;v<B;++v){u=n[v];u.isAssociation?u=Ext.applyIf({ownerModel:i,associatedModel:u.model},
u.initialConfig):Ext.apply(u,{ownerModel:i,associatedModel:u.model});Ext.ModelManager.getModel(u.model)===void 0?Ext.ModelManager.registerDeferredAssociation(u):r.add(Ext.data.association.Association.create(u))}b.associations=r;d.call(h,a,b,c);x&&x.isProxy&&a.setProxy(x);Ext.ModelManager.onModelDefined(a)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){typeof a=="string"&&(a={type:a});a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this);return this.proxy=this.prototype.proxy=a},getProxy:function(){var a=
this.proxy;if(!a){a=this.prototype.proxy;a.isProxy&&(a=a.clone());return this.setProxy(a)}return a},setFields:function(a,b,c){var d,e=false,g=this.prototype,h=g.fields,i=g.superclass.fields;if(b){g.idProperty=b;d=b.isField?b:new Ext.data.Field(b)}if(c)g.clientIdProperty=c;h?h.clear():h=this.prototype.fields=new Ext.util.MixedCollection(false,function(a){return a.name});i&&(a=i.items.concat(a));g=0;for(c=a.length;g<c;g++){b=new Ext.data.Field(a[g]);if(d&&(b.mapping&&b.mapping===d.mapping||b.name===
d.name)){e=true;b.defaultValue=void 0}h.add(b)}if(d&&!e){d.defaultValue=void 0;h.add(d)}return this.fields=h},getFields:function(){return this.prototype.fields.items},load:function(a,b){var b=Ext.apply({},b),b=Ext.applyIf(b,{action:"read",id:a}),c=new Ext.data.Operation(b),d=b.scope||this;this.getProxy().read(c,function(c){var g=null,h=c.wasSuccessful();if(h){g=c.getRecords()[0];g.hasId()||g.setId(a);Ext.callback(b.success,d,[g,c])}else Ext.callback(b.failure,d,[g,c]);Ext.callback(b.callback,d,[g,
c,h])},this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");a.phantom=true;return a.internalId=b}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(a,
b,c,d){var e=b||b===0,g,h,i,j,k,l=this.idProperty,m=this.idField,n;this.raw=c||a;this.modified={};c=this[this.persistenceProperty]=d||{};this.data=this[this.persistenceProperty];this.mixins.observable.constructor.call(this);if(!d){if(a){if(!e&&l)g=(b=a[l])||b===0}else a=this.emptyData;d=this.fields.items;h=d.length;n=0;if(Ext.isArray(a))for(;n<h;n++){i=d[n];j=i.name;k=a[i.originalIndex];if(k===void 0)k=i.defaultValue;i.convert&&(k=i.convert(k,this));k!==void 0&&(c[j]=k)}else for(;n<h;n++){i=d[n];
j=i.name;k=a[j];if(k===void 0)k=i.defaultValue;i.convert&&(k=i.convert(k,this));k!==void 0&&(c[j]=k)}}this.stores=[];if(e){g=true;c[l]=m&&m.convert?m.convert(b):b}else if(!g){a=this.idgen.generate();if(a!=null){this.preventInternalUpdate=true;this.setId(a);delete this.preventInternalUpdate}}this.internalId=g?b:Ext.data.Model.id(this);typeof this.init=="function"&&this.init();this.id=this.idgen.getRecId(this)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(a,
b){var c=this[this.persistenceProperty],d=this.fields,e=this.modified,g=typeof a=="string",h,i,j,k,l,m,n,p,o,q;if(g){q=this._singleProp;q[a]=b}else q=a;for(m in q)if(q.hasOwnProperty(m)){o=q[m];if(d&&(i=d.get(m))&&i.convert)o=i.convert(o,this);h=c[m];if(!this.isEqual(h,o)){c[m]=o;(l||(l=[])).push(m);if(i&&i.persist)if(e.hasOwnProperty(m)){if(this.isEqual(e[m],o)){delete e[m];this.dirty=false;for(k in e)if(e.hasOwnProperty(k)){this.dirty=true;break}}}else{this.dirty=true;e[m]=h}if(m==this.idProperty){j=
true;n=h;p=o}}}g&&delete q[a];j&&this.changeId(n,p);!this.editing&&l&&this.afterEdit(l);return l||null},copyFrom:function(a){var b=this.fields.items,c=b.length,d=[],e,g=0,h,i,j=this.idProperty,k;if(a){h=this[this.persistenceProperty];for(i=a[a.persistenceProperty];g<c;g++){e=b[g];e=e.name;if(e!=j){k=i[e];if(k!==void 0&&!this.isEqual(h[e],k)){h[e]=k;d.push(e)}}}if(this.phantom&&!a.phantom){this.beginEdit();this.setId(a.getId());this.endEdit(true);this.commit(true)}}return d},isEqual:function(a,b){return a instanceof
Date&&b instanceof Date?a.getTime()===b.getTime():a===b},beginEdit:function(){var a,b,c;if(!this.editing){this.editing=true;this.dirtySave=this.dirty;c=this[this.persistenceProperty];b=this.dataSave={};for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a]);c=this.modified;b=this.modifiedSave={};for(a in c)c.hasOwnProperty(a)&&(b[a]=c[a])}},cancelEdit:function(){if(this.editing){this.editing=false;this.modified=this.modifiedSave;this[this.persistenceProperty]=this.dataSave;this.dirty=this.dirtySave;this.modifiedSave=
this.dataSave=this.dirtySave=null}},endEdit:function(a,b){var c;if(this.editing){this.editing=false;c=this.dataSave;this.modifiedSave=this.dataSave=this.dirtySave=null;if(a!==true){b||(b=this.getModifiedFieldNames(c));(c=this.dirty||b.length>0)&&this.afterEdit(b)}}},getModifiedFieldNames:function(a){var b=this[this.persistenceProperty],c=[],d,a=a||this.dataSave;for(d in b)b.hasOwnProperty(d)&&(this.isEqual(b[d],a[d])||c.push(d));return c},getChanges:function(){var a=this.modified,b={},c;for(c in a)a.hasOwnProperty(c)&&
(b[c]=this.get(c));return b},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var a=this.fields.items,b=a.length,c,d;this.dirty=true;for(d=0;d<b;d++){c=a[d];if(c.persist){c=c.name;this.modified[c]=this.get(c)}}},reject:function(a){var b=this.modified,c;for(c in b)b.hasOwnProperty(c)&&typeof b[c]!="function"&&(this[this.persistenceProperty][c]=b[c]);this.editing=this.dirty=false;this.modified={};a!==true&&this.afterReject()},commit:function(a,b){this.phantom=this.dirty=
this.editing=false;this.modified={};a!==true&&this.afterCommit(b)},copy:function(a){return new this.self(this.raw,a,null,Ext.apply({},this[this.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){typeof a==="string"&&(a={type:a});a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);return this.proxy=a},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var a=new Ext.data.Errors,b=this.validations,c=Ext.data.validations,d,e,
g,h,i,j;if(b){d=b.length;for(j=0;j<d;j++){e=b[j];g=e.field||e.name;i=e.type;(h=c[i](e,this.get(g)))||a.add({field:g,message:e.message||c[i+"Message"]})}}return a},isValid:function(){return this.validate().isValid()},save:function(a){var a=Ext.apply({},a),b=this,c=b.phantom?"create":"update",d=a.scope||b,e=b.stores,g=0,h,i,j;Ext.apply(a,{records:[b],action:c});j=new Ext.data.Operation(a);b.getProxy()[c](j,function(c){var j=c.wasSuccessful();if(j){for(h=e.length;g<h;g++){i=e[g];i.fireEvent("write",
i,c);i.fireEvent("datachanged",i)}Ext.callback(a.success,d,[b,c])}else Ext.callback(a.failure,d,[b,c]);Ext.callback(a.callback,d,[b,c,j])},b);return b},destroy:function(a){var a=Ext.apply({records:[this],action:"destroy"},a),b=this,c=b.phantom!==true,d=a.scope||b,e,g=0,h,i,j,k,l;k=new Ext.data.Operation(a);l=function(k){j=[b,k];e=Ext.Array.clone(b.stores);if(k.wasSuccessful()){for(h=e.length;g<h;g++){i=e[g];i.remove&&i.remove(b,true);i.fireEvent("bulkremove",i,[b],[i.indexOf(b)],false);c&&i.fireEvent("write",
i,k)}b.clearListeners();Ext.callback(a.success,d,j)}else Ext.callback(a.failure,d,j);Ext.callback(a.callback,d,j)};if(c)b.getProxy().destroy(k,l,b);else{k.complete=k.success=true;k.resultSet=b.getProxy().reader.nullResultSet;l(k)}return b},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(a,b){var c,d,e;if(!this.preventInternalUpdate){c=this.hasId(a);d=this.hasId(b);e=this.internalId;this.phantom=
!d;if(d!==c||d&&c)this.internalId=d?b:Ext.data.Model.id(this);this.fireEvent("idchanged",this,a,b,e);this.callStore("onIdChanged",a,b,e)}},hasId:function(a){arguments.length===0&&(a=this.getId());return!!(a||a===0)},join:function(a){this.stores.length?Ext.Array.include(this.stores,a):this.stores[0]=a;this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},
afterCommit:function(a){this.callStore("afterCommit",a)},callStore:function(a){var b=Ext.Array.clone(arguments),c=this.stores,d=0,e=c.length,g;for(b[0]=this;d<e;++d)(g=c[d])&&Ext.isFunction(g[a])&&g[a].apply(g,b)},getData:function(a){var b=this.fields.items,c=b.length,d={},e,g;for(g=0;g<c;g++){e=b[g].name;d[e]=this.get(e)}a===true&&Ext.apply(d,this.getAssociatedData());return d},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(a,b){var c=this.associations.items,
d=c.length,e={},g=[],h=[],i=[],j,k,l,m,n,p;for(n=0;n<d;n++){j=c[n];l=j.associationId;m=a[l];if(!(m&&m!==b)){a[l]=b;l=j.type;m=j.name;if(l=="hasMany"){j=this[j.storeName];e[m]=[];if(j&&j.getCount()>0){k=j.data.items;j=k.length;for(p=0;p<j;p++){l=k[p];e[m][p]=l.getData();g.push(l);h.push(m);i.push(p)}}}else if(l=="belongsTo"||l=="hasOne"){l=this[j.instanceName];if(l!==void 0){e[m]=l.getData();g.push(l);h.push(m);i.push(-1)}}}}n=0;for(j=g.length;n<j;++n){l=g[n];c=e[h[n]];d=i[n];m=l.prepareAssociatedData(a,
b+1);d===-1?Ext.apply(c,m):Ext.apply(c[d],m)}return e}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Model",Ext.data,"Record"],0);
Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3E4,constructor:function(a){a=a||{};this.callParent([a]);this.extraParams=a.extraParams||{};this.api=Ext.apply({},a.api||this.api);this.nocache=this.noCache},
create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var b=a.params=Ext.apply({},a.params,this.extraParams);Ext.applyIf(b,this.getParams(a));if(a.id!==void 0&&b[this.idParam]===void 0)b[this.idParam]=a.id;b=new Ext.data.Request({params:b,
action:a.action,records:a.records,operation:a,url:a.url,proxy:this});b.url=this.buildUrl(b);return a.request=b},processResponse:function(a,b,c,d,e,g){var h;if(a===true){h=this.getReader();h.applyDefaults=b.action==="read";h=h.read(this.extractResponseData(d));if(h.success!==false){Ext.apply(b,{response:d,resultSet:h});b.commitRecords(h.records);b.setCompleted();b.setSuccessful()}else{b.setException(h.message);this.fireEvent("exception",this,d,b)}}else{this.setException(b,d);this.fireEvent("exception",
this,d,b)}typeof e=="function"&&e.call(g||this,b);this.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b[d]={property:a[d].property,direction:a[d].direction};return this.applyEncoding(b)},encodeFilters:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b[d]={property:a[d].property,value:a[d].value};return this.applyEncoding(b)},
getParams:function(a){var b={},c=Ext.isDefined,d=a.groupers,e=a.sorters,g=a.filters,h=a.page,i=a.start,j=a.limit,k=this.simpleSortMode,l=this.simpleGroupMode,m=this.pageParam,n=this.startParam,p=this.limitParam,o=this.groupParam,q=this.groupDirectionParam,a=this.sortParam,r=this.filterParam,t=this.directionParam;m&&c(h)&&(b[m]=h);n&&c(i)&&(b[n]=i);p&&c(j)&&(b[p]=j);if(c=o&&d&&d.length>0)if(l){b[o]=d[0].property;b[q]=d[0].direction||"ASC"}else b[o]=this.encodeSorters(d);if(a&&e&&e.length>0)if(k){d=
0;e.length>1&&c&&(d=1);b[a]=e[d].property;b[t]=e[d].direction}else b[a]=this.encodeSorters(e);r&&(g&&g.length>0)&&(b[r]=this.encodeFilters(g));return b},buildUrl:function(a){a=this.getUrl(a);this.noCache&&(a=Ext.urlAppend(a,Ext.String.format("{0}={1}",this.cacheString,Ext.Date.now())));return a},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}},1,0,0,0,["proxy.server"],0,[Ext.data.proxy,
"Server",Ext.data,"ServerProxy"],0);
Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a);a.allowWrite()&&(e=d.write(e));Ext.apply(e,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(e,a,b,c),method:this.getMethod(e),disableCaching:false});Ext.Ajax.request(e);
return e},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(a,b,c,d){var e=this;return function(g,h,i){e.processResponse(h,b,a,i,c,d)}}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],function(){Ext.data.HttpProxy=this});
Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0);
Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(a,b,c){var d=0,e=a.getRecords(),g=e.length;for(d;d<g;d++)e[d].commit();a.setCompleted();a.setSuccessful();Ext.callback(b,c||this,[a])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,
arguments)},read:function(a,b,c){var d=a.resultSet=this.getReader().read(this.data),e=d.records,g=a.sorters,h=a.groupers,i=a.filters;a.setCompleted();if(d.success){if(i&&i.length)e=d.records=Ext.Array.filter(e,Ext.util.Filter.createFilterFn(i));h&&h.length&&(g=g?g.concat(h):g);if(g&&g.length)d.records=Ext.Array.sort(e,Ext.util.Sortable.createComparator(g));if(this.enablePaging&&a.start!==void 0&&a.limit!==void 0)if(a.start>=d.total){d.success=false;d.count=0;d.records=[]}else{d.records=Ext.Array.slice(d.records,
a.start,a.start+a.limit);d.count=d.records.length}}d.success?a.setSuccessful():this.fireEvent("exception",this,null,a);Ext.callback(b,c||this,[a])},clear:Ext.emptyFn},1,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0);
Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(a,b){var c=this.findKey(b);if(c){this.unlinkEntry(c=this.map[c]);c.prev=this.last;c.next=null}else c={prev:this.last,next:null,key:a,value:b};this.last?this.last.next=c:this.first=c;this.last=c;this.callParent([a,c]);this.prune();return b},insertBefore:function(a,b,c){var d,e;if(c=this.map[this.findKey(c)]){(d=this.findKey(b))?this.unlinkEntry(e=this.map[d]):e={prev:c.prev,
next:c,key:a,value:b};c.prev?e.prev.next=e:this.first=e;e.next=c;c.prev=e;this.prune();return b}return this.add(a,b)},get:function(a){if(a=this.map[a]){a.next&&this.moveToEnd(a);return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){a.next?a.next.prev=a.prev:this.last=a.prev;a.prev?a.prev.next=a.next:this.first=a.next;a.prev=a.next=null}},
moveToEnd:function(a){this.unlinkEntry(a);(a.prev=this.last)?this.last.next=a:this.first=a;this.last=a},getArray:function(a){for(var b=[],c=this.first;c;){b.push(a?c.key:c.value);c=c.next}return b},each:function(a,b,c){for(var d=c?this.last:this.first,e=this.length,b=b||this;d;){if(a.call(b,d.key,d.value,e)===false)break;d=c?d.prev:d.next}return this},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b].value===a)return b},clone:function(){var a=new this.self(this.initialConfig),
b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c].value);a.resumeEvents();return a},prune:function(){var a=this.maxSize?this.length-this.maxSize:0;if(a>0)for(;this.first&&a;a--)this.removeAtKey(this.first.key)}},1,0,0,0,0,0,[Ext.util,"LruCache"],0);
Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{clear:function(a){this.pageMapGeneration=(this.pageMapGeneration||0)+1;this.callParent(arguments)},forEach:function(a,b){var c=Ext.Object.getKeys(this.map),d=c.length,e,g,h,i,j;for(e=0;e<d;e++)c[e]=Number(c[e]);Ext.Array.sort(c);b=b||this;for(e=0;e<d;e++){h=c[e];i=this.getPage(h);j=i.length;for(g=0;g<j;g++)if(a.call(b,i[g],(h-1)*this.pageSize+g)===false)return}},findBy:function(a,b){var c=null,b=b||this;this.forEach(function(d,e){if(a.call(b,d,
e)){c=d;return false}});return c},findIndexBy:function(a,b){var c=-1,b=b||this;this.forEach(function(d,e){if(a.call(b,d)){c=e;return false}});return c},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,b){var c=a+Math.floor((b.length-1)/this.pageSize),d,e;for(d=0;a<=c;a++,d=d+this.pageSize){e=Ext.Array.slice(b,d,d+this.pageSize);this.add(a,e);this.fireEvent("pageAdded",a,e)}},getCount:function(){var a=
this.callParent();a&&(a=(a-1)*this.pageSize+this.last.value.length);return a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(a,b){for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);c<=d;c++)if(!this.hasPage(c))return false;return true},hasPage:function(a){return!!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(a,b){this.hasRange(a,
b)||Ext.Error.raise("PageMap asked for range which it does not have");for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b),e=(c-1)*this.pageSize,g=d*this.pageSize-1,h=c,i=[],j,k,l,m=0;h<=d;h++){if(h==c){j=a-e;l=true}else{j=0;l=false}if(h==d){k=this.pageSize-(g-b);l=true}l?Ext.Array.push(i,Ext.Array.slice(this.getPage(h),j,k)):Ext.Array.push(i,this.getPage(h))}for(c=i.length;m<c;m++)i[m].index=a++;return i}},0,0,0,0,0,0,[Ext.data,"PageMap"],0);
Ext.cmd.derive("Ext.data.Group",Ext.util.Observable,{key:void 0,dirty:!0,constructor:function(){this.callParent(arguments);this.records=[]},contains:function(a){return Ext.Array.indexOf(this.records,a)!==-1},add:function(a){Ext.Array.push(this.records,a);this.dirty=true},remove:function(a){Ext.isArray(a)||(a=[a]);var b=a.length,c;for(c=0;c<b;++c)Ext.Array.remove(this.records,a[c]);this.dirty=true},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=
true},commit:function(){this.dirty=false},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(a){if(a===true||this.dirty||!this.aggregate){a=this.store.model;this.aggregate=new a;this.aggregate.isSummary=true}return this.aggregate}},1,0,0,0,0,0,[Ext.data,"Group"],0);
Ext.cmd.derive("Ext.data.Store",Ext.data.AbstractStore,{remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||
a.property},groupIdFn:function(a){return a.key}},constructor:function(a){var a=Ext.apply({},a),b=this,c=a.groupers||b.groupers,d=a.groupField||b.groupField,e;if(e=a.data||b.data){b.inlineData=e;delete a.data}if(!c&&d){c=[{property:d,direction:a.groupDir||b.groupDir}];if(a.getGroupString||b.getGroupString!==Ext.data.Store.prototype.getGroupString)c[0].getGroupString=function(a){return b.getGroupString(a)}}delete a.groupers;b.groupers=new Ext.util.MixedCollection(false,Ext.data.Store.grouperIdFn);b.groupers.addAll(b.decodeGroupers(c));
b.groups=new Ext.util.MixedCollection(false,Ext.data.Store.groupIdFn);b.callParent([a]);if(b.buffered){b.data=new Ext.data.PageMap({store:b,keyFn:Ext.data.Store.recordIdFn,pageSize:b.pageSize,maxSize:b.purgePageCount,listeners:{clear:b.onPageMapClear,scope:b}});b.pageRequests={};b.remoteSort=b.remoteGroup=b.remoteFilter=true;b.sortOnLoad=false;b.filterOnLoad=false}else{b.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:true});b.data.pageSize=b.pageSize}if(b.remoteGroup)b.remoteSort=
true;b.sorters.insert(0,b.groupers.getRange());a=b.proxy;e=b.inlineData;if(!b.buffered&&!b.pageSize)b.pageSize=b.defaultPageSize;if(e){if(a instanceof Ext.data.proxy.Memory){a.data=e;b.read()}else b.add.apply(b,[e]);b.sorters.items.length&&!b.remoteSort&&b.group(null,null,true);delete b.inlineData}else b.autoLoad&&Ext.defer(b.load,1,b,[typeof b.autoLoad==="object"?b.autoLoad:void 0])},onBeforeSort:function(){var a=this.groupers;a.getCount()>0&&this.sort(a.items,"prepend",false)},decodeGroupers:function(a){Ext.isArray(a)||
(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Grouper,d,e,g=[];for(e=0;e<b;e++){d=a[e];if(d instanceof c)g.push(d);else{Ext.isString(d)&&(d={property:d});d=Ext.apply({root:"data",direction:"ASC"},d);if(d.fn)d.sorterFn=d.fn;typeof d=="function"&&(d={sorterFn:d});g.push(new c(d))}}return g},group:function(a,b,c){var d,e;if(a){this.sorters.removeAll(this.groupers.items);if(Ext.isArray(a))e=a;else if(Ext.isObject(a))e=[a];else if(Ext.isString(a))if(d=this.groupers.get(a))b===void 0?d.toggle():d.setDirection(b);
else{d={property:a,direction:b||"ASC"};e=[d]}if(e&&e.length){this.groupers.clear();this.groupers.addAll(this.decodeGroupers(e))}this.sorters.insert(0,this.groupers.items)}if(this.remoteGroup)if(this.buffered){this.data.clear();this.loadPage(1,{groupChange:true})}else this.load({scope:this,callback:c?null:this.fireGroupChange});else{this.doSort(this.generateComparator());this.constructGroups();c||this.fireGroupChange()}},getGroupField:function(){var a=this.groupers.first(),b;if(a)b=a.property;return b},
constructGroups:function(){var a=this.data.items,b=a.length,c=this.groups,d,e,g,h;c.clear();if(this.isGrouped())for(e=0;e<b;++e){h=a[e];d=this.getGroupString(h);g=c.get(d);if(!g){g=new Ext.data.Group({key:d,store:this});c.add(d,g)}g.add(h)}},clearGrouping:function(){var a=this.groupers.items,b=a.length,c;for(c=0;c<b;c++)this.sorters.remove(a[c]);this.groupers.clear();if(this.remoteGroup)if(this.buffered){this.data.clear();this.loadPage(1,{groupChange:true})}else this.load({scope:this,callback:this.fireGroupChange});
else{this.groups.clear();if(this.sorters.length)this.sort();else{this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}this.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(a){var b=this.data.items,c=b.length,d=[],e={},g,h,i,j;for(j=0;j<c;j++){g=b[j];h=this.getGroupString(g);i=e[h];if(i===void 0){i={name:h,children:[]};d.push(i);e[h]=i}i.children.push(g)}return a?
e[a]:d},getGroupsForGrouper:function(a,b){var c=a.length,d=[],e,g,h,i,j;for(j=0;j<c;j++){h=a[j];g=b.getGroupString(h);if(g!==e){i={name:g,grouper:b,records:[]};d.push(i)}i.records.push(h);e=g}return d},getGroupsForGrouperIndex:function(a,b){var c=this.groupers,d=c.getAt(b),d=this.getGroupsForGrouper(a,d),e=d.length;if(b+1<c.length)for(c=0;c<e;c++)d[c].children=this.getGroupsForGrouperIndex(d[c].records,b+1);for(c=0;c<e;c++)d[c].depth=b;return d},getGroupData:function(a){a!==false&&this.sort();return this.getGroupsForGrouperIndex(this.data.items,
0)},getGroupString:function(a){var b=this.groupers.first();return b?b.getGroupString(a):""},insert:function(a,b){var c=false,d,e,g,h=this.modelDefaults,i;i=Ext.isIterable(b)?[]:b=[b];if(e=b.length){for(d=0;d<e;d++){g=b[d];g.isModel||(g=this.createModel(g));i[d]=g;h&&g.set(h);g.join(this);c=c||g.phantom===true}this.data.insert(a,i);this.snapshot&&this.snapshot.addAll(i);if(this.requireSort){this.suspendEvents();this.sort();this.resumeEvents()}this.isGrouped()&&this.updateGroupsOnAdd(i);this.fireEvent("add",
this,i,a);this.fireEvent("datachanged",this);this.autoSync&&(c&&!this.autoSyncSuspended)&&this.sync()}return i},updateGroupsOnAdd:function(a){var b=this.groups,c=a.length,d,e,g,h;for(d=0;d<c;++d){h=a[d];e=this.getGroupString(h);(g=b.getByKey(e))||(g=b.add(new Ext.data.Group({key:e,store:this})));g.add(h)}},updateGroupsOnRemove:function(a){var b=this.groups,c=a.length,d,e,g;for(d=0;d<c;++d){g=a[d];e=this.getGroupString(g);if(e=b.getByKey(e)){e.remove(g);e.records.length===0&&b.remove(e)}}},updateGroupsOnUpdate:function(a,
b){var c=this.getGroupField(),d=this.getGroupString(a),e=this.groups,g,h,i;if(b&&Ext.Array.indexOf(b,c)!==-1){this.buffered&&Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"});h=e.items;g=0;for(c=h.length;g<c;++g){i=h[g];if(i.contains(a)){i.remove(a);break}}(i=e.getByKey(d))||(i=e.add(new Ext.data.Group({key:d,store:this})));i.add(a);this.data.remove(a);this.data.insert(this.data.findInsertionIndex(a,this.generateComparator()),a);g=0;for(c=this.getCount();g<c;g++)this.data.items[g].index=
g}else e.getByKey(d).setDirty()},add:function(a){var b,c,d;b=Ext.isArray(a)?a:arguments;c=b.length;if((d=!this.remoteSort&&this.sorters&&this.sorters.items.length)&&c===1)return[this.addSorted(this.createModel(b[0]))];if(d)this.requireSort=true;b=this.insert(this.data.length,b);delete this.requireSort;return b},addSorted:function(a){this.insert(this.data.findInsertionIndex(a,this.generateComparator()),a);return a},createModel:function(a){a.isModel||(a=Ext.ModelManager.create(a,this.model));return a},
onUpdate:function(a,b,c){this.isGrouped()&&this.updateGroupsOnUpdate(a,c)},each:function(a,b){var c=this.data.items,d=c.length,e,g;for(g=0;g<d;g++){e=c[g];if(a.call(b||e,e,g,d)===false)break}},remove:function(a,b,c){var b=b===true,d=false,e=this.snapshot,g=this.data,h=0,i,j=[],k=[],l=[],m,n,p,o,q=!c&&this.hasListeners.remove;if(a.isModel){a=[a];i=1}else if(Ext.isIterable(a))i=a.length;else if(typeof a==="object"){p=true;h=a.start;i=a.end+1;o=i-h}if(!p){for(h=0;h<i;++h){n=a[h];if(typeof n=="number"){m=
n;n=g.getAt(m)}else m=this.indexOf(n);n&&m>-1&&j.push({record:n,index:m});e&&e.remove(n)}j=Ext.Array.sort(j,function(a,b){var c=a.index,d=b.index;return c===b.index2?0:c<d?-1:1});h=0;i=j.length}for(;h<i;h++){if(p){n=g.getAt(h);m=h}else{m=j[h];n=m.record;m=m.index}k.push(n);l.push(m);e=n.phantom!==true;if(!b&&e){n.removedFrom=m;this.removed.push(n)}n.unjoin(this);m=m-h;d=d||e;if(!p){g.removeAt(m);q&&this.fireEvent("remove",this,n,m,!!b)}}p&&g.removeRange(a.start,o);if(!c){this.fireEvent("bulkremove",
this,k,l,!!b);this.fireEvent("datachanged",this)}!b&&(this.autoSync&&d&&!this.autoSyncSuspended)&&this.sync()},removeAt:function(a,b){var c=this.getCount();a<=c&&(arguments.length===1?this.remove([a]):b&&this.remove({start:a,end:Math.min(a+b,c)-1}))},removeAll:function(a){var b=this.snapshot,c=this.data;b&&b.removeAll(c.getRange());if(this.buffered){if(c){a&&this.suspendEvent("clear");c.clear();a&&this.resumeEvent("clear")}}else{this.remove({start:0,end:this.getCount()-1},false,a);a!==true&&this.fireEvent("clear",
this)}},load:function(a){a=a||{};typeof a=="function"&&(a={callback:a});a.groupers=a.groupers||this.groupers.items;a.page=a.page||this.currentPage;a.start=a.start!==void 0?a.start:(a.page-1)*this.pageSize;a.limit=a.limit||this.pageSize;a.addRecords=a.addRecords||false;if(this.buffered){a.limit=this.viewSize||this.defaultViewSize;return this.loadToPrefetch(a)}return this.callParent([a])},reload:function(a){var b=this,c,d,e,g,h,i;e=b.getCount();a||(a={});if(b.buffered){delete b.totalCount;h=function(){if(b.rangeCached(c,
d)){b.loading=false;b.data.un("pageAdded",h);i=b.data.getRange(c,d);b.fireEvent("load",b,i,true)}};g=Math.ceil((b.leadingBufferZone+b.trailingBufferZone)/2);c=a.start||(e?b.getAt(0).index:0);d=c+(a.count||(e?e:b.pageSize))-1;e=b.getPageFromRecordIndex(Math.max(c-g,0));g=b.getPageFromRecordIndex(d+g);b.data.clear(true);if(b.fireEvent("beforeload",b,a)!==false){b.loading=true;for(b.data.on("pageAdded",h);e<=g;e++)b.prefetchPage(e,a)}}else return b.callParent(arguments)},onProxyLoad:function(a){var b=
a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful();if(!this.isDestroyed){if(b)this.totalCount=b.total;this.loading=false;d&&this.loadRecords(c,a);this.hasListeners.load&&this.fireEvent("load",this,c,d);this.hasListeners.read&&this.fireEvent("read",this,c,d);Ext.callback(a.callback,a.scope||this,[c,a,d])}},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(a,b){Ext.isString(a)&&
(a={property:a,value:b});var c=this.decodeFilters(a),d,e=this.sorters.length&&this.sortOnFilter&&!this.remoteSort,g=c.length;for(d=0;d<g;d++)this.filters.replace(c[d]);a=this.filters.items;if(a.length){if(this.remoteFilter){delete this.totalCount;if(this.buffered){this.data.clear();this.loadPage(1)}else{this.currentPage=1;this.load()}}else{this.snapshot=this.snapshot||this.data.clone();this.data=this.snapshot.filter(a);this.constructGroups();if(e)this.sort();else{this.fireEvent("datachanged",this);
this.fireEvent("refresh",this)}}this.fireEvent("filterchange",this,a)}},clearFilter:function(a){this.filters.clear();if(this.remoteFilter){if(a)return;delete this.totalCount;if(this.buffered){this.data.clear();this.loadPage(1)}else{this.currentPage=1;this.load()}}else if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;this.constructGroups();if(a!==true){this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}}this.fireEvent("filterchange",this,this.filters.items)},removeFilter:function(a,
b){if(!this.remoteFilter&&this.isFiltered()){a instanceof Ext.util.Filter?this.filters.remove(a):this.filters.removeAtKey(a);b!==false?this.filters.length?this.filter():this.clearFilter():this.fireEvent("filterchange",this,this.filters.items)}},addFilter:function(a,b){var c,d,e;c=this.decodeFilters(a);e=c.length;for(d=0;d<e;d++)this.filters.replace(c[d]);b!==false&&this.filters.length?this.filter():this.fireEvent("filterchange",this,this.filters.items)},isFiltered:function(){var a=this.snapshot;return!!(a&&
a!==this.data)},filterBy:function(a,b){this.snapshot=this.snapshot||this.data.clone();this.data=this.queryBy(a,b||this);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},queryBy:function(a,b){return(this.snapshot||this.data).filterBy(a,b||this)},query:function(a,b,c,d,e){(a=this.queryBy(this.createFilterFn(a,b,c,d,e)))||(a=new Ext.util.MixedCollection);return a},loadData:function(a,b){var c=a.length,d=[],e;for(e=0;e<c;e++)d.push(this.createModel(a[e]));this.loadRecords(d,b?this.addRecordsOptions:
void 0)},loadRawData:function(a,b){var c=this.proxy.reader.read(a),d=c.records;if(c.success){this.totalCount=c.total;this.loadRecords(d,b?this.addRecordsOptions:void 0)}},loadRecords:function(a,b){var c=0,d=a.length,e,g,h=this.snapshot;if(b){e=b.start;g=b.addRecords}if(g)h&&h.addAll(a);else{delete this.snapshot;this.clearData(true)}this.data.addAll(a);if(e!==void 0)for(;c<d;c++){a[c].index=e+c;a[c].join(this)}else for(;c<d;c++)a[c].join(this);this.suspendEvents();this.filterOnLoad&&!this.remoteFilter&&
this.filter();this.sortOnLoad&&!this.remoteSort&&this.sort(void 0,void 0,void 0,true);this.resumeEvents();this.isGrouped()&&this.constructGroups();this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},loadPage:function(a,b){this.currentPage=a;b=Ext.apply({page:a,start:(a-1)*this.pageSize,limit:this.pageSize,addRecords:!this.clearOnPageLoad},b);if(this.buffered){b.limit=this.viewSize||this.defaultViewSize;return this.loadToPrefetch(b)}this.read(b)},nextPage:function(a){this.loadPage(this.currentPage+
1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a){var b,c;if(!this.buffered&&this.data){b=this.data.items;for(c=b.length;c--;)b[c].unjoin(this)}this.data&&this.data.clear();if(a!==true||this.clearRemovedOnLoad)this.removed.length=0},loadToPrefetch:function(a){var b=this,c,d,e,g=a,h=a.start,i=a.start+a.limit-1,j=Math.min(i,a.start+(b.viewSize||a.limit)-1),k=b.getPageFromRecordIndex(Math.max(h-b.trailingBufferZone,0)),l=b.getPageFromRecordIndex(i+b.leadingBufferZone),
m=function(){if(b.rangeCached(h,j)){b.loading=false;d=b.data.getRange(h,j);b.data.un("pageAdded",m);b.hasListeners.guaranteedrange&&b.guaranteeRange(h,j,a.callback,a.scope);a.callback&&a.callback.call(a.scope||b,d,h,i,a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b);b.fireEvent("load",b,d,true);a.groupChange&&b.fireGroupChange()}};if(b.fireEvent("beforeload",b,a)!==false){delete b.totalCount;b.loading=true;if(a.callback){g=Ext.apply({},a);delete g.callback}b.on("prefetch",function(a,d,h){if(h)if(e=
b.getTotalCount()){b.data.on("pageAdded",m);j=Math.min(j,e-1);l=b.getPageFromRecordIndex(Math.min(j+b.leadingBufferZone,e-1));for(c=k+1;c<=l;++c)b.prefetchPage(c,g)}else{b.fireEvent("datachanged",b);b.fireEvent("refresh",b);b.fireEvent("load",b,d,true)}else b.fireEvent("load",b,d,false)},null,{single:true});b.prefetchPage(k,g)}},prefetch:function(a){var b=this.pageSize,c;if(b){this.lastPageSize&&b!=this.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered");if(!this.data.pageSize)this.data.pageSize=
b}else this.pageSize=this.data.pageSize=b=a.limit;this.lastPageSize=b;if(!a.page){a.page=this.getPageFromRecordIndex(a.start);a.start=(a.page-1)*b;a.limit=Math.ceil(a.limit/b)*b}if(!this.pageRequests[a.page]){a=Ext.apply({action:"read",filters:this.filters.items,sorters:this.sorters.items,groupers:this.groupers.items,pageMapGeneration:this.data.pageMapGeneration},a);c=new Ext.data.Operation(a);if(this.fireEvent("beforeprefetch",this,c)!==false){b=this.proxy;this.pageRequests[a.page]=b.read(c,this.onProxyPrefetch,
this);b.isSynchronous&&delete this.pageRequests[a.page]}}return this},onPageMapClear:function(){var a=this.wasLoading,b=this.pageRequests,c,d;this.data.events.pageadded&&this.data.events.pageadded.clearListeners();this.loading=true;this.totalCount=0;for(d in b)if(b.hasOwnProperty(d)){c=b[d];delete b[d];delete c.callback}this.fireEvent("clear",this);this.loading=a},prefetchPage:function(a,b){var c=this.pageSize||this.defaultPageSize,d=(a-1)*this.pageSize,e=this.totalCount;e!==void 0&&this.getCount()===
e||this.prefetch(Ext.applyIf({page:a,start:d,limit:c},b))},onProxyPrefetch:function(a){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful(),e=a.page;if(a.pageMapGeneration===this.data.pageMapGeneration){if(b){this.totalCount=b.total;this.fireEvent("totalcountchange",this.totalCount)}e!==void 0&&delete this.pageRequests[e];this.loading=false;this.fireEvent("prefetch",this,c,d,a);d&&this.cachePage(c,a.page);Ext.callback(a.callback,a.scope||this,[c,a,d])}},cachePage:function(a,b){var c=a.length,
d;if(!Ext.isDefined(this.totalCount)){this.totalCount=a.length;this.fireEvent("totalcountchange",this.totalCount)}for(d=0;d<c;d++)a[d].join(this);this.data.addPage(b,a)},rangeCached:function(a,b){return this.data&&this.data.hasRange(a,b)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(a,b){return this.rangeCached(a,b)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(a){var b=
this.getTotalCount(),c=a.prefetchStart,b=a.prefetchEnd>b-1?b-1:a.prefetchEnd,d,b=Math.max(0,b);d=this.data.getRange(c,b);a.fireEvent!==false&&this.fireEvent("guaranteedrange",d,c,b,a);a.callback&&a.callback.call(a.scope||this,d,c,b,a)},guaranteeRange:function(a,b,c,d,e){e=Ext.apply({callback:c,scope:d},e);this.getRange(a,b,e)},prefetchRange:function(a,b){var c,d;if(!this.rangeCached(a,b)){c=this.getPageFromRecordIndex(a);d=this.getPageFromRecordIndex(b);for(this.data.maxSize=this.purgePageCount?d-
c+1+this.purgePageCount:0;c<=d;c++)this.pageCached(c)||this.prefetchPage(c)}},primeCache:function(a,b,c){if(c===-1){a=Math.max(a-this.leadingBufferZone,0);b=Math.min(b+this.trailingBufferZone,this.totalCount-1)}else if(c===1){a=Math.max(Math.min(a-this.trailingBufferZone,this.totalCount-this.pageSize),0);b=Math.min(b+this.leadingBufferZone,this.totalCount-1)}else{a=Math.min(Math.max(Math.floor(a-(this.leadingBufferZone+this.trailingBufferZone)/2),0),this.totalCount-this.pageSize);b=Math.min(Math.max(Math.ceil(b+
(this.leadingBufferZone+this.trailingBufferZone)/2),0),this.totalCount-1)}this.prefetchRange(a,b)},sort:function(){this.buffered&&this.remoteSort&&this.data.clear();return this.callParent(arguments)},doSort:function(a){var b,c;if(this.remoteSort)if(this.buffered){this.data.clear();this.loadPage(1)}else this.load();else{this.data.sortBy(a);if(!this.buffered){a=this.getRange();b=a.length;for(c=0;c<b;c++)a[c].index=c}this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}},find:function(a,
b,c,d,e,g){return(a=this.createFilterFn(a,b,d,e,g))?this.data.findIndexBy(a,null,c):-1},findRecord:function(){var a=this.find.apply(this,arguments);return a!==-1?this.getAt(a):null},createFilterFn:function(a,b,c,d,e){if(Ext.isEmpty(b))return false;b=this.data.createValueMatcher(b,c,d,e);return function(c){return b.test(c.data[a])}},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(a,
b,c){return(c===true&&this.snapshot?this.snapshot:this.data).collect(a,"data",b)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b,c){var d=this,e,g,h=d.totalCount-1,i=d.lastRequestStart,j,k,c=Ext.apply({prefetchStart:a,prefetchEnd:b},c);if(d.buffered){b=b>=d.totalCount?h:b;e=a===0?0:a-1;g=b===h?b:b+1;d.lastRequestStart=a;if(d.rangeCached(e,g)){d.onGuaranteedRange(c);k=d.data.getRange(a,
b)}else{d.fireEvent("cachemiss",d,a,b);j=function(){if(d.rangeCached(e,g)){d.fireEvent("cachefilled",d,a,b);d.data.un("pageAdded",j);d.onGuaranteedRange(c)}};d.data.on("pageAdded",j);d.prefetchRange(a,b)}d.primeCache(a,b,a<i?-1:1)}else{k=d.data.getRange(a,b);c.callback&&c.callback.call(c.scope||d,k,a,b,c)}return k},getById:function(a){return(this.snapshot||this.data).findBy(function(b){return b.getId()===a})},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;
return b||b===0?b:this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(a){return a&&this.isGrouped()?this.aggregate(function(a){return a.length?a[0]:void 0},this,true):this.data.first()},last:function(a){return a&&this.isGrouped()?this.aggregate(function(a){var c=a.length;return c?a[c-1]:void 0},this,true):this.data.last()},sum:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getSum,this,true,[a]):this.getSum(this.data.items,a)},getSum:function(a,
b){for(var c=0,d=0,e=a.length;d<e;++d)c=c+a[d].get(b);return c},count:function(a){return a&&this.isGrouped()?this.aggregate(function(a){return a.length},this,true):this.getCount()},min:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getMin,this,true,[a]):this.getMin(this.data.items,a)},getMin:function(a,b){var c=1,d=a.length,e,g;for(d>0&&(g=a[0].get(b));c<d;++c){e=a[c].get(b);e<g&&(g=e)}return g},max:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getMax,this,true,[a]):this.getMax(this.data.items,
a)},getMax:function(a,b){var c=1,d=a.length,e,g;for(d>0&&(g=a[0].get(b));c<d;++c){e=a[c].get(b);e>g&&(g=e)}return g},average:function(a,b){return b&&this.isGrouped()?this.aggregate(this.getAverage,this,true,[a]):this.getAverage(this.data.items,a)},getAverage:function(a,b){var c=0,d=a.length,e=0;if(a.length>0){for(;c<d;++c)e=e+a[c].get(b);return e/d}return 0},aggregate:function(a,b,c,d){d=d||[];if(c&&this.isGrouped()){var c=this.getGroups(),e=c.length,g={},h,i;for(i=0;i<e;++i){h=c[i];g[h.name]=this.getAggregate(a,
b||this,h.children,d)}return g}return this.getAggregate(a,b,this.data.items,d)},getAggregate:function(a,b,c,d){d=d||[];return a.apply(b||this,[c].concat(d))},onIdChanged:function(a,b,c,d){var e=this.snapshot;e&&e.updateKey(d,c);this.data.updateKey(d,c);this.callParent(arguments)},commitChanges:function(){for(var a=this.getModifiedRecords(),b=a.length,c=0;c<b;c++)a[c].commit();this.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,
this.getUpdatedRecords())},rejectChanges:function(){for(var a=this.getRejectRecords(),b=a.length,c=0,d;c<b;c++){d=a[c];d.reject();d.phantom&&this.remove(d)}a=this.removed;b=a.length;for(c=0;c<b;c++){d=a[c];this.insert(d.removedFrom||0,d);d.reject()}this.removed.length=0}},1,0,0,0,["store.store"],0,[Ext.data,"Store"],function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})});
Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(a,b,c){a=a.mapping==null?a.originalIndex:a.mapping;if(typeof a==="function")b=b+".mapping("+c+", this)";else{isNaN(a)&&(a='"'+a+'"');b=c+"["+a+"]"}return b}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0);
Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(a,b){if(this.expandData===true){for(var c=[],d=0,e=a.length;d<e;d++)c[c.length]=[a[d]];a=c}this.callParent([a,b])}},1,0,0,0,["store.array"],0,[Ext.data,"ArrayStore"],function(){Ext.data.SimpleStore=Ext.data.ArrayStore});
Ext.cmd.derive("Ext.data.Batch",Ext.Base,{autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.operations=[];this.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(a){if(this.isRunning)return this;this.exceptions.length=0;this.hasException=false;this.isRunning=true;return this.runOperation(Ext.isDefined(a)?a:this.current+
1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(a){var b=this,c=b.operations,d=c[a];if(d===void 0){b.isRunning=false;b.isComplete=true;b.fireEvent("complete",b,c[c.length-1])}else{b.current=a;a=function(a){var c=a.hasException();if(c){b.hasException=true;b.exceptions.push(a);b.fireEvent("exception",b,a)}if(c&&b.pauseOnException)b.pause();else{a.setCompleted();
b.fireEvent("operationcomplete",b,a);b.runNextOperation()}};d.setStarted();b.proxy[d.action](d,a,b)}return b}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Batch"],0);Ext.cmd.derive("Ext.data.BufferStore",Ext.data.Store,{sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}},1,0,0,0,["store.buffer"],0,[Ext.data,"BufferStore"],0);
Ext.cmd.derive("Ext.direct.Manager",Ext.Base,{singleton:!0,exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions=new Ext.util.MixedCollection;this.providers=new Ext.util.MixedCollection;this.mixins.observable.constructor.call(this)},addProvider:function(a){var b=arguments,c=this.relayers||(this.relayers={}),d;if(b.length>1){c=0;for(d=b.length;c<d;++c)this.addProvider(b[c])}else{a.isProvider||
(a=Ext.create("direct."+a.type+"provider",a));this.providers.add(a);a.on("data",this.onProviderData,this);a.relayedEvents&&(c[a.id]=this.relayEvents(a,a.relayedEvents));a.isConnected()||a.connect();return a}},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var b=this.providers,c=this.relayers,d;if(a=a.isProvider?a:b.get(a)){a.un("data",this.onProviderData,this);d=a.id;if(c[d]){c[d].destroy();delete c[d]}b.remove(a);return a}return null},addTransaction:function(a){this.transactions.add(a);
return a},removeTransaction:function(a){a=this.getTransaction(a);this.transactions.remove(a);return a},getTransaction:function(a){return typeof a==="object"?a:this.transactions.get(a)},onProviderData:function(a,b){var c,d;if(Ext.isArray(b)){c=0;for(d=b.length;c<d;++c)this.onProviderData(a,b[c])}else{b.name&&b.name!="event"&&b.name!="exception"?this.fireEvent(b.name,b):b.status===false&&this.fireEvent("exception",b);this.fireEvent("event",b,a)}},parseMethod:function(a){if(Ext.isString(a)){for(var a=
a.split("."),b=0,c=a.length,d=Ext.global;d&&b<c;){d=d[a[b]];++b}a=Ext.isFunction(d)?d:null}return a||null}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.direct,"Manager"],function(){Ext.Direct=Ext.direct.Manager});
Ext.cmd.derive("Ext.data.proxy.Direct",Ext.data.proxy.Server,{alternateClassName:"Ext.data.DirectProxy",paramOrder:void 0,paramsAsHash:!0,directFn:void 0,paramOrderRe:/[\s,|]/,constructor:function(a){var b;this.callParent(arguments);b=this.paramOrder;if(Ext.isString(b))this.paramOrder=b.split(this.paramOrderRe)},resolveMethods:function(){var a=this.directFn,b=this.api,c=Ext.direct.Manager,d;if(a){d=this.directFn=c.parseMethod(a);Ext.isFunction(d)||Ext.Error.raise("Cannot resolve directFn "+a)}else if(b)for(a in b)if(b.hasOwnProperty(a)){d=
b[a];b[a]=c.parseMethod(d);Ext.isFunction(b[a])||Ext.Error.raise("Cannot resolve Direct api "+a+" method "+d)}this.methodsResolved=true},doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a),g=e.params,h=[],i;this.methodsResolved||this.resolveMethods();i=this.api[e.action]||this.directFn;a.allowWrite()&&(e=d.write(e));if(a.action=="read"){d=i.directCfg.method;h=d.getArgs(g,this.paramOrder,this.paramsAsHash)}else h.push(e.jsonData);Ext.apply(e,{args:h,directFn:i});h.push(this.createRequestCallback(e,
a,b,c),this);i.apply(window,h)},applyEncoding:Ext.identityFn,createRequestCallback:function(a,b,c,d){var e=this;return function(g,h){e.processResponse(h.status,b,a,h,c,d)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return""}},1,0,0,0,["proxy.direct"],0,[Ext.data.proxy,"Direct",Ext.data,"DirectProxy"],0);
Ext.cmd.derive("Ext.data.DirectStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({},a);if(!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(b.reader,a,"totalProperty,root,idProperty");a.proxy=b}this.callParent([a])}},1,0,0,0,["store.direct"],0,[Ext.data,"DirectStore"],0);
Ext.cmd.derive("Ext.data.JsonP",Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:3E4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(a){var a=Ext.apply({},a),b=Ext.isDefined(a.disableCaching)?a.disableCaching:this.disableCaching,c=a.disableCachingParam||this.disableCachingParam,d=++this.requestCount,e=a.callbackName||"callback"+d,g=a.callbackKey||this.callbackKey,h=Ext.isDefined(a.timeout)?a.timeout:this.timeout,i=Ext.apply({},a.params),j=a.url,k=Ext.name;
b&&!i[c]&&(i[c]=Ext.Date.now());a.params=i;i[g]=k+".data.JsonP."+e;b=this.createScript(j,i,a);this.requests[d]=a={url:j,params:i,script:b,id:d,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:g,callbackName:e};if(h>0)a.timeout=setTimeout(Ext.bind(this.handleTimeout,this,[a]),h);this.setupErrorHandling(a);this[e]=Ext.bind(this.handleResponse,this,[a],true);this.loadScript(a);return a},abort:function(a){var b=this.requests,c;if(a){a.id||(a=b[a]);this.handleAbort(a)}else for(c in b)b.hasOwnProperty(c)&&
this.abort(b[c])},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort";this.handleResponse(null,a)},handleError:function(a){a.errorType="error";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout";this.handleResponse(null,a)},handleResponse:function(a,b){var c=true;b.timeout&&clearTimeout(b.timeout);delete this[b.callbackName];delete this.requests[b.id];
this.cleanupErrorHandling(b);Ext.fly(b.script).remove();if(b.errorType){c=false;Ext.callback(b.failure,b.scope,[b.errorType])}else Ext.callback(b.success,b.scope,[a]);Ext.callback(b.callback,b.scope,[c,a,b.errorType]);Ext.EventManager.idleEvent.fire()},createScript:function(a,b){var c=document.createElement("script");c.setAttribute("src",Ext.urlAppend(a,Ext.Object.toQueryString(b)));c.setAttribute("async",true);c.setAttribute("type","text/javascript");return c},loadScript:function(a){Ext.getHead().appendChild(a.script)}},
0,0,0,0,0,0,[Ext.data,"JsonP"],0);
Ext.cmd.derive("Ext.data.proxy.JsonP",Ext.data.proxy.Server,{alternateClassName:"Ext.data.ScriptTagProxy",defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception");this.callParent(arguments)},doRequest:function(a,b,c){var d=this.buildRequest(a),e=d.params;Ext.apply(d,{callbackKey:this.callbackKey,timeout:this.timeout,scope:this,disableCaching:false,callback:this.createRequestCallback(d,a,b,c)});if(this.autoAppendParams)d.params=
{};d.jsonp=Ext.data.JsonP.request(d);d.params=e;a.setStarted();return this.lastRequest=d},createRequestCallback:function(a,b,c,d){var e=this;return function(g,h){delete e.lastRequest;e.processResponse(g,b,a,h,c,d)}},setException:function(a){a.setException(a.request.jsonp.errorType)},buildUrl:function(a){var b=this.callParent(arguments),c=a.records,d=this.getWriter(),e,g,h,i;d&&a.operation.allowWrite()&&(a=d.write(a));e=a.params;g=e.filters;delete e.filters;if(g&&g.length)for(i=0;i<g.length;i++){h=
g[i];if(h.value)e[h.property]=h.value}if((!d||!d.encode)&&Ext.isArray(c)&&c.length>0)e[this.recordParam]=this.encodeRecords(c);this.autoAppendParams&&(b=Ext.urlAppend(b,Ext.Object.toQueryString(e)));return b},abort:function(){var a=this.lastRequest;a&&Ext.data.JsonP.abort(a.jsonp)},encodeRecords:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(Ext.encode(a[c].getData()));return b}},1,0,0,0,["proxy.jsonp","proxy.scripttag"],0,[Ext.data.proxy,"JsonP",Ext.data,"ScriptTagProxy"],0);
Ext.cmd.derive("Ext.data.JsonPStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a);this.callParent([a])}},1,0,0,0,["store.jsonp"],0,[Ext.data,"JsonPStore"],0);Ext.cmd.derive("Ext.data.JsonStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a);this.callParent([a])}},1,0,0,0,["store.json"],0,[Ext.data,"JsonStore"],0);
Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(a){var b,c;typeof a=="string"?a=Ext.ModelManager.getModel(a):a.isModel&&(a=Ext.ModelManager.getModel(a.modelName));if(!a.prototype.isNode){b=a.prototype.idProperty;c=a.prototype.fields.get(b);b=a.prototype.fields.get(b).type.type;a.override(this.getPrototypeBody());this.applyFields(a,[{name:"parentId",type:b,defaultValue:null,useNull:c.useNull},{name:"index",type:"int",defaultValue:0,persist:false,convert:null},{name:"depth",
type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",
persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",
type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null}])}},
applyFields:function(a,b){var c=a.prototype.fields,d=c.keys,e=b.length,g,h;for(h=0;h<e;h++){g=b[h];Ext.Array.contains(d,g.name)||c.add(new Ext.data.Field(g))}},getPrototypeBody:function(){var a={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true,rootchange:true};return{isNode:true,constructor:function(){this.callParent(arguments);this.firstChild=
this.lastChild=this.parentNode=this.previousSibling=this.nextSibling=null;this.childNodes=[];return this},createNode:function(a){a.isModel||(a=Ext.ModelManager.create(a,this.modelName));if(!a.childNodes){a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[]}return a},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a,c){var d=this.data.depth,e={},g=this.childNodes,
h=g.length,e=this.phantom,i=this[this.persistenceProperty],j,k,l;c||Ext.Error.raise("NodeInterface expects update info to be passed");for(j in c){l=this.fields.get(j);k=c[j];if(l&&l.persist)this.dirty=this.dirty||!this.isEqual(i[j],k);i[j]=k}if(a){this.commit();this.phantom=e}if(this.data.depth!==d){e={depth:this.data.depth+1};for(d=0;d<h;d++)g[d].updateInfo(a,e)}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&
this.childNodes.length>0},isExpandable:function(){return this.get("expandable")?!(this.isLeaf()||this.isLoaded()&&!this.hasChildNodes()):false},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(a,c,d){var e,g,h,i={isLast:true,parentId:this.getId(),depth:(this.data.depth||0)+1};if(Ext.isArray(a)){this.callStore("suspendAutoSync");e=0;for(g=a.length-1;e<g;e++)this.appendChild(a[e],c,d);this.callStore("resumeAutoSync");this.appendChild(a[g],c,d)}else{a=this.createNode(a);if(c!==true&&
this.fireEventArgs("beforeappend",[this,a])===false)return false;e=this.childNodes.length;if(g=a.parentNode){if(c!==true&&a.fireEventArgs("beforemove",[a,g,this,e])===false)return false;g.removeChild(a,false,false,true)}Ext.suspendLayouts();e=this.childNodes.length;e===0&&this.setFirstChild(a);this.childNodes[e]=a;a.parentNode=this;a.nextSibling=null;this.setLastChild(a);if(h=this.childNodes[e-1]){a.previousSibling=h;h.nextSibling=a;h.updateInfo(d,{isLast:false});h.triggerUIUpdate()}else a.previousSibling=
null;i.isFirst=e===0;i.index=e;a.updateInfo(d,i);this.isLoaded()?this.childNodes.length===1&&this.triggerUIUpdate():this.set("loaded",true);e&&this.childNodes[e-1].isExpanded()&&this.childNodes[e-1].cascadeBy(this.triggerUIUpdate);!a.isLeaf()&&a.phantom&&a.set("loaded",true);Ext.resumeLayouts(true);if(c!==true){this.fireEventArgs("append",[this,a,e]);g&&a.fireEventArgs("move",[a,g,this,e])}return a}},getOwnerTree:function(){for(var a=this;a.parentNode;)a=a.parentNode;if(a=a.store){if(a.treeStore)a=
a.treeStore;if(a.tree)return a.ownerTree}},removeChild:function(a,c,d,e){var g=this.indexOf(a),h;if(g===-1||d!==true&&this.fireEventArgs("beforeremove",[this,a,!!e])===false)return false;Ext.suspendLayouts();Ext.Array.erase(this.childNodes,g,1);this.firstChild===a&&this.setFirstChild(a.nextSibling);this.lastChild===a&&this.setLastChild(a.previousSibling);if(h=a.previousSibling)a.previousSibling.nextSibling=a.nextSibling;if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling;g===0&&a.nextSibling.updateInfo(false,
{isFirst:true});for(h=this.childNodes.length;g<h;g++)this.childNodes[g].updateInfo(false,{index:g})}else if(h){h.updateInfo(false,{isLast:true});h.isExpanded()?h.cascadeBy(this.triggerUIUpdate):h.triggerUIUpdate()}this.childNodes.length||this.triggerUIUpdate();Ext.resumeLayouts(true);if(d!==true){a.removeContext={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling};a.previousSibling=a.nextSibling=a.parentNode=null;this.fireEventArgs("remove",[this,a,!!e]);a.removeContext=
null}c?a.destroy(true):a.clear();return a},copy:function(a,c){var d=this.callParent(arguments),e=this.childNodes?this.childNodes.length:0,g;if(c)for(g=0;g<e;g++)d.appendChild(this.childNodes[g].copy(void 0,true));return d},clear:function(a){this.parentNode=this.previousSibling=this.nextSibling=null;if(a)this.firstChild=this.lastChild=null},destroy:function(a){var c=this.destroyOptions,d=this.childNodes,e=d.length;if(a===true){this.clear(true);for(a=0;a<e;a++)d[a].destroy(true);this.childNodes=null;
delete this.destroyOptions;this.callParent([c])}else{this.destroyOptions=a;this.remove(true)}},insertBefore:function(a,c,d){var e=this.indexOf(c),g=a.parentNode,h=e,i;if(!c)return this.appendChild(a);if(a===c)return false;a=this.createNode(a);if(d!==true&&this.fireEventArgs("beforeinsert",[this,a,c])===false)return false;g===this&&this.indexOf(a)<e&&h--;if(g){if(d!==true&&a.fireEventArgs("beforemove",[a,g,this,e,c])===false)return false;g.removeChild(a,false,false,true)}h===0&&this.setFirstChild(a);
Ext.Array.splice(this.childNodes,h,0,a);a.parentNode=this;a.nextSibling=c;c.previousSibling=a;if(e=this.childNodes[h-1]){a.previousSibling=e;e.nextSibling=a}else a.previousSibling=null;a.updateInfo(false,{parentId:this.getId(),index:h,isFirst:h===0,isLast:false,depth:(this.data.depth||0)+1});i=h+1;for(e=this.childNodes.length;i<e;i++)this.childNodes[i].updateInfo(false,{index:i});this.isLoaded()?this.childNodes.length===1&&this.triggerUIUpdate():this.set("loaded",true);!a.isLeaf()&&a.phantom&&a.set("loaded",
true);if(d!==true){this.fireEventArgs("insert",[this,a,c]);g&&a.fireEventArgs("move",[a,g,this,h,c])}return a},insertChild:function(a,c){var d=this.childNodes[a];return d?this.insertBefore(c,d):this.appendChild(c)},remove:function(a,c){var d=this.parentNode;d?d.removeChild(this,a,c):a&&this.destroy(true);return this},removeAll:function(a,c,d){var e=this.childNodes,g=0,h=e.length,i;if(h){for(this.fireEventArgs("bulkremove",[this,e,false]);g<h;++g){i=e[g];i.removeContext={parentNode:i.parentNode,previousSibling:i.previousSibling,
nextSibling:i.nextSibling};i.previousSibling=i.nextSibling=i.parentNode=null;this.fireEventArgs("remove",[this,i,false]);i.removeContext=null;a?i.destroy(true):i.removeAll(false,c,true)}this.firstChild=this.lastChild=null;if(d)this.childNodes=null;else{this.childNodes.length=0;this.triggerUIUpdate()}return this}},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,c,d){var e=c?c.nextSibling:null;this.removeChild(c,false,d);this.insertBefore(a,e,d);return c},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,
a)},indexOfId:function(a){for(var c=this.childNodes,d=c.length,e=0;e<d;++e)if(c[e].getId()===a)return e;return-1},getPath:function(a,c){for(var a=a||this.idProperty,c=c||"/",d=[this.get(a)],e=this.parentNode;e;){d.unshift(e.get(a));e=e.parentNode}return c+d.join(c)},getDepth:function(){return this.get("depth")},bubble:function(a,c,d){for(var e=this;e;){if(a.apply(c||e,d||[e])===false)break;e=e.parentNode}},cascade:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.");
return this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,c,d){if(a.apply(c||this,d||[this])!==false){var e=this.childNodes,g=e.length,h;for(h=0;h<g;h++)e[h].cascadeBy(a,c,d)}},eachChild:function(a,c,d){var e=this.childNodes,g=e.length,h;for(h=0;h<g;h++)if(a.apply(c||this,d||[e[h]])===false)break},findChild:function(a,c,d){return this.findChildBy(function(){return this.get(a)==c},null,d)},findChildBy:function(a,c,d){for(var e=this.childNodes,g=e.length,h=0,i;h<g;h++){i=e[h];if(a.call(c||i,
i)===true)return i;if(d){i=i.findChildBy(a,c,d);if(i!==null)return i}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var c=this.parentNode;c;){if(c===a)return true;c=c.parentNode}return false},sort:function(a,c,d){var e=this.childNodes,g=e.length,h,i,j={isFirst:true};if(g>0){Ext.Array.sort(e,a);this.setFirstChild(e[0]);this.setLastChild(e[g-1]);for(h=0;h<g;h++){i=e[h];i.previousSibling=e[h-1];i.nextSibling=e[h+1];j.isLast=h===g-1;j.index=h;i.updateInfo(false,
j);j.isFirst=false;c&&!i.isLeaf()&&i.sort(a,true,true)}d!==true&&this.fireEventArgs("sort",[this,e])}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var a=this.parentNode;a;){if(!a.isExpanded())return false;a=a.parentNode}return true},expand:function(a,c,d){var e=this,g;if(e.isLeaf())Ext.callback(c,d||e);else if(e.isLoading())e.on("expand",
function(){e.expand(a,c,d)},e,{single:true});else if(e.isExpanded())if(a){g=e.getOwnerTree();e.expandChildren(true,g?g.singleExpand:false,c,d)}else Ext.callback(c,d||e,[e.childNodes]);else e.fireEventArgs("beforeexpand",[e,e.onChildNodesAvailable,e,[a,c,d]])},onChildNodesAvailable:function(a,c,d,e){Ext.suspendLayouts();this.set("expanded",true);this.fireEventArgs("expand",[this,this.childNodes,false]);if(c){a=this.getOwnerTree();this.expandChildren(true,a?a.singleExpand:false,d,e)}else Ext.callback(d,
e||this,[this.childNodes]);Ext.resumeLayouts(true)},expandChildren:function(a,c,d,e){for(var g=this.childNodes,h=[],i=c?Math.min(g.length,1):g.length,j,c=0;c<i;++c){j=g[c];j.isLeaf()||(h[h.length]=j)}i=h.length;for(c=0;c<i;++c)h[c].expand(a);d&&Ext.callback(d,e||this,[this.childNodes])},collapse:function(a,c,d){var e=this,g=e.isExpanded(),h=e.childNodes.length,i;if(!e.isLeaf()&&(!g&&a||e.fireEventArgs("beforecollapse",[e])!==false)){Ext.suspendLayouts();if(e.isExpanded()){if(a){a=function(){for(i=
0;i<h;i++)e.childNodes[i].setCollapsed(true)};c=c?Ext.Function.createSequence(a,c):a}e.set("expanded",false);e.fireEventArgs("collapse",[e,e.childNodes,false,c?Ext.Function.bind(c,d,[e.childNodes]):null,null]);c=null}else if(a)for(i=0;i<h;i++)e.childNodes[i].setCollapsed(true);Ext.resumeLayouts(true)}Ext.callback(c,d||e,[e.childNodes])},setCollapsed:function(a){var c=this.childNodes.length;if(!this.isLeaf()&&this.fireEventArgs("beforecollapse",[this,Ext.emptyFn])!==false){this.data.expanded=false;
this.fireEventArgs("collapse",[this,this.childNodes,false,null,null]);if(a)for(a=0;a<c;a++)this.childNodes[a].setCollapsed(true)}},collapseChildren:function(a,c,d){var e,g=this.childNodes,h=g.length,i=[],j;for(e=0;e<h;++e){j=g[e];!j.isLeaf()&&(j.isLoaded()&&j.isExpanded())&&i.push(j)}h=i.length;for(e=0;e<h;++e){j=i[e];e===h-1?j.collapse(a,c,d):j.collapse(a)}},fireEventArgs:function(b,c){var d=Ext.data.Model.prototype.fireEventArgs,e,g,h;if(a[b]){for(g=this;e!==false&&g;g=(h=g).parentNode)g.hasListeners[b]&&
(e=d.call(g,b,c));d=h.rootOf;if(e!==false&&d){(g=d.treeStore)&&g.hasListeners[b]&&(e=g.fireEventArgs.call(g,b,c));e!==false&&d.hasListeners[b]&&(e=d.fireEventArgs.call(d,b,c))}return e}return d.apply(this,arguments)},serialize:function(){var a=Ext.data.writer.Json.prototype.getRecordData(this),c=this.childNodes,d=c.length,e,g;if(d>0){e=[];for(g=0;g<d;g++)e.push(c[g].serialize());a.children=e}return a}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0);
Ext.cmd.derive("Ext.data.NodeStore",Ext.data.Store,{isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(a){a=a||{};Ext.apply(this,a);a.proxy={type:"proxy"};this.callParent([a]);if(a=this.node){this.node=null;this.setNode(a)}},getTotalCount:function(){return this.getCount()},setNode:function(a){if(this.node&&this.node!=a){this.mun(this.node,{expand:this.onNodeExpand,collapse:this.onNodeCollapse,append:this.onNodeAppend,insert:this.onNodeInsert,bulkremove:this.onBulkRemove,
remove:this.onNodeRemove,sort:this.onNodeSort,scope:this});this.node=null}if(a){Ext.data.NodeInterface.decorate(a.self);this.removeAll();this.rootVisible?this.add(a):!a.isExpanded()&&this.treeStore.autoLoad!==false&&a.expand();this.mon(a,{expand:this.onNodeExpand,collapse:this.onNodeCollapse,append:this.onNodeAppend,insert:this.onNodeInsert,bulkremove:this.onBulkRemove,remove:this.onNodeRemove,sort:this.onNodeSort,scope:this});this.node=a;if(a.isExpanded()&&a.isLoaded())this.onNodeExpand(a,a.childNodes,
true)}},onNodeSort:function(a,b){if(this.indexOf(a)!==-1||a===this.node&&!this.rootVisible&&a.isExpanded()){Ext.suspendLayouts();this.onNodeCollapse(a,b,true);this.onNodeExpand(a,b,true);Ext.resumeLayouts(true)}},onNodeExpand:function(a,b,c){var d=this.indexOf(a)+1,e=[];c||this.fireEvent("beforeexpand",a,b,d);this.handleNodeExpand(a,b,e);this.insert(d,e);c||this.fireEvent("expand",a,b)},handleNodeExpand:function(a,b,c){var d=b?b.length:0,e;if(this.recursive||a===this.node)if((a===this.node||this.isVisible(a))&&
d)for(a=0;a<d;a++){e=b[a];c.push(e);if(e.isExpanded())if(e.isLoaded())this.handleNodeExpand(e,e.childNodes,c);else{e.set("expanded",false);e.expand()}}},onBulkRemove:function(a,b){this.onNodeCollapse(a,b,true)},onNodeCollapse:function(a,b,c,d,e){var g=this.indexOf(a)+1,h,i;if(this.recursive||a===this.node){c||this.fireEvent("beforecollapse",a,b,g,d,e);if(b.length&&this.data.contains(b[0])){for(d=a;d.parentNode;)if(e=d.nextSibling){i=true;h=this.indexOf(e);break}else d=d.parentNode;i||(h=this.getCount());
this.removeAt(g,h-g)}c||this.fireEvent("collapse",a,b,g)}},onNodeAppend:function(a,b,c){if(this.isVisible(b)){if(c!==0)for(a=b.previousSibling;a.isExpanded()&&a.lastChild;)a=a.lastChild;this.insert(this.indexOf(a)+1,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,b.childNodes,true);else if(!this.treeStore.fillCount){b.set("expanded",false);b.expand()}}},onNodeInsert:function(a,b,c){a=this.indexOf(c);if(a!=-1&&this.isVisible(b)){this.insert(a,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,
b.childNodes,true);else{b.set("expanded",false);b.expand()}}},onNodeRemove:function(a,b){if(this.indexOf(b)!=-1){if(!b.isLeaf()&&b.isExpanded()){b.parentNode=b.removeContext.parentNode;b.nextSibling=b.removeContext.nextSibling;this.onNodeCollapse(b,b.childNodes,true);b.parentNode=b.nextSibling=null}this.remove(b)}},isVisible:function(a){for(a=a.parentNode;a;){if(a===this.node&&a.data.expanded)return true;if(!a.data.expanded)break;a=a.parentNode}return false}},1,0,0,0,["store.node"],0,[Ext.data,"NodeStore"],
0);Ext.cmd.derive("Ext.data.Request",Ext.Base,{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(a){Ext.apply(this,a)}},1,0,0,0,0,0,[Ext.data,"Request"],0);Ext.cmd.derive("Ext.data.SequentialIdGenerator",Ext.data.IdGenerator,{constructor:function(){this.callParent(arguments);this.parts=[this.prefix,""]},prefix:"",seed:1,generate:function(){var a=this.parts;a[1]=this.seed++;return a.join("")}},1,0,0,0,["idgen.sequential"],0,[Ext.data,"SequentialIdGenerator"],0);
Ext.cmd.derive("Ext.data.Tree",Ext.Base,{root:null,constructor:function(a){this.mixins.observable.constructor.call(this);a&&this.setRootNode(a);this.on({scope:this,idchanged:this.onNodeIdChanged,insert:this.onNodeInsert,append:this.onNodeAppend,remove:this.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(a){this.root=a;a.rootOf?a.rootOf.removeRootNode():a.parentNode&&a.parentNode.removeChild(a);a.rootOf=this;if(a.fireEventArgs("beforeappend",[null,a])!==false){a.set("root",
true);a.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});this.nodeHash={};a.fireEvent("append",null,a);a.fireEvent("rootchange",a)}return a},removeRootNode:function(){var a=this.root;a.set("root",false);a.fireEvent("remove",null,a,false);a.fireEvent("rootchange",null);a.rootOf=this.root=null;return a},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(a,b){this.registerNode(b,true)},onNodeAppend:function(a,b){this.registerNode(b,true)},onNodeRemove:function(a,
b){this.unregisterNode(b,true)},onNodeIdChanged:function(a,b,c,d){b=this.nodeHash;b[a.internalId]=a;delete b[d]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a,b){var c,d,e;this.nodeHash[a.internalId]=a;if(b===true){c=a.childNodes;d=c.length;for(e=0;e<d;e++)this.registerNode(c[e],true)}},unregisterNode:function(a,b){var c,d,e;delete this.nodeHash[a.internalId];if(b===true){c=a.childNodes;d=c.length;for(e=0;e<d;e++)this.unregisterNode(c[e],true)}},sort:function(a,b){this.getRootNode().sort(a,
b)},filter:function(a,b){this.getRootNode().filter(a,b)}},1,0,0,0,["data.tree"],[["observable",Ext.util.Observable]],[Ext.data,"Tree"],0);Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{},0,0,0,0,0,0,[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)});
Ext.cmd.derive("Ext.data.TreeStore",Ext.data.AbstractStore,{clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:!1,constructor:function(a){var b,a=Ext.apply({},a);if(!a.fields&&!this.fields){a.fields=[{name:"text",type:"string"}];b=a.defaultRootProperty||this.defaultRootProperty;b!==this.defaultRootProperty&&a.fields.push({name:b,type:"auto",defaultValue:null,persist:false})}this.callParent([a]);
this.tree=new Ext.data.Tree;this.tree.treeStore=this;this.tree.on({scope:this,remove:this.onNodeRemove,beforeexpand:this.onBeforeNodeExpand,append:this.onNodeAdded,insert:this.onNodeAdded,sort:this.onNodeSort});this.onBeforeSort();if(a=this.root){delete this.root;this.setRootNode(a)}if(Ext.isDefined(this.nodeParameter)){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.");this.nodeParam=this.nodeParameter;
delete this.nodeParameter}},setProxy:function(a){var b;if(a instanceof Ext.data.proxy.Proxy)b=Ext.isEmpty(a.getReader().root);else if(Ext.isString(a))b=true;else{b=a.reader;b=!(b&&!Ext.isEmpty(b.root))}a=this.callParent(arguments);a.idParam=this.nodeParam;if(b){b=a.getReader();b.root=this.defaultRootProperty;b.buildExtractors(true)}return a},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",false)},onBeforeNodeExpand:function(a,b,c,d){var e=this,g,h,i,
j;if(a.isLoaded()){j=[a.childNodes];d&&j.push.apply(j,d);Ext.callback(b,c||a,j)}else if(h=i=(a.raw||a[a.persistenceProperty])[(g=e.getProxy().getReader()).root]){e.fillNode(a,g.extractData(h));delete i[g.root];j=[a.childNodes];d&&j.push.apply(j,d);Ext.callback(b,c||a,j)}else if(a.isLoading())e.on("load",function(){j=[a.childNodes];d&&j.push.apply(j,d);Ext.callback(b,c||a,j)},e,{single:true});else e.read({node:a,callback:function(){delete e.lastOptions.callback;j=[a.childNodes];d&&j.push.apply(j,d);
Ext.callback(b,c||a,j)}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(a,b,c){b.unjoin(this);!b.phantom&&!c&&Ext.Array.include(this.removed,b);this.autoSync&&(!this.autoSyncSuspended&&!c)&&this.sync()},onNodeAdded:function(a,b){var c=this.getProxy().getReader(),d=b.raw||b[b.persistenceProperty],e;Ext.Array.remove(this.removed,b);b.join(this);
if(!b.isLeaf()&&!this.lazyFill)if(e=c.getRoot(d)){this.fillNode(b,c.extractData(e));delete d[c.root]}this.autoSync&&(!this.autoSyncSuspended&&(b.phantom||b.dirty))&&this.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(a,b){var c=this.model,d=c.prototype.idProperty,a=a||{};if(a.isModel)a.isModel&&!a.isNode&&Ext.data.NodeInterface.decorate(c);else{a=Ext.apply({},a);Ext.applyIf(a,{id:this.defaultRootId,text:this.defaultRootText,allowDrag:false});
if(a[d]===void 0)a[d]=this.defaultRootId;Ext.data.NodeInterface.decorate(c);a=Ext.ModelManager.create(a,c)}this.getProxy().getReader().buildExtractors(true);this.tree.setRootNode(a);if(b!==true&&!a.isLoaded()&&(this.autoLoad===true||a.isExpanded())){a.data.expanded=false;a.expand()}return a},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(a){a=a||{};a.params=a.params||{};var b=
a.node||this.tree.getRootNode();b||(b=this.setRootNode({expanded:true},true));a.id=b.getId();if(this.clearOnLoad){this.clearRemovedOnLoad&&this.clearRemoved(b);this.tree.un("remove",this.onNodeRemove,this);b.removeAll(false);this.tree.on("remove",this.onNodeRemove,this)}Ext.applyIf(a,{node:b});this.callParent([a]);this.loading&&b&&b.set("loading",true);return this},clearRemoved:function(a){var b=this.removed,c=a.getId(),d=b.length,e=d,g={},h=[],i={},j,k;if(a===this.getRootNode())this.removed=[];else{for(;e--;){a=
b[e];i[a.getId()]=a}for(e=d;e--;){for(j=a=b[e];j&&j.getId()!==c;){k=j.get("parentId");j=j.parentNode||this.getNodeById(k)||i[k]}j&&(g[a.getId()]=a)}for(e=0;e<d;e++){a=b[e];g[a.getId()]||h.push(a)}this.removed=h}},fillNode:function(a,b){for(var c=b?b.length:0,d=this.sorters,e=false,g=c&&this.sortOnLoad&&!this.remoteSort&&d&&d.items&&d.items.length,h,d=1;d<c;d++){e=b[d];h=b[d-1];if(e=e[e.persistenceProperty].index!=h[h.persistenceProperty].index)break}if(g){e&&this.sorters.insert(0,this.indexSorter);
c=new Ext.util.MixedCollection;c.addAll(b);c.sort(this.sorters.items);b=c.items;this.sorters.remove(this.indexSorter)}else e&&Ext.Array.sort(b,this.sortByIndex);a.set("loaded",true);(c=this.fillCount===0)&&this.fireEvent("beforefill",this,a,b);++this.fillCount;b.length&&a.appendChild(b,void 0,true);c&&this.fireEvent("fillcomplete",this,a,b);--this.fillCount;return b},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onIdChanged:function(a,b,c,d){this.tree.onNodeIdChanged(a,
b,c,d);this.callParent(arguments)},onProxyLoad:function(a){var b=a.wasSuccessful(),c=a.getRecords(),d=a.node;this.loading=false;d.set("loading",false);if(b){this.clearOnLoad||(c=this.cleanRecords(d,c));c=this.fillNode(d,c)}this.fireEvent("read",this,a.node,c,b);this.fireEvent("load",this,a.node,c,b);Ext.callback(a.callback,a.scope||this,[c,a,b])},cleanRecords:function(a,b){for(var c={},d=a.childNodes,e=0,g=d.length,h=[];e<g;++e)c[d[e].getId()]=true;e=0;for(g=b.length;e<g;++e){d=b[e];c[d.getId()]||
h.push(d)}return h},removeAll:function(){var a=this.getRootNode();a&&a.destroy(true);this.fireEvent("clear",this)},doSort:function(a){if(this.remoteSort)this.load();else{this.tree.sort(a,true);this.fireEvent("datachanged",this);this.fireEvent("refresh",this)}this.fireEvent("sort",this,this.sorters.getRange())}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});
Ext.cmd.derive("Ext.data.UuidGenerator",Ext.data.IdGenerator,function(){function a(a,b){var c=a.toString(16);c.length>b?c=c.substring(c.length-b):c.length<b&&(c=Ext.String.leftPad(c,b,"0"));return c}function b(a,b){var c=Math.random()*(b-a+1);return Math.floor(c)+a}function c(a){if(typeof a=="number"){var b=Math.floor(a/h);return{lo:Math.floor(a-b*h),hi:b}}return a}var d=Math.pow(2,14),e=Math.pow(2,16),g=Math.pow(2,28),h=Math.pow(2,32);return{id:"uuid",version:4,constructor:function(){this.callParent(arguments);
this.parts=[];this.init()},generate:function(){var b=this.parts,c=this.timestamp;b[0]=a(c.lo,8);b[1]=a(c.hi&65535,4);b[2]=a(c.hi>>>16&4095|this.version<<12,4);b[3]=a(128|this.clockSeq>>>8&63,2)+a(this.clockSeq&255,2);b[4]=a(this.salt.hi,4)+a(this.salt.lo,8);if(this.version==4)this.init();else{++c.lo;if(c.lo>=h){c.lo=0;++c.hi}}return b.join("-").toLowerCase()},getRecId:function(a){return a.getId()},init:function(){var a,j;if(this.version==4){this.clockSeq=b(0,d-1);a=this.salt||(this.salt={});j=this.timestamp||
(this.timestamp={});a.lo=b(0,h-1);a.hi=b(0,e-1);j.lo=b(0,h-1);j.hi=b(0,g-1)}else{this.salt=c(this.salt);this.timestamp=c(this.timestamp);this.salt.hi=this.salt.hi|256}},reconfigure:function(a){Ext.apply(this,a);this.init()}}}(),1,0,0,0,["idgen.uuid"],0,[Ext.data,"UuidGenerator"],0);
Ext.cmd.derive("Ext.data.reader.Xml",Ext.data.reader.Reader,{alternateClassName:"Ext.data.XmlReader",createAccessor:function(a){var b=this;return Ext.isEmpty(a)?Ext.emptyFn:Ext.isFunction(a)?a:function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){if(a){typeof a.normalize==="function"&&a.normalize();if(a=a.firstChild)return a.nodeValue}},getResponseData:function(a){var b=a.responseXML;if(!b){b=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:"XML data not found in the response"});
this.fireEvent("exception",this,a,b);Ext.Logger.warn("XML data not found in the response");return b}return this.readRecords(b)},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.root;if(!c||b&&b==c)return a;if(Ext.DomQuery.isXml(a))return Ext.DomQuery.selectNode(c,a)},extractData:function(a){var b=this.record,a=b!=a.nodeName?Ext.DomQuery.select(b,a):[a];return this.callParent([a])},getAssociatedDataRoot:function(a,b){return Ext.DomQuery.select(b,a)[0]},readRecords:function(a){Ext.isArray(a)&&
(a=a[0]);this.xmlData=a;return this.callParent([a])},createFieldAccessExpression:function(a,b,c){var d=this.namespace,a=a.mapping||(d?d+"|":"")+a.name;return typeof a==="function"?b+".mapping("+c+", this)":'me.getNodeValue(Ext.DomQuery.selectNode("'+a+'", '+c+"))"}},0,0,0,0,["reader.xml"],0,[Ext.data.reader,"Xml",Ext.data,"XmlReader"],0);
Ext.cmd.derive("Ext.data.writer.Xml",Ext.data.writer.Writer,{alternateClassName:"Ext.data.XmlWriter",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(a,b){var c=[],d=0,e=b.length,g=this.documentRoot,h=this.record,i=b.length!==1,j;c.push(this.header||"");if(!g&&i)g=this.defaultDocumentRoot;for(g&&c.push("<",g,">");d<e;++d){i=b[d];c.push("<",h,">");for(j in i)i.hasOwnProperty(j)&&c.push("<",j,">",i[j],"</",j,">");c.push("</",h,">")}g&&c.push("</",
g,">");a.xmlData=c.join("");return a}},0,0,0,0,["writer.xml"],0,[Ext.data.writer,"Xml",Ext.data,"XmlWriter"],0);Ext.cmd.derive("Ext.data.XmlStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a);this.callParent([a])}},1,0,0,0,["store.xml"],0,[Ext.data,"XmlStore"],0);
Ext.cmd.derive("Ext.data.association.BelongsTo",Ext.data.association.Association,{alternateClassName:"Ext.data.BelongsToAssociation",constructor:function(a){this.callParent(arguments);var b=this.ownerModel.prototype,c=this.associatedName,d=this.getterName||"get"+c,e=this.setterName||"set"+c;Ext.applyIf(this,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"BelongsToInstance",associationKey:c.toLowerCase()});b[d]=this.createGetter();b[e]=this.createSetter()},createSetter:function(){var a=this.foreignKey,
b=this.instanceName;return function(c,d,e){var g=c&&c.isModel,h=g?c.getId():c;g?this[b]=c:this[b]instanceof Ext.data.Model&&!this.isEqual(this.get(a),h)&&delete this[b];this.set(a,h);Ext.isFunction(d)&&(d={callback:d,scope:e||this});if(Ext.isObject(d))return this.save(d)}},createGetter:function(){var a=this.associatedName,b=this.associatedModel,c=this.foreignKey,d=this.primaryKey,e=this.instanceName;return function(g,h){var g=g||{},i=this,j=i.get(c),k,l;if(g.reload===true||i[e]===void 0){l=Ext.ModelManager.create({},
a);l.set(d,j);typeof g=="function"&&(g={callback:g,scope:h||i});k=g.success;g.success=function(a){i[e]=a;k&&k.apply(this,arguments)};b.load(j,g);i[e]=l}else{l=i[e];j=[l];h=h||g.scope||i;Ext.callback(g,h,j);Ext.callback(g.success,h,j);Ext.callback(g.failure,h,j);Ext.callback(g.callback,h,j)}return l}},read:function(a,b,c){a[this.instanceName]=b.read([c]).records[0]}},1,0,0,0,["association.belongsto"],0,[Ext.data.association,"BelongsTo",Ext.data,"BelongsToAssociation"],0);
Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,
"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,
"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:"sheep fish series species money rice information equipment grass mud offspring deer means".split(" "),singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,
a)!=-1},pluralize:function(a){if(this.isTransnumeral(a))return a;var b=this.plurals,c=b.length,d,e,g;for(g=0;g<c;g++){d=b[g];e=d[0];if(e==a||e.test&&e.test(a))return a.replace(e,d[1])}return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b=this.singulars,c=b.length,d,e,g;for(g=0;g<c;g++){d=b[g];e=d[0];if(e==a||e.test&&e.test(a))return a.replace(e,d[1])}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=
b%100;if(11<=c&&c<=13)return a+"th";switch(b%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",
curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a){this.plural(b,a[b]);this.singular(a[b],b)}});
Ext.cmd.derive("Ext.data.association.HasMany",Ext.data.association.Association,{alternateClassName:"Ext.data.HasManyAssociation",constructor:function(a){var b,c;this.callParent(arguments);this.name=this.name||Ext.util.Inflector.pluralize(this.associatedName.toLowerCase());b=this.ownerModel.prototype;c=this.name;Ext.applyIf(this,{storeName:c+"Store",foreignKey:this.ownerName.toLowerCase()+"_id"});b[c]=this.createStore()},createStore:function(){var a=this.associatedModel,b=this.storeName,c=this.foreignKey,
d=this.primaryKey,e=this.filterProperty,g=this.autoLoad,h=this.storeConfig||{};return function(){var i,j={};if(this[b]===void 0){i=e?{property:e,value:this.get(e),exactMatch:true}:{property:c,value:this.get(d),exactMatch:true};j[c]=this.get(d);i=Ext.apply({},h,{model:a,filters:[i],remoteFilter:false,modelDefaults:j,disableMetaChangeEvent:true});this[b]=Ext.data.AbstractStore.create(i);g&&this[b].load()}return this[b]}},read:function(a,b,c){var d=a[this.name](),e;d.add(b.read(c).records);if(b=this.associatedModel.prototype.associations.findBy(function(b){return b.type===
"belongsTo"&&b.associatedName===a.$className})){d=d.data.items;c=d.length;for(e=0;e<c;e++)d[e][b.instanceName]=a}}},1,0,0,0,["association.hasmany"],0,[Ext.data.association,"HasMany",Ext.data,"HasManyAssociation"],0);
Ext.cmd.derive("Ext.data.association.HasOne",Ext.data.association.Association,{alternateClassName:"Ext.data.HasOneAssociation",constructor:function(a){this.callParent(arguments);var b=this.ownerModel.prototype,c=this.associatedName,d=this.getterName||"get"+c,e=this.setterName||"set"+c;Ext.applyIf(this,{name:c,foreignKey:c.toLowerCase()+"_id",instanceName:c+"HasOneInstance",associationKey:c.toLowerCase()});b[d]=this.createGetter();b[e]=this.createSetter()},createSetter:function(){var a=this.foreignKey,
b=this.instanceName;return function(c,d,e){var g=c&&c.isModel,h=g?c.getId():c;g?this[b]=c:this[b]instanceof Ext.data.Model&&!this.isEqual(this.get(a),h)&&delete this[b];this.set(a,h);Ext.isFunction(d)&&(d={callback:d,scope:e||this});if(Ext.isObject(d))return this.save(d)}},createGetter:function(){var a=this.associatedName,b=this.associatedModel,c=this.foreignKey,d=this.primaryKey,e=this.instanceName;return function(g,h){var g=g||{},i=this,j=i.get(c),k,l;if(g.reload===true||i[e]===void 0){l=Ext.ModelManager.create({},
a);l.set(d,j);typeof g=="function"&&(g={callback:g,scope:h||i});k=g.success;g.success=function(a){i[e]=a;k&&k.apply(this,arguments)};b.load(j,g);i[e]=l}else{l=i[e];j=[l];h=h||g.scope||i;Ext.callback(g,h,j);Ext.callback(g.success,h,j);Ext.callback(g.failure,h,j);Ext.callback(g.callback,h,j)}return l}},read:function(a,b,c){var d=this.associatedModel.prototype.associations.findBy(function(b){return b.type==="belongsTo"&&b.associatedName===a.$className}),b=b.read([c]).records[0];a[this.instanceName]=
b;d&&(b[d.instanceName]=a)}},1,0,0,0,["association.hasone"],0,[Ext.data.association,"HasOne",Ext.data,"HasOneAssociation"],0);
Ext.cmd.derive("Ext.data.proxy.WebStorage",Ext.data.proxy.Client,{alternateClassName:"Ext.data.WebStorageProxy",id:void 0,constructor:function(a){this.callParent(arguments);this.cache={};this.id=this.id||(this.store?this.store.storeId:void 0);this.initialize()},create:function(a,b,c){var d=a.records,e=d.length,g=this.getIds(),h,i,j;a.setStarted();if(this.isHierarchical===void 0)(this.isHierarchical=!!d[0].isNode)&&this.getStorageObject().setItem(this.getTreeKey(),true);for(j=0;j<e;j++){i=d[j];if(i.phantom){i.phantom=
false;h=this.getNextId()}else h=i.getId();this.setRecord(i,h);i.commit();g.push(h)}this.setIds(g);a.setCompleted();a.setSuccessful();typeof b=="function"&&b.call(c||this,a)},read:function(a,b,c){var d=[],e=0,g=true,h=this.model,i,j,k,l,m;a.setStarted();if(this.isHierarchical)d=this.getTreeData();else{i=this.getIds();j=i.length;if(m=a.id){l=this.getRecord(m);l!==null&&(k=new h(l,m,l));k?d.push(k):g=false}else for(;e<j;e++){m=i[e];l=this.getRecord(m);d.push(new h(l,m,l))}}g&&a.setSuccessful();a.setCompleted();
a.resultSet=Ext.create("Ext.data.ResultSet",{records:d,total:d.length,loaded:true});typeof b=="function"&&b.call(c||this,a)},update:function(a,b,c){var d=a.records,e=d.length,g=this.getIds(),h,i;a.setStarted();for(i=0;i<e;i++){h=d[i];this.setRecord(h);h.commit();h=h.getId();h!==void 0&&Ext.Array.indexOf(g,h)==-1&&g.push(h)}this.setIds(g);a.setCompleted();a.setSuccessful();typeof b=="function"&&b.call(c||this,a)},destroy:function(a,b,c){var d=a.records,e=this.getIds(),g=e.length,h=[],i={},j=d.length;
for(a.setStarted();j--;)Ext.apply(i,this.removeRecord(d[j]));for(j=0;j<g;j++){d=e[j];i[d]||h.push(d)}this.setIds(h);a.setCompleted();a.setSuccessful();typeof b=="function"&&b.call(c||this,a)},getRecord:function(a){var b=this.cache,c=!b[a]?Ext.decode(this.getStorageObject().getItem(this.getRecordKey(a))):b[a];if(!c)return null;b[a]=c;c[this.model.prototype.idProperty]=a;return c},setRecord:function(a,b){b?a.setId(b):b=a.getId();for(var c=a.data,d={},e=this.model.prototype.fields.items,g=e.length,h=
0,i,j;h<g;h++){i=e[h];j=i.name;i.persist&&(d[j]=c[j])}delete d[this.model.prototype.idProperty];a.isNode&&a.get("depth")===1&&delete d.parentId;c=this.getStorageObject();e=this.getRecordKey(b);this.cache[b]=d;c.removeItem(e);c.setItem(e,Ext.encode(d))},removeRecord:function(a){var b=a.getId(),c={};c[b]=a;this.getStorageObject().removeItem(this.getRecordKey(b));delete this.cache[b];if(a.childNodes){b=a.childNodes;for(a=b.length;a--;)Ext.apply(c,this.removeRecord(b[a]))}return c},getRecordKey:function(a){a.isModel&&
(a=a.getId());return Ext.String.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var a=(this.getStorageObject().getItem(this.id)||"").split(","),b=this.model,c=a.length,b=b.prototype.fields.get(b.prototype.idProperty).type.type==="string",d;if(c==1&&a[0]==="")a=[];else for(d=0;d<c;d++)a[d]=b?a[d]:+a[d];return a},setIds:function(a){var b=this.getStorageObject(),
a=a.join(",");b.removeItem(this.id);Ext.isEmpty(a)||b.setItem(this.id,a)},getNextId:function(){var a=this.getStorageObject(),b=this.getRecordCounterKey(),c=this.model,c=c.prototype.fields.get(c.prototype.idProperty).type.type==="string",d;d=this.idGenerator.generate();a.setItem(b,d);c||(d=+d);return d},getTreeData:function(){for(var a=this.getIds(),b=a.length,c=[],d={},e=[],g=0,h=this.model,i=h.prototype.idProperty,j,k,l,m;g<b;g++){l=a[g];j=this.getRecord(l);c.push(j);d[l]=j;j.parentId||e.push(j)}a=
e.length;Ext.Array.sort(c,this.sortByParentId);for(g=a;g<b;g++){j=c[g];l=j.parentId;if(!k||k[i]!==l){k=d[l];k.children=m=[]}m.push(j)}for(g=b;g--;){j=c[g];if(!j.children&&!j.leaf)j.loaded=true}for(g=a;g--;){j=e[g];e[g]=new h(j,j[i],j)}return e},sortByParentId:function(a,b){return(a.parentId||0)-(b.parentId||0)},initialize:function(){var a=this.getStorageObject(),b=+a.getItem(this.getRecordCounterKey());a.setItem(this.id,a.getItem(this.id)||"");if(a.getItem(this.getTreeKey()))this.isHierarchical=true;
this.idGenerator=new Ext.data.SequentialIdGenerator({seed:b?b+1:1})},clear:function(){var a=this.getStorageObject(),b=this.getIds(),c=b.length,d;for(d=0;d<c;d++)a.removeItem(this.getRecordKey(b[d]));a.removeItem(this.getRecordCounterKey());a.removeItem(this.getTreeKey());a.removeItem(this.id);this.cache={}},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,"WebStorage",Ext.data,"WebStorageProxy"],0);
Ext.cmd.derive("Ext.data.proxy.LocalStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}},0,0,0,0,["proxy.localstorage"],0,[Ext.data.proxy,"LocalStorage",Ext.data,"LocalStorageProxy"],0);
Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:!0,batchActions:!1,buildUrl:function(a){var b=a.operation,c=(b.records||[])[0],d=this.format,e=this.getUrl(a),b=c?c.getId():b.id;if(this.appendId&&this.isValidId(b)){e.match(/\/$/)||(e=e+"/");e=e+b}if(d){e.match(/\.$/)||(e=e+".");e=e+d}a.url=e;return this.callParent(arguments)},isValidId:function(a){return a||a===0}},0,0,
0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0);Ext.cmd.derive("Ext.data.proxy.SessionStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}},0,0,0,0,["proxy.sessionstorage"],0,[Ext.data.proxy,"SessionStorage",Ext.data,"SessionStorageProxy"],0);
Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,
setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0);
Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){Ext.apply(this,a);this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");this.dragRegion=new Ext.util.Region(0,0,0,0);this.el&&this.initEl(this.el);this.mixins.observable.constructor.call(this);this.disabled&&this.disable()},initEl:function(a){this.el=Ext.get(a);this.delegate=(this.handle=Ext.get(this.delegate))?void 0:
this.delegate;if(!this.handle)this.handle=this.el;this.handleListeners={scope:this,delegate:this.delegate,mousedown:this.onMouseDown};(this.trackOver||this.overCls)&&Ext.apply(this.handleListeners,{mouseover:this.onMouseOver,mouseout:this.onMouseOut});this.mon(this.handle,this.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){this.active&&this.endDrag({});this.clearListeners();this.mun(this.handle,this.handleListeners);this.el=this.handle=
null},onMouseOver:function(a,b){if(!this.disabled&&(Ext.EventManager.contains(a)||this.delegate)){this.mouseIsOut=false;this.overCls&&this.el.addCls(this.overCls);this.fireEvent("mouseover",this,a,this.delegate?a.getTarget(this.delegate,b):this.handle)}},onMouseOut:function(a){if(this.mouseIsDown)this.mouseIsOut=true;else{this.overCls&&this.el.removeCls(this.overCls);this.fireEvent("mouseout",this,a)}},onMouseDown:function(a,b){var c;if(!this.disabled&&!a.dragTracked){this.dragTarget=this.delegate?
b:this.handle.dom;this.startXY=this.lastXY=a.getXY();this.startRegion=Ext.fly(this.dragTarget).getRegion();if(!(this.fireEvent("mousedown",this,a)===false||this.fireEvent("beforedragstart",this,a)===false||this.onBeforeStart(a)===false)){this.mouseIsDown=true;a.dragTracked=true;c=this.el.dom;Ext.isIE&&c.setCapture&&c.setCapture();this.preventDefault!==false&&a.preventDefault();Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart)this.timer=
Ext.defer(this.triggerStart,this.autoStart===true?1E3:this.autoStart,this,[a])}}},onMouseMove:function(a){var b=a.getXY(),c=this.startXY;a.preventDefault();this.lastXY=b;if(!this.active)if(Math.max(Math.abs(c[0]-b[0]),Math.abs(c[1]-b[1]))>this.tolerance)this.triggerStart(a);else return;if(this.fireEvent("mousemove",this,a)===false)this.onMouseUp(a);else{this.onDrag(a);this.fireEvent("drag",this,a)}},onMouseUp:function(a){this.mouseIsDown=false;if(this.mouseIsOut){this.mouseIsOut=false;this.onMouseOut(a)}a.preventDefault();
Ext.isIE&&document.releaseCapture&&document.releaseCapture();this.fireEvent("mouseup",this,a);this.endDrag(a)},endDrag:function(a){var b=this.active;Ext.getDoc().un({mousemove:this.onMouseMove,mouseup:this.onMouseUp,selectstart:this.stopSelect,scope:this});this.clearStart();this.active=false;if(b){this.onEnd(a);this.fireEvent("dragend",this,a)}this._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(a);this.fireEvent("dragstart",
this,a)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;if(!this._constrainRegion)this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion()}else if(!this._constrainRegion)this._constrainRegion=
this.getDragCt().getViewRegion();return this._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var a=this.getXY(a),b=this.startXY;return[a[0]-b[0],a[1]-b[1]]},constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();if(!d)return b;c.x=c.left=c[0]=c.right=b[0];c.y=c.top=c[1]=c.bottom=b[1];c.constrainTo(d);return[c.left,c.top]},dragTarget:function(a,b){var c=a.startXY,d=a.startRegion.copy(),e=a.getConstrainRegion();
if(!e)return b;d.translateBy(b[0]-c[0],b[1]-c[1]);if(d.right>e.right){b[0]=b[0]+(c=e.right-d.right);d.left=d.left+c}d.left<e.left&&(b[0]=b[0]+(e.left-d.left));if(d.bottom>e.bottom){b[1]=b[1]+(c=e.bottom-d.bottom);d.top=d.top+c}d.top<e.top&&(b[1]=b[1]+(e.top-d.top));return b}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0);
Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(a,b){var c=this.containerScroll;this.callParent([a,b]);if(c){a=this.scrollEl||a;a=Ext.get(a);if(Ext.isObject(c))a.ddScrollConfig=c;Ext.dd.ScrollManager.register(a)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();
this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0);
Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:!0,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(){var a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},
doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,c=a.el.ddScrollConfig,c=c?c.increment:this.increment;this.animate?b.scroll(a.dir,c,true,this.animDuration,this.triggerRefresh):b.scroll(a.dir,c)&&this.triggerRefresh()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id);a.id=0;a.el=null;a.dir=""},startProc:function(a,b){this.clearProc();this.proc.el=a;this.proc.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:void 0,d=a.ddScrollConfig&&a.ddScrollConfig.frequency?
a.ddScrollConfig.frequency:this.frequency;if(c===void 0||this.ddmInstance.dragCurrent.ddGroup==c)this.proc.id=setInterval(this.doScroll,d)},onFire:function(a,b){if(!b&&this.ddmInstance.dragCurrent){if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}a.getXY();var c=a.getPoint(),d=this.proc,e=this.els,g,h,i,j;for(g in e){h=e[g];i=h._region;j=h.ddScrollConfig?h.ddScrollConfig:this;if(i&&i.contains(c)&&h.isScrollable()){if(i.bottom-
c.y<=j.vthresh){d.el!=h&&this.startProc(h,"down");return}if(i.right-c.x<=j.hthresh){d.el!=h&&this.startProc(h,"left");return}if(c.y-i.top<=j.vthresh){d.el!=h&&this.startProc(h,"up");return}if(c.x-i.left<=j.hthresh){d.el!=h&&this.startProc(h,"right");return}}}this.clearProc()}},register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.register(a[b]);else{a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.unregister(a[b]);else{a=
Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:0.4,ddGroup:void 0,refreshCache:function(){var a=this.els,b;for(b in a)if(typeof a[b]=="object")a[b]._region=a[b].getRegion()}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0);
Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(a,b){this.el=Ext.get(a);Ext.apply(this,b);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){this.overClass&&this.el.addCls(this.overClass);return this.dropAllowed},notifyOver:function(){return this.dropAllowed},
notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){return false},destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0);
Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,b){if(typeof a=="string")return a;var c=a.id;if(!c&&b!==false){c="extdd-"+ ++this.autoIdSeed;a.id=c}return c},register:function(a,b){b=b||{};typeof a=="string"&&(a=document.getElementById(a));b.ddel=a;this.elements[this.getId(a)]=b;b.isHandle!==false&&(this.handles[b.ddel.id]=b);if(b.handles){var c=b.handles,d,e;d=0;for(e=c.length;d<e;d++)this.handles[this.getId(c[d])]=
b}},unregister:function(a){var a=this.getId(a,false),b=this.elements[a],c;if(b){delete this.elements[a];if(b.handles){a=b.handles;b=0;for(c=a.length;b<c;b++)delete this.handles[this.getId(a[b],false)]}}},getHandle:function(a){if(typeof a!="string")a=a.id;return this.handles[a]},getHandleFromEvent:function(a){return(a=a.getTarget())?this.handles[a.id]:null},getTarget:function(a){if(typeof a!="string")a=a.id;return this.elements[a]},getTargetFromEvent:function(a){return(a=a.getTarget())?this.elements[a.id]||
this.handles[a.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0);
Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return false},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return false},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,
a,b,c);this.lastOverNode=null}return this.onContainerOver(a,b,c)}if(this.lastOverNode!=d){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,a,b,c);this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,b,c);this.lastOverNode=null}},notifyDrop:function(a,b,c){var d=this.getTargetFromEvent(b),d=d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,b,c);if(this.lastOverNode){this.onNodeOut(this.lastOverNode,
a,b,c);this.lastOverNode=null}return d},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0);
Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(a){var b=this.getKey(a);if(!this.map[b]){++this.length;this.items.push(a);this.map[b]=a}return a},clear:function(){var a=this.items;this.items=[];this.map={};this.length=0;return a},contains:function(a){return this.map.hasOwnProperty(this.getKey(a))},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b=this.getKey(a),c=this.items,d;if(this.map[b]){d=Ext.Array.indexOf(c,
a);Ext.Array.erase(c,d,1);delete this.map[b];--this.length}return a}},1,0,0,0,0,0,[Ext.util,"Queue"],0);
Ext.cmd.derive("Ext.layout.ClassList",Ext.Base,function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(a){if(!this.map[a]){this.map[a]=true;this.classes.push(a);if(!this.dirty){this.dirty=true;this.owner.markDirty()}}},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},
remove:function(a){if(this.map[a]){delete this.map[a];this.classes=Ext.Array.filter(this.classes,function(b){return b!=a});if(!this.dirty){this.dirty=true;this.owner.markDirty()}}},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){if(!e[a])return true;delete d.map[a];if(!d.dirty){d.dirty=true;d.owner.markDirty()}return false})}}}(),1,0,0,0,0,0,[Ext.layout,"ClassList"],0);
Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(a){var b=
Ext.layout.SizeModel.sizeModels,c=b.configured,b=b.shrinkWrap,d,e,g,h,i,j,k,l;Ext.apply(this,a);d=this.el;this.id=d.id;this.flushedProps={};this.props=a={};this.styles={};h=this.target;if(h.isComponent){this.wrapsComponent=true;this.framing=h.frameSize||null;this.isComponentChild=h.ownerLayout&&h.ownerLayout.isComponentLayout;d=h.lastBox;if((e=h.ownerCt)&&(g=e.el&&this.context.items[e.el.id]))this.ownerCtContext=g;this.sizeModel=e=h.getSizeModel(g&&g.widthModel.pairsByHeightOrdinal[g.heightModel.ordinal]);
this.widthModel=g=e.width;this.heightModel=k=e.height;if(d&&d.invalid===false){i=h.width===(e=d.width);j=h.height===(h=d.height);g===b&&k===b?l=true:g===c&&i&&(l=k===b||k===c&&j);if(l){this.optOut=true;a.width=e;a.height=h}}}else d=d.lastBox;this.lastBox=d},init:function(a,b){var c=this.props,d=this.dirty,e=this.ownerCtContext,g=this.target.ownerLayout,h=!this.state,i=a||h,j,k,l,m,n=this.heightModel,p=this.widthModel,o=0;this.dirty=this.invalid=false;this.props={};this.remainingChildDimensions=0;
if(this.boxChildren)this.boxChildren.length=0;if(!h){this.clearAllBlocks("blocks");this.clearAllBlocks("domBlocks")}if(!this.wrapsComponent)return i;m=this.target;this.state={};if(h){m.beforeLayout&&m.beforeLayout!==Ext.emptyFn&&m.beforeLayout();if(!e&&(j=m.ownerCt))e=this.context.items[j.el.id];if(e){this.ownerCtContext=e;this.isBoxParent=m.ownerLayout.isItemBoxParent(this)}else this.isTopLevel=true;this.frameBodyContext=this.getEl("frameBody")}else{e=this.ownerCtContext;this.isTopLevel=!e;j=this.children;
k=0;for(l=j.length;k<l;++k)j[k].init(true)}this.hasRawContent=!(m.isContainer&&m.items.items.length>0);if(a){this.widthModel=this.heightModel=null;m=m.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]);if(h)this.sizeModel=m;this.widthModel=m.width;this.heightModel=m.height;if(e&&!this.isComponentChild)e.remainingChildDimensions=e.remainingChildDimensions+2}else if(c){this.recoverProp("x",c,d);this.recoverProp("y",c,d);this.widthModel.calculated?this.recoverProp("width",c,d):
"width"in c&&++o;this.heightModel.calculated?this.recoverProp("height",c,d):"height"in c&&++o;if(e&&!this.isComponentChild)e.remainingChildDimensions=e.remainingChildDimensions+o}if(c&&g&&g.manageMargins){this.recoverProp("margin-top",c,d);this.recoverProp("margin-right",c,d);this.recoverProp("margin-bottom",c,d);this.recoverProp("margin-left",c,d)}if(b){c=b.heightModel;(d=b.widthModel)&&c&&p&&n&&p.shrinkWrap&&n.shrinkWrap&&d.constrainedMax&&c.constrainedMin&&(c=null);if(d)this.widthModel=d;if(c)this.heightModel=
c;b.state&&Ext.apply(this.state,b.state)}return i},initContinue:function(a){var b=this.ownerCtContext,c=this.widthModel,d=this.target.getHierarchyState();c.fixed?d.inShrinkWrapTable=false:delete d.inShrinkWrapTable;if(a)if(b&&c.shrinkWrap)(b=b.isBoxParent?b:b.boxParent)&&b.addBoxChild(this);else if(c.natural)this.boxParent=b;return a},initDone:function(a){var b=this.props,c=this.state;if(this.remainingChildDimensions===0)b.containerChildrenSizeDone=true;if(a)b.containerLayoutDone=true;if(this.boxChildren&&
this.boxChildren.length&&this.widthModel.shrinkWrap){this.el.setWidth(1E4);c.blocks=(c.blocks||0)+1}},initAnimation:function(){var a=this.target,b=this.ownerCtContext;if(b&&b.isTopLevel)this.animatePolicy=a.ownerLayout.getAnimatePolicy(this);else if(!b&&a.isCollapsingOrExpanding&&a.animCollapse)this.animatePolicy=a.componentLayout.getAnimatePolicy(this);this.animatePolicy&&this.context.queueAnimation(this)},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},
addBlock:function(a,b,c){a=this[a]||(this[a]={});c=a[c]||(a[c]={});if(!c[b.id]){c[b.id]=b;++b.blockCount;++this.context.blockCount}},addBoxChild:function(a){var b;b=a.widthModel;a.boxParent=this;a.measuresBox=b.shrinkWrap?a.hasRawContent:b.natural;if(a.measuresBox)(b=this.boxChildren)?b.push(a):this.boxChildren=[a]},addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;if(c!==void 0){a.left=c+"px";++e}if(d!==void 0){a.top=d+"px";++e}return e},addTrigger:function(a,b){var c=b?"domTriggers":"triggers",
d=this[c]||(this[c]={}),c=this.context,e=c.currentLayout,d=d[a]||(d[a]={});if(!d[e.id]){d[e.id]=e;++e.triggerCount;d=c.triggers[b?"dom":"data"];(d[e.id]||(d[e.id]=[])).push({item:this,prop:a});this.props[a]!==void 0&&(!b||!(this.dirty&&a in this.dirty))&&++e.firedTriggers}},boxChildMeasured:function(){var a=this.state;if((a.boxesMeasured=(a.boxesMeasured||0)+1)==this.boxChildren.length){a.clearBoxWidth=1;++this.context.progressCount;this.markDirty()}},borderNames:["border-top-width","border-right-width",
"border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){a=a.getStyles(a.borderNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(a){a=a.getStyles(a.marginNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(a){a=
(a.frameBodyContext||a).getStyles(a.paddingNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b=this[a],c;if(b)for(c in b)this.clearBlocks(a,c)},clearBlocks:function(a,b){var c=this[a],d=c&&c[b],e,g;if(d){delete c[b];c=this.context;for(g in d){e=d[g];--c.blockCount;!--e.blockCount&&(!e.pending&&!e.done)&&c.queueLayout(e)}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,
b){this.addBlock("domBlocks",a,b)},fireTriggers:function(a,b){var c=this[a],c=c&&c[b],d=this.context,e,g;if(c)for(g in c){e=c[g];++e.firedTriggers;!e.done&&(!e.blockCount&&!e.pending)&&d.queueLayout(e)}},flush:function(){var a=this.dirty,b=this.state,c=this.el;this.dirtyCount=0;this.classList&&this.classList.dirty&&this.classList.flush();if("attributes"in this){c.set(this.attributes);delete this.attributes}if("innerHTML"in this){c.innerHTML=this.innerHTML;delete this.innerHTML}if(b&&b.clearBoxWidth){b.clearBoxWidth=
0;this.el.setStyle("width",null);--b.blocks||this.context.queueItemLayouts(this)}if(a){delete this.dirty;this.writeProps(a,true)}},flushAnimations:function(){var a=this,b=a.previousSize,c,d,e,g,h,i,j,k,l;if(b){c=a.target;(d=c.layout&&c.layout.animate)&&(e=Ext.isNumber(d)?d:d.duration);g=Ext.Object.getKeys(a.animatePolicy);d=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},d);h=e=0;for(i=g.length;h<i;h++){j=g[h];k=b[j];l=a.peek(j);if(k!=l){j=a.translateProps[j]||j;d.from[j]=
k;d.to[j]=l;++e}}if(e){a.isCollapsingOrExpanding===1?c.componentLayout.undoLayout(a):a.writeProps(d.from);a.el.animate(d);Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){if(a.isCollapsingOrExpanding===1){c.componentLayout.redoLayout(a);c.afterCollapse(true)}else a.isCollapsingOrExpanding===2&&c.afterExpand(true)}})}}},getBorderInfo:function(){var a=this.borderInfo;if(!a)this.borderInfo=a=this.checkCache("borderInfo");return a},getClassList:function(){return this.classList||(this.classList=
new Ext.layout.ClassList(this))},getEl:function(a,b){var c,d,e;if(a){if(a.dom)d=a;else{c=this.target;b&&(c=b);d=c[a];if(typeof d=="function"){d=d.call(c);if(d===this.el)return this}}d&&(e=this.context.getEl(this,d))}return e||null},getFrameInfo:function(){var a=this.frameInfo,b;if(!a){a=this.framing;b=this.getBorderInfo();this.frameInfo=a=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b}return a},getMarginInfo:function(){var a=
this.marginInfo,b,c,d,e;if(!a){if(this.wrapsComponent){b=this.target;e=(d=b.ownerLayout)?d.id:null;c=d&&d.manageMargins;(a=b.margin$)&&a.ownerId!==e&&(a=null);if(!a){a=this.parseMargins(b,b.margin)||this.checkCache("marginInfo");if(c){(c=this.parseMargins(b,b.margins,d.defaultMargins))&&(a={top:a.top+c.top,right:a.right+c.right,bottom:a.bottom+c.bottom,left:a.left+c.left});this.setProp("margin-top",0);this.setProp("margin-right",0);this.setProp("margin-bottom",0);this.setProp("margin-left",0)}a.ownerId=
e;b.margin$=a}a.width=a.left+a.right;a.height=a.top+a.bottom}else a=this.checkCache("marginInfo");this.marginInfo=a}return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this.paddingInfo;if(!a)this.paddingInfo=a=this.checkCache("paddingInfo");return a},getProp:function(a){var b=this.props[a];this.addTrigger(a);return b},getDomProp:function(a){var b=this.dirty&&a in this.dirty?void 0:this.props[a];this.addTrigger(a,true);return b},
getStyle:function(a){var b=this.styles,c,d;if(a in b)d=b[a];else{c=this.styleInfo[a];d=this.el.getStyle(a);c&&c.parseInt&&(d=parseInt(d,10)||0);b[a]=d}return d},getStyles:function(a,b){var c=this.styles,d={},e=0,g=a.length,h,i,j,k,l,m,b=b||a;for(h=0;h<g;++h){k=a[h];if(k in c){d[b[h]]=c[k];++e;if(h&&e==1){i=a.slice(0,h);j=b.slice(0,h)}}else if(e){(i||(i=[])).push(k);(j||(j=[])).push(b[h])}}if(e<g){i=i||a;j=j||b;g=this.styleInfo;l=this.el.getStyle(i);for(h=i.length;h--;){k=i[h];e=g[k];m=l[k];e&&e.parseInt&&
(m=parseInt(m,10)||0);d[j[h]]=m;c[k]=m}}return d},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){++this.dirtyCount==1&&this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,b,c){b===true&&(b=5);var d=
typeof b,e;if(d=="string"||d=="number")e=a.parseBox(b);else if(b||c){e={top:0,right:0,bottom:0,left:0};c&&Ext.apply(e,this.parseMargins(a,c));b&&Ext.apply(e,a.parseBox(b))}return e},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d=this.props;if(a in b){d[a]=b[a];if(c&&a in c){b=this.dirty||(this.dirty={});b[a]=c[a]}}},redo:function(a){var b,c,d;this.revertProps(this.props);if(a&&this.wrapsComponent){if(this.childItems){d=0;b=this.childItems;for(c=b.length;d<c;d++)b[d].redo(a)}d=
0;b=this.children;for(c=b.length;d<c;d++)b[d].redo()}},removeEl:function(a,b){var c,d;if(a){if(a.dom)d=a;else{c=this.target;b&&(c=b);d=c[a];if(typeof d=="function"){d=d.call(c);if(d===this.el)return this}}d&&this.context.removeEl(this,d)}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a)c.hasOwnProperty(b)&&(d[b]=a[b]);this.writeProps(d)},setAttribute:function(a,b){if(!this.attributes)this.attributes={};this.attributes[a]=b;this.markDirty()},setBox:function(a){"left"in a&&this.setProp("x",
a.left);"top"in a&&this.setProp("y",a.top);this.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return this.setContentWidth(a,c)+this.setContentHeight(b,c)==2},setProp:function(a,b,c){var d=typeof b;if(d=="undefined"||d==="number"&&isNaN(b))return 0;if(this.props[a]===b)return 1;this.props[a]=b;++this.context.progressCount;
if(c===false){this.fireTriggers("domTriggers",a);this.clearBlocks("domBlocks",a)}else if(c=this.styleInfo[a]){if(!this.dirty)this.dirty={};if(a=="width"||a=="height"){c=this.isBorderBoxValue;if(c===null)this.isBorderBoxValue=c=!!this.el.isBorderBox();if(!c){this.borderInfo||this.getBorderInfo();this.paddingInfo||this.getPaddingInfo()}}this.dirty[a]=b;this.markDirty()}this.fireTriggers("triggers",a);this.clearBlocks("blocks",a);return 1},setHeight:function(a,b){var c=this.target,d=this.ownerCtContext,
e;a<0&&(a=0);if(this.wrapsComponent){e=this.collapsedVert?0:c.minHeight||0;a=Ext.Number.constrain(a,e,c.maxHeight);c=this.props.height;if(!this.setProp("height",a,b))return NaN;if(d&&!this.isComponentChild&&isNaN(c))(c=--d.remainingChildDimensions)||d.setProp("containerChildrenSizeDone",true);if(d=this.frameBodyContext){c=this.getFrameInfo();d.setHeight(a-c.height,b)}}else if(!this.setProp("height",a,b))return NaN;return a},setWidth:function(a,b){var c=this.target,d=this.ownerCtContext,e;a<0&&(a=
0);if(this.wrapsComponent){e=this.collapsedHorz?0:c.minWidth||0;a=Ext.Number.constrain(a,e,c.maxWidth);c=this.props.width;if(!this.setProp("width",a,b))return NaN;if(d&&!this.isComponentChild&&isNaN(c))(c=--d.remainingChildDimensions)||d.setProp("containerChildrenSizeDone",true);if(d=this.frameBodyContext){c=this.getFrameInfo();d.setWidth(a-c.width,b)}}else if(!this.setProp("width",a,b))return NaN;return a},setSize:function(a,b,c){this.setWidth(a,c);this.setHeight(b,c)},translateProps:{x:"left",y:"top"},
undo:function(a){var b,c,d;this.revertProps(this.lastBox);if(a&&this.wrapsComponent){if(this.childItems){d=0;b=this.childItems;for(c=b.length;d<c;d++)b[d].undo(a)}d=0;b=this.children;for(c=b.length;d<c;d++)b[d].undo()}},unsetProp:function(a){var b=this.dirty;delete this.props[a];b&&delete b[a]},writeProps:function(a,b){if(a&&typeof a=="object"){var c=this.el,d={},e=0,g=this.styleInfo,h,i,j,k=a.width,l=a.height,m=this.isBorderBoxValue,n=this.target,p=Math.max,o=0,q=0,r,t;"displayed"in a&&c.setDisplayed(a.displayed);
for(i in a){if(b){this.fireTriggers("domTriggers",i);this.clearBlocks("domBlocks",i);this.flushedProps[i]=1}if((h=g[i])&&h.dom){d[i]=h.suffix&&(j=parseInt(a[i],10))?j+h.suffix:a[i];++e}}if("x"in a||"y"in a)n.isComponent?n.setPosition(a.x,a.y):e=e+this.addPositionStyles(d,a);if(!m&&(k>0||l>0)){if(!this.frameBodyContext){o=this.paddingInfo.width;q=this.paddingInfo.height}if(k){k=p(parseInt(k,10)-(this.borderInfo.width+o),0);d.width=k+"px";++e}if(l){l=p(parseInt(l,10)-(this.borderInfo.height+q),0);d.height=
l+"px";++e}}if(this.wrapsComponent&&(Ext.isIE9&&Ext.isStrict)&&((r=k!==void 0&&this.hasOverflowY)||(t=l!==void 0&&this.hasOverflowX))){g=this.isAbsolute;if(g===void 0){g=false;i=this.target.getTargetEl();h=i.getStyle("position");if(h=="absolute"){h=i.getStyle("box-sizing");g=h=="border-box"}this.isAbsolute=g}if(g){g=Ext.getScrollbarSize();if(r){k=parseInt(k,10)+g.width;d.width=k+"px";++e}if(t){l=parseInt(l,10)+g.height;d.height=l+"px";++e}}}e&&c.setStyle(d)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],
function(){var a={dom:true,parseInt:true,suffix:"px"},b={dom:true},c={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}});
Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,constructor:function(a){Ext.apply(this,a);this.items={};this.layouts={};this.calcCount=this.flushCount=this.cycleCount=this.blockCount=0;this.animateQueue=this.newQueue();this.completionQueue=this.newQueue();this.finalizeQueue=this.newQueue();this.finishQueue=this.newQueue();this.flushQueue=this.newQueue();this.invalidateData={};this.layoutQueue=this.newQueue();this.invalidQueue=[];this.triggers={data:{},dom:{}}},callLayout:function(a,
b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d=a,e=!a.isComponent,g=e?d.length:1,h,i,j,k,l,m,n;for(h=0;h<g;++h){e&&(a=d[h]);if(c&&a.ownerCt)(i=this.items[a.ownerCt.el.id])&&Ext.Array.remove(i.childItems,this.getCmp(a));if(!b){l=this.invalidQueue;if(j=l.length){this.invalidQueue=k=[];for(i=0;i<j;++i){m=l[i];n=m.item.target;n!=a&&!n.isDescendant(a)&&k.push(m)}}}i=a.componentLayout;this.cancelLayout(i);if(i.getLayoutItems){i=i.getLayoutItems();i.length&&this.cancelComponent(i,
true)}if(a.isContainer&&!a.collapsed){i=a.layout;this.cancelLayout(i);i=i.getVisibleItems();i.length&&this.cancelComponent(i,true)}}},cancelLayout:function(a){this.completionQueue.remove(a);this.finalizeQueue.remove(a);this.finishQueue.remove(a);this.layoutQueue.remove(a);a.running&&this.layoutDone(a);a.ownerContext=null},clearTriggers:function(a,b){var c=a.id,d=this.triggers[b?"dom":"data"],e=d&&d[c],g=e&&e.length||0,h,i;for(h=0;h<g;++h){i=e[h];d=i.item;d=b?d.domTriggers:d.triggers;delete d[i.prop][c]}},
flush:function(){var a=this.flushQueue.clear(),b=a.length,c;if(b){++this.flushCount;for(c=0;c<b;++c)a[c].flush()}},flushAnimations:function(){var a=this.animateQueue.clear(),b=a.length,c;if(b){for(c=0;c<b;c++)a[c].target.animate!==false&&a[c].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var a=this.invalidQueue,b=a&&a.length,c,d,e,g;this.invalidQueue=[];if(b){d=[];for(g=0;g<b;++g){c=(e=a[g]).item.target;if(!c.container.isDetachedBody){d.push(c);if(e.options)this.invalidateData[c.id]=
e.options}}this.invalidate(d,null)}},flushLayouts:function(a,b,c){var a=c?this[a].items:this[a].clear(),c=a.length,d,e;if(c){for(d=0;d<c;++d){e=a[d];e.running||this.callLayout(e,b)}this.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);if(!c.parent){c.parent=a;a.children.length?a.children.push(c):a.children=[c]}return c},getItem:function(a,b){var c=b.id,d=this.items;return d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,
el:b}))},handleFailure:function(){var a=this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(c in a){b=a[c];if(a.hasOwnProperty(c)){b.running=false;b.ownerContext=null}}},invalidate:function(a,b){var c=!a.isComponent,d,e,g,h,i,j,k,l,m;g=0;for(k=c?a.length:1;g<k;++g){h=c?a[g]:a;if(h.rendered&&!h.hidden){i=this.getCmp(h);l=h.componentLayout;e=!l.ownerContext;h=h.isContainer&&!h.collapsed?h.layout:null;m=this.invalidateData[i.id];delete this.invalidateData[i.id];d=i.init(b,m);m&&this.processInvalidate(m,
i,"before");l.beforeLayoutCycle&&l.beforeLayoutCycle(i);h&&h.beforeLayoutCycle&&h.beforeLayoutCycle(i);i.initContinue(d);d=true;if(l.getLayoutItems){l.renderChildren();j=l.getLayoutItems();j.length&&this.invalidate(j,true)}if(h){d=false;h.renderChildren();j=h.getVisibleItems();j.length&&this.invalidate(j,true)}i.initDone(d);this.resetLayout(l,i,e);h&&this.resetLayout(h,i,e);i.initAnimation();m&&this.processInvalidate(m,i,"after")}}this.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;
a.running=false;if(a.isComponentLayout){if(b.measuresBox)b.onBoxMeasured();b.setProp("done",true)}else b.setProp("containerLayoutDone",true);--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this.currentLayout;this.currentLayout=a.layout||null;a[c](b,a);this.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},
queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,g=b.layout,h=a[c],i=b[c];return function(c){var k=d.currentLayout;if(h){d.currentLayout=e;h.call(a.scope||a,c,a)}d.currentLayout=g;i.call(b.scope||b,c,b);d.currentLayout=k}},queueInvalidate:function(a,b){var c=[],d=this.invalidQueue,e=d.length,g,h,i,j;a.isComponent?a=this.getCmp(g=a):g=a.target;for(a.invalid=true;e--;){h=d[e];i=h.item.target;if(g.isDescendant(i))return;if(i==g){if(c=h.options){if(b){if(b.widthModel)c.widthModel=
b.widthModel;if(b.heightModel)c.heightModel=b.heightModel;(j=c.state)?b.state&&Ext.apply(j,b.state):c.state=b.state;if(b.before)c.before=this.chainFns(c,b,"before");if(b.after)c.after=this.chainFns(c,b,"after")}}else h.options=b;return}i.isDescendant(g)||c.push(h)}c.push({item:a,options:b});this.invalidQueue=c},queueItemLayouts:function(a){var a=a.isComponent?a:a.target,b=a.componentLayout;!b.pending&&(!b.invalid&&!b.done)&&this.queueLayout(b);(b=a.layout)&&(!b.pending&&!b.invalid&&!b.done)&&this.queueLayout(b)},
queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},removeEl:function(a,b){var c=b.id,d=a.children,e=this.items;d&&Ext.Array.remove(d,e[c]);delete e[c]},resetLayout:function(a,b,c){this.currentLayout=a;a.done=false;a.pending=true;a.firedTriggers=0;this.layoutQueue.add(a);if(c){this.layouts[a.id]=a;a.running=true;a.finishedLayout&&this.finishQueue.add(a);++this.remainingLayouts;++a.layoutCount;a.ownerContext=b;a.beginCount=0;a.blockCount=0;a.calcCount=0;a.triggerCount=0;a.initialized||
a.initLayout();a.beginLayout(b)}else{++a.beginCount;if(!a.running){++this.remainingLayouts;a.running=true;a.isComponentLayout&&b.unsetProp("done");this.completionQueue.remove(a);this.finalizeQueue.remove(a)}}a.beginLayoutCycle(b,c)},run:function(){var a=false,b=100;this.flushInvalidates();this.state=1;this.totalCount=this.layoutQueue.getCount();for(this.flush();(this.remainingLayouts||this.invalidQueue.length)&&b--;){this.invalidQueue.length&&this.flushInvalidates();if(this.runCycle())a=false;else if(a){if(!this.invalidQueue.length){this.state=
2;break}}else{this.flush();a=true;this.flushLayouts("completionQueue","completeLayout")}if(!this.remainingLayouts&&!this.invalidQueue.length){this.flush();this.flushLayouts("completionQueue","completeLayout");this.flushLayouts("finalizeQueue","finalizeLayout")}}return this.runComplete()},runComplete:function(){this.state=2;if(this.remainingLayouts){this.handleFailure();return false}this.flush();this.flushLayouts("finishQueue","finishedLayout",true);this.flushLayouts("finishQueue","notifyOwner");this.flush();
this.flushAnimations();return true},runCycle:function(){var a=this.layoutQueue.clear(),b=a.length,c;++this.cycleCount;for(c=this.progressCount=0;c<b;++c)this.runLayout(this.currentLayout=a[c]);this.currentLayout=null;return this.progressCount>0},runLayout:function(a){var b=this.getCmp(a.owner);a.pending=false;if(!b.state.blocks){a.done=true;++a.calcCount;++this.calcCount;a.calculate(b);if(a.done){this.layoutDone(a);a.completeLayout&&this.queueCompletion(a);a.finalizeLayout&&this.queueFinalize(a)}else!a.pending&&
(!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers))&&this.queueLayout(a)}},setItemSize:function(a,b,c){var d=a,e=1,g;if(a.isComposite){d=a.elements;e=d.length;a=d[0]}else if(!a.dom&&!a.el){e=d.length;a=d[0]}for(g=0;g<e;){a=this.get(a);a.setSize(b,c);a=d[++g]}}},1,0,0,0,0,0,[Ext.layout,"Context"],0);
Ext.cmd.derive("Ext.dom.Layer",Ext.Element,{alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a,b){var a=a||{},c=Ext.DomHelper,d=a.parentEl,d=d?Ext.getDom(d):document.body,e=a.hideMode,g=Ext.baseCSSPrefix+(a.fixed&&!Ext.isIE6&&!Ext.isIEQuirks?"fixed-layer":"layer");this.el=this;if(b)this.dom=Ext.getDom(b);if(this.dom){this.addCls(g);this.dom.parentNode||d.appendChild(this.dom)}else this.dom=c.append(d,a.dh||{tag:"div",
cls:g});if(a.preventSync)this.preventSync=true;this.id=a.id?this.dom.id=a.id:Ext.id(this.dom);Ext.Element.addToCache(this);a.cls&&this.addCls(a.cls);this.constrain=a.constrain!==false;if(e){this.setVisibilityMode(Ext.Element[e.toUpperCase()]);if(this.visibilityMode==Ext.Element.ASCLASS)this.visibilityCls=a.visibilityCls}else a.useDisplay?this.setVisibilityMode(Ext.Element.DISPLAY):this.setVisibilityMode(Ext.Element.VISIBILITY);if(a.shadow){this.shadowOffset=a.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,
mode:a.shadow,fixed:a.fixed});this.disableShadow()}else this.shadowOffset=0;this.useShim=a.shim!==false&&Ext.useShims;a.hidden===true?this.hide():this.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a,b;if(!this.useShim)return null;if(!this.shim){a=this.self.shims.shift();if(!a){a=this.createShim();a.enableDisplayMode("block");a.hide()}b=this.dom.parentNode;a.dom.parentNode!=b&&b.insertBefore(a.dom,this.dom);this.shim=a}return this.shim},
hideShim:function(){if(this.shim){this.shim.setDisplayed(false);this.self.shims.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow&&!this.shadowDisabled){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(a){if(this.shadow&&this.shadowDisabled){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;a&&this.sync(true)}},sync:function(a){var b=this.shadow,c,d,
e,g,h;if(!this.preventSync){if(!this.updating&&this.isVisible()&&(b||this.useShim)){d=this.getShim();e=this[this.localXYNames.get]();c=e[0];e=e[1];g=this.dom.offsetWidth;h=this.dom.offsetHeight;if(b&&!this.shadowDisabled){a&&!b.isVisible()?b.show(this):b.realign(c,e,g,h);if(d){a=d.getStyle("z-index");a>this.zindex&&this.shim.setStyle("z-index",this.zindex-2);d.show();if(b.isVisible()){c=b.el.getXY();d=d.dom.style;b=b.el.getSize();if(Ext.supports.CSS3BoxShadow){b.height=b.height+6;b.width=b.width+
4;c[0]=c[0]-2;c[1]=c[1]-4}d.left=c[0]+"px";d.top=c[1]+"px";d.width=b.width+"px";d.height=b.height+"px"}else{d.setSize(g,h);d[this.localXYNames.set](c,e)}}}else if(d){a=d.getStyle("z-index");a>this.zindex&&this.shim.setStyle("z-index",this.zindex-2);d.show();d.setSize(g,h);d[this.localXYNames.set](c,e)}}return this}},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){this.shadow&&
this.shadow.hide();this.hideShim()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],d=d[1],g=this.shadowOffset,h=this.dom.offsetWidth+g,i=this.dom.offsetHeight+g,j=false;if(e+h>a+c.left){e=a-h-g;j=true}if(d+i>b+c.top){d=b-i-g;j=true}if(e<c.left){e=c.left;j=true}if(d<c.top){d=c.top;j=true}if(j){Ext.Layer.superclass.setXY.call(this,[e,d]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},
setVisible:function(a,b,c,d,e){var g=this,h;h=function(){a&&g.sync(true);d&&d()};a||g.hideUnders(true);g.callParent([a,b,c,d,e]);b||h();return g},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},
setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(a,b,c,d,e){d=this.createCB(d);this.fixDisplay();this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},createCB:function(a){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();
b.sync(c);a&&a()}},setX:function(a,b,c,d,e){this.setXY([a,this.getY()],b,c,d,e);return this},setY:function(a,b,c,d,e){this.setXY([this.getX(),a],b,c,d,e);return this},setSize:function(a,b,c,d,e,g){e=this.createCB(e);this.beforeAction();this.callParent([a,b,c,d,e,g]);c||e();return this},setWidth:function(a,b,c,d,e){d=this.createCB(d);this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},setHeight:function(a,b,c,d,e){d=this.createCB(d);this.beforeAction();this.callParent([a,b,c,d,e]);
b||d();return this},setBounds:function(a,b,c,d,e,g,h,i){h=this.createCB(h);this.beforeAction();if(e)this.callParent([a,b,c,d,e,g,h,i]);else{Ext.Layer.superclass.setXY.call(this,[a,b]);Ext.Layer.superclass.setSize.call(this,c,d);h()}return this},setZIndex:function(a){this.zindex=a;this.getShim()&&this.shim.setStyle("z-index",a++);this.shadow&&this.shadow.setZIndex(a++);return this.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;b&&b.setOpacity(a)}},1,0,0,0,0,0,[Ext.dom,"Layer",Ext,
"Layer"],0);
Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(a){a&&Ext.apply(this,a);a=a.params;if(Ext.isString(a))this.params=Ext.Object.fromQueryString(a)},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;return!a.responseText&&!a.responseXML?true:this.result=this.handleResponse(a)},getUrl:function(){return this.url||
this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this.form;return{success:this.onSuccess,failure:this.onFailure,scope:this,timeout:this.timeout*1E3||a.timeout*1E3,upload:a.fileUpload?this.onSuccess:void 0}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",
Ext.form,"Action"],0);
Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(a){var a=this.processResponse(a),b=this.form;if(a===true||!a.success||!a.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;b.afterAction(this,false)}else{b.clearInvalid();b.setValues(a.data);b.afterAction(this,
true)}},handleResponse:function(a){var b=this.form.reader;if(b){a=b.read(a);b=a.records&&a.records[0]?a.records[0].data:null;return{success:a.success,data:b}}return Ext.decode(a.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0);
Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var a=this.form;if(this.clientValidation===false||a.isValid())this.doSubmit();else{this.failureType=Ext.form.action.Action.CLIENT_INVALID;a.afterAction(this,false)}},doSubmit:function(){var a=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers}),b=this.form,c=this.jsonSubmit||b.jsonSubmit,d=c?"jsonData":"params",e;if(b.hasUpload()){e=
this.buildForm();a.form=e.formEl;a.isUpload=true}else a[d]=this.getParams(c);Ext.Ajax.request(a);e&&this.cleanup(e)},cleanup:function(a){var b=a.formEl,c=a.uploadEls,a=a.uploadFields,d=a.length,e,g;for(e=0;e<d;++e){g=a[e];g.clearOnSubmit||g.restoreInput(c[e])}b&&Ext.removeNode(b)},getParams:function(a){var b=this.callParent(),a=this.form.getValues(false,false,this.submitEmptyText!==false,a);return Ext.apply({},a,b)},buildForm:function(){for(var a=[],b=this.form,c=this.getParams(),d=[],e=[],g=b.getFields().items,
h=g.length,i,j,b=0;b<h;++b){i=g[b];i.rendered&&i.isFileUpload()&&d.push(i)}for(j in c)if(c.hasOwnProperty(j)){b=c[j];if(Ext.isArray(b)){g=b.length;for(h=0;h<g;h++)a.push(this.getFieldConfig(j,b[h]))}else a.push(this.getFieldConfig(j,b))}a={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:a};if(d.length)a.encoding=a.enctype="multipart/form-data";a=Ext.DomHelper.append(Ext.getBody(),a);h=d.length;for(b=0;b<h;++b){c=d[b].extractFileInput();a.appendChild(c);
e.push(c)}return{formEl:a,uploadFields:d,uploadEls:e}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(a){var b=this.form,c=true,a=this.processResponse(a);if(a!==true&&!a.success){a.errors&&b.markInvalid(a.errors);this.failureType=Ext.form.action.Action.SERVER_INVALID;c=false}b.afterAction(this,c)},handleResponse:function(a){var b=this.form.errorReader,c,d,e;if(b){a=b.read(a);e=a.records;b=[];if(e){c=0;for(d=e.length;c<d;c++)b[c]=
e[c].data}b.length<1&&(b=null);c={success:a.success,errors:b}}else try{c=Ext.decode(a.responseText)}catch(g){c={success:false,errors:[]}}return c}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0);
Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(){var a=this.comp;this.startPosition=a.getXY();if(a.ghost&&!a.liveDrag){this.proxy=a.ghost();this.dragTarget=this.proxy.header.el}if(this.constrain||this.constrainDelegate)this.constrainTo=this.calculateConstrainRegion();a.beginDrag&&a.beginDrag()},calculateConstrainRegion:function(){var a=this.comp,b=this.initialConstrainTo,
c=a.constraintInsets,d;d=this.proxy?this.proxy.el:a.el;var e=!this.constrainDelegate&&d.shadow&&a.constrainShadow&&!d.shadowDisabled?d.shadow.getShadowSize():0;if(b instanceof Ext.util.Region)b=b.copy();else{a=Ext.fly(b);b=a.getViewRegion();b.right=b.left+a.dom.clientWidth}if(c){c=Ext.isObject(c)?c:Ext.Element.parseBox(c);b.adjust(c.top,c.right,c.bottom,c.length)}e&&b.adjust(e[0],-e[1],-e[2],e[3]);if(!this.constrainDelegate){c=Ext.fly(this.dragTarget).getRegion();d=d.getRegion();b.adjust(c.top-d.top,
c.right-d.right,c.bottom-d.bottom,c.left-d.left)}return b},onDrag:function(){var a=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp,b=this.getOffset(this.constrain||this.constrainDelegate?"dragTarget":null);a.setPagePosition(this.startPosition[0]+b[0],this.startPosition[1]+b[1])},onEnd:function(){var a=this.comp;if(!a.isDestroyed&&!a.destroying){this.proxy&&!a.liveDrag&&a.unghost();a.endDrag&&a.endDrag()}}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0);
Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,
initComponent:function(){this.frame=false;this.callParent();this.addEvents("resize","maximize","minimize","restore");this.plain&&this.addClsWithUI("plain");if(this.modal)this.ariaRole="dialog";this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a;a=this.callParent();a.tabIndex=-1;return a},getState:function(){var a=this.callParent()||{},b=!!this.maximized,c=this.ghostBox,c=(a.maximized=b)?this.restorePos:c?[c.x,c.y]:this.getPosition();Ext.apply(a,{size:b?this.restoreSize:
this.getSize(),pos:c});return a},applyState:function(a){if(a)if(this.maximized=a.maximized){this.hasSavedRestore=true;this.restoreSize=a.size;this.restorePos=a.pos}else Ext.apply(this,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]})},onRender:function(a,b){this.callParent(arguments);this.focusEl=this.el;if(this.maximizable)this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var a=this.header;this.callParent();if(this.maximized){this.maximized=false;this.maximize();
a&&a.removeCls(a.indicateDragCls)}if(this.closable){a=this.getKeyMap();a.on(27,this.onEsc,this)}else a=this.keyMap;a&&this.hidden&&a.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);this.maximized&&this.resizer.disable()},onEsc:function(a,b){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){b.stopEvent();this.close()}},beforeDestroy:function(){if(this.rendered){delete this.animateTarget;this.hide();
Ext.destroy(this.keyMap)}this.callParent()},addTools:function(){this.callParent();this.minimizable&&this.addTool({type:"minimize",handler:Ext.Function.bind(this.minimize,this,[])});if(this.maximizable){this.addTool({type:"maximize",handler:Ext.Function.bind(this.maximize,this,[])});this.addTool({type:"restore",handler:Ext.Function.bind(this.restore,this,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var a,b=this.defaultButton||this.defaultFocus;
if(b!==void 0)if(Ext.isNumber(b))a=this.query("button")[b];else if(Ext.isString(b)){b.match(this.initialAlphaNum)&&(a=this.down("#"+b));a||(a=this.down(b))}else b.focus&&(a=b);return a||this.el},onFocus:function(){var a;Ext.FocusManager&&Ext.FocusManager.enabled||(a=this.getDefaultFocus())===this?this.callParent(arguments):a.focus()},onShow:function(){this.callParent(arguments);this.expandOnShow&&this.expand(false);this.syncMonitorWindowResize();this.keyMap&&this.keyMap.enable()},doClose:function(){if(this.hidden){this.fireEvent("close",
this);this.closeAction=="destroy"&&this.destroy()}else this.hide(this.animateTarget,this.doClose,this)},afterHide:function(){this.syncMonitorWindowResize();this.keyMap&&this.keyMap.disable();this.callParent(arguments)},onWindowResize:function(){var a;if(this.maximized)this.fitContainer();else{a=this.getSizeModel();(a.width.natural||a.height.natural)&&this.updateLayout();this.doConstrain()}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?
this.isRootCfg:null)},afterCollapse:function(){var a=this.header,b=this.tools;if(a&&this.maximizable){a.suspendLayouts();b.maximize.hide();b.restore.hide();this.resumeHeaderLayout(true)}this.resizer&&this.resizer.disable();this.callParent(arguments)},afterExpand:function(){var a=this.header,b=this.tools,c;if(a){a.suspendLayouts();if(this.maximized){b.restore.show();c=true}else if(this.maximizable){b.maximize.show();c=true}this.resumeHeaderLayout(c)}this.resizer&&this.resizer.enable();this.callParent(arguments)},
maximize:function(a){var b=this,c=b.header,d=b.tools,e;if(!b.maximized){b.expand(false);if(!b.hasSavedRestore){b.restoreSize=b.getSize();b.restorePos=b.getPosition(true)}if(c){c.suspendLayouts();if(d.maximize){d.maximize.hide();e=true}if(d.restore){d.restore.show();e=true}if(b.collapseTool){b.collapseTool.hide();e=true}b.resumeHeaderLayout(e)}b.maximized=true;b.el.disableShadow();if(b.dd){b.dd.disable();c&&c.removeCls(c.indicateDragCls)}b.resizer&&b.resizer.disable();b.el.addCls(Ext.baseCSSPrefix+
"window-maximized");b.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();b.fitContainer(a=a||b.animateTarget?{callback:function(){b.fireEvent("maximize",b)}}:null);a||b.fireEvent("maximize",b)}return b},restore:function(a){var b=this,c=b.tools,d=b.header,e=b.restoreSize,g;if(b.maximized){b.hasSavedRestore=null;b.removeCls(Ext.baseCSSPrefix+"window-maximized");if(d){d.suspendLayouts();if(c.restore){c.restore.hide();g=true}if(c.maximize){c.maximize.show();g=true}if(b.collapseTool){b.collapseTool.show();
g=true}b.resumeHeaderLayout(g)}b.maximized=false;e.x=b.restorePos[0];e.y=b.restorePos[1];b.setBox(e,a=a||b.animateTarget?{callback:function(){b.el.enableShadow(true);b.fireEvent("restore",b)}}:null);b.restorePos=b.restoreSize=null;if(b.dd){b.dd.enable();d&&d.addCls(d.indicateDragCls)}b.resizer&&b.resizer.enable();b.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();if(!a){b.el.enableShadow(true);b.fireEvent("restore",b)}}return b},syncMonitorWindowResize:function(){var a=
this._monitoringResize,b=this.hidden||this.destroying||this.isDestroyed;if((this.monitorResize||this.constrain||this.constrainHeader||this.maximized)&&!b){if(!a){Ext.EventManager.onWindowResize(this.onWindowResize,this,{delay:1});this._monitoringResize=true}}else if(a){Ext.EventManager.removeResizeListener(this.onWindowResize,this);this._monitoringResize=false}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}},0,["window"],["panel","window","component","container","box"],
{panel:!0,window:!0,component:!0,container:!0,box:!0},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0);
Ext.cmd.derive("Ext.form.Labelable",Ext.Base,{autoEl:{tag:"table",cellpadding:0},childEls:"labelCell labelEl bodyEl sideErrorCell errorEl inputRow".split(" "),labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"',
'<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">',
'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",
'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">',
'<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",
hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:"beforeBodyEl afterBodyEl beforeLabelTpl afterLabelTpl beforeSubTpl afterSubTpl beforeLabelTextTpl afterLabelTextTpl labelAttrTpl".split(" "),labelableRenderProps:"allowBlank id labelAlign fieldBodyCls extraFieldBodyCls baseBodyCls clearCls labelSeparator msgTarget inputRowCls".split(" "),initLabelable:function(){var a=this.padding;if(a){this.padding=void 0;this.extraMargins=Ext.Element.parseBox(a)}if(!this.activeErrorsTpl)this.activeErrorsTpl=
this.msgTarget=="title"?this.plaintextActiveErrorsTpl:this.htmlActiveErrorsTpl;this.addCls(Ext.plainTableCls);this.addCls(this.formItemCls);this.lastActiveError="";this.addEvents("errorchange");this.enableBubble("errorchange")},trimLabelSeparator:function(){var a=this.labelSeparator,b=this.fieldLabel||"";return b.substr(b.length-1)===a?b.slice(0,-1):b},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){var a=a||"",b=this.labelSeparator,c=this.labelEl;this.fieldLabel=
a;if(this.rendered){if(Ext.isEmpty(a)&&this.hideEmptyLabel)c.parent().setDisplayed("none");else{b&&(a=this.trimLabelSeparator()+b);c.update(a);c.parent().setDisplayed("")}this.updateLayout()}},getInsertionRenderData:function(a,b){for(var c=b.length,d,e;c--;){d=b[c];if((e=this[d])&&typeof e!="string"){e.isTemplate||(e=Ext.XTemplate.getTpl(this,d));e=e.apply(a)}a[d]=e||""}return a},getLabelableRenderData:function(){var a,b=this.labelAlign==="top";if(!Ext.form.Labelable.errorIconWidth){a=Ext.getBody().createChild({style:"position:absolute",
cls:Ext.baseCSSPrefix+"form-invalid-icon"});Ext.form.Labelable.errorIconWidth=a.getWidth()+a.getMargin("l");a.remove()}a=Ext.copyTo({inFormLayout:this.ownerLayout&&this.ownerLayout.type==="form",inputId:this.getInputId(),labelOnLeft:!b,hideLabel:!this.hasVisibleLabel(),fieldLabel:this.getFieldLabel(),labelCellStyle:this.getLabelCellStyle(),labelCellAttrs:this.getLabelCellAttrs(),labelCls:this.getLabelCls(),labelStyle:this.getLabelStyle(),bodyColspan:this.getBodyColspan(),externalError:!this.autoFitErrors,
errorMsgCls:this.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},this,this.labelableRenderProps,true);this.getInsertionRenderData(a,this.labelableInsertions);return a},xhooks:{beforeRender:function(){this.setFieldDefaults(this.getHierarchyState().fieldDefaults);this.ownerLayout&&this.addCls(Ext.baseCSSPrefix+this.ownerLayout.type+"-form-item")},onRender:function(){var a,b,c={};if(this.extraMargins){a=this.el.getMargin();for(b in a)a.hasOwnProperty(b)&&(c["margin-"+b]=a[b]+this.extraMargins[b]+
"px");this.el.setStyle(c)}}},hasVisibleLabel:function(){return this.hideLabel?false:!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){return!this.hasVisibleLabel()?0:this.labelWidth+this.labelPad},getBodyColspan:function(){var a;a=this.msgTarget==="side"&&(!this.autoFitErrors||this.hasActiveError())?1:2;this.labelAlign!=="top"&&!this.hasVisibleLabel()&&a++;return a},getLabelCls:function(){var a=this.labelCls+" "+Ext.dom.Element.unselectableCls,b=this.labelClsExtra;return b?a+
" "+b:a},getLabelCellStyle:function(){return this.hideLabel||!this.getFieldLabel()&&this.hideEmptyLabel?"display:none;":""},getErrorMsgCls:function(){return this.errorMsgCls+(!(this.hideLabel||!this.fieldLabel&&this.hideEmptyLabel)&&this.labelAlign==="top"?" "+Ext.baseCSSPrefix+"lbl-top-err-icon":"")},getLabelCellAttrs:function(){var a=this.labelAlign,b="";a!=="top"&&(b='valign="top" halign="'+a+'" width="'+(this.labelWidth+this.labelPad)+'"');return b+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},
getLabelStyle:function(){var a=this.labelPad,b="";if(this.labelAlign!=="top"){this.labelWidth&&(b="width:"+this.labelWidth+"px;");a&&(b=b+("margin-right:"+a+"px;"))}return b+(this.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=
Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a,listCls:Ext.plainListCls});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var a=this.getActiveError(),b=!!a;if(a!==this.lastActiveError){this.fireEvent("errorchange",this,a);this.lastActiveError=a}if(this.rendered&&!this.isDestroyed&&!this.preventMark){this.el[b?"addCls":
"removeCls"](this.invalidCls);this.getActionEl().dom.setAttribute("aria-invalid",b);if(this.errorEl)this.errorEl.dom.innerHTML=a}},setFieldDefaults:function(a){for(var b in a)this.hasOwnProperty(b)||(this[b]=a[b])}},0,0,0,0,0,0,[Ext.form,"Labelable"],0);
Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){this.originalValue=this.lastValue=this.value=this.transformOriginalValue(this.value);this.suspendCheckChange++;this.setValue(this.value);this.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},
setValue:function(a){this.value=a;this.checkChange();return this},isEqual:function(a,b){return""+a===""+b},isEqualAsString:function(a,b){return""+Ext.value(a,"")===""+Ext.value(b,"")},getSubmitData:function(){var a=null;if(!this.disabled&&this.submitValue&&!this.isFileUpload()){a={};a[this.getName()]=""+this.getValue()}return a},getModelData:function(){var a=null;if(!this.disabled&&!this.isFileUpload()){a={};a[this.getName()]=this.getValue()}return a},reset:function(){this.beforeReset();this.setValue(this.originalValue);
this.clearInvalid();delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this.getValue(),b=this.lastValue;if(!this.isEqual(a,b)&&!this.isDestroyed){this.lastValue=a;this.fireEvent("change",this,a,b);this.onChange(a,b)}}},onChange:function(){this.validateOnChange&&this.validate();this.checkDirty()},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),
this.originalValue)},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent("dirtychange",this,a);this.onDirtyChange(a);this.wasDirty=a}},onDirtyChange:Ext.emptyFn,getErrors:function(){return[]},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){var a=this.isValid();if(a!==this.wasValid){this.wasValid=a;this.fireEvent("validitychange",this,a)}return a},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b;}finally{this.suspendCheckChange--}this.checkChange()},
isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,0,0,0,0,0,[Ext.form.field,"Field"],0);
Ext.cmd.derive("Ext.layout.component.field.Field",Ext.layout.component.Auto,{type:"field",naturalSizingProp:"size",beginLayout:function(a){var b=this.owner;this.callParent(arguments);a.labelStrategy=this.getLabelStrategy();a.errorStrategy=this.getErrorStrategy();a.labelContext=a.getEl("labelEl");a.bodyCellContext=a.getEl("bodyEl");a.inputContext=a.getEl("inputEl");a.errorContext=a.getEl("errorEl");if(Ext.isIE7m&&Ext.isStrict&&a.inputContext)this.ieInputWidthAdjustment=a.inputContext.getPaddingInfo().width+
a.inputContext.getBorderInfo().width;a.labelStrategy.prepare(a,b);a.errorStrategy.prepare(a,b)},beginLayoutCycle:function(a){var b=this.owner,c=a.widthModel,d=b[this.naturalSizingProp],e;this.callParent(arguments);if(c.shrinkWrap)this.beginLayoutShrinkWrap(a);else if(c.natural){typeof d=="number"&&!b.inputWidth?this.beginLayoutFixed(a,e=d*6.5+20,"px"):this.beginLayoutShrinkWrap(a);a.setWidth(e,false)}else this.beginLayoutFixed(a,"100","%")},beginLayoutFixed:function(a,b,c){var d=a.target,e=d.inputEl,
g=d.inputWidth;d.el.setStyle("table-layout","fixed");d.bodyEl.setStyle("width",b+c);e&&(g?e.setStyle("width",g+"px"):e.setStyle("width",d.stretchInputElFixed?"100%":""));a.isFixed=true},beginLayoutShrinkWrap:function(a){var a=a.target,b=a.inputEl,c=a.inputWidth;if(b&&b.dom){b.dom.removeAttribute("size");c?b.setStyle("width",c+"px"):b.setStyle("width","")}a.el.setStyle("table-layout","auto");a.bodyEl.setStyle("width","")},finishedLayout:function(a){var b=this.owner;this.callParent(arguments);a.labelStrategy.finishedLayout(a,
b);a.errorStrategy.finishedLayout(a,b)},calculateOwnerHeightFromContentHeight:function(a,b){return b},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var a=this.labelStrategies;return a[this.owner.labelAlign]||a.base},getErrorStrategy:function(){var a=
this.owner,b=this.errorStrategies,c=a.msgTarget;return!a.preventMark&&Ext.isString(c)?b[c]||b.elementId:b.none},labelStrategies:function(){var a={prepare:function(a,c){var d=c.labelCls+"-"+c.labelAlign,e=c.labelEl;e&&e.addCls(d)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(a){var a=a.labelContext,c=a.props,d=c.height;if(d===void 0)c.height=d=a.el.getHeight();return d}},a),left:a,right:a}}(),errorStrategies:function(){function a(a){var b=
Ext.layout.component.field.Field.tip,c;if(b&&b.isVisible())(c=b.activeTarget)&&c.el===a.getActionEl().dom&&b.toFront(true)}var b=Ext.applyIf,c=Ext.emptyFn,d=Ext.baseCSSPrefix+"form-invalid-icon",e,c={prepare:function(a,b){var c=b.errorEl;c&&c.setDisplayed(false)},getHeight:function(){return 0},onFocus:c,finishedLayout:c};return{none:c,side:b({prepare:function(a,b){var c=b.errorEl,j=b.sideErrorCell,k=b.hasActiveError(),l;if(!e){e=(l=Ext.getBody().createChild({style:"position:absolute",cls:d})).getWidth();
l.remove()}c.addCls(d);c.set({"data-errorqtip":b.getActiveError()||""});b.autoFitErrors?c.setDisplayed(k):c.setVisible(k);j&&b.autoFitErrors&&j.setDisplayed(k);b.bodyEl.dom.colSpan=b.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:a},c),under:b({prepare:function(a,b){var c=b.errorEl;c.addCls(Ext.baseCSSPrefix+"form-invalid-under");c.setDisplayed(b.hasActiveError())},getHeight:function(a){var b=0,c;if(a.target.hasActiveError()){a=a.errorContext;c=a.props;b=c.height;if(b===void 0)c.height=
b=a.el.getHeight()}return b}},c),qtip:b({prepare:function(a,b){Ext.layout.component.field.Field.initTip();b.getActionEl().dom.setAttribute("data-errorqtip",b.getActiveError()||"")},onFocus:a},c),title:b({prepare:function(a,b){b.getActionEl().dom.setAttribute("title",b.getActiveError()||"")}},c),elementId:b({prepare:function(a,b){var c=Ext.fly(b.msgTarget);if(c){c.dom.innerHTML=b.getActiveError()||"";c.setDisplayed(b.hasActiveError())}}},c)}}(),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=
Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}},0,0,0,0,["layout.field"],0,[Ext.layout.component.field,"Field"],0);
Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',
'<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||9>document.documentMode)?["change","propertychange",
"keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){this.callParent();this.subTplData=this.subTplData||{};this.addEvents("specialkey","writeablechange");this.initLabelable();this.initField();if(!this.name)this.name=this.getInputId();this.readOnly&&this.addCls(this.readOnlyCls);
this.addCls(Ext.baseCSSPrefix+"form-type-"+this.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var a=this.inputType,b=this.getInputId(),a=Ext.apply({id:b,cmpId:this.id,name:this.name||b,disabled:this.disabled,readOnly:this.readOnly,value:this.getRawValue(),type:a,fieldCls:this.fieldCls,fieldStyle:this.getFieldStyle(),tabIdx:this.tabIndex,inputCls:this.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(a==="password"?"text":a)},this.subTplData);
this.getInsertionRenderData(a,this.subTplInsertions);return a},applyRenderSelectors:function(){this.callParent();this.addChildEls("inputEl");this.inputEl=this.el.getById(this.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){if(!this.hasOwnProperty("renderTpl"))this.renderTpl=this.getTpl("labelableRenderTpl");return this.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},
setFieldStyle:function(a){var b=this.inputEl;b&&b.applyStyles(a);this.fieldStyle=a},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments);this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var a=null,b;if(!this.disabled&&this.submitValue&&!this.isFileUpload()){b=this.getSubmitValue();
if(b!==null){a={};a[this.getName()]=b}}return a},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this.inputEl?this.inputEl.getValue():Ext.value(this.rawValue,"");return this.rawValue=a},setRawValue:function(a){this.rawValue=a=Ext.value(this.transformRawValue(a),"");if(this.inputEl)this.inputEl.dom.value=a;return a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,
getValue:function(){var a=this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=a},setValue:function(a){this.setRawValue(this.valueToRaw(a));return this.mixins.field.setValue.call(this,a)},onBoxReady:function(){this.callParent();this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var a=this.inputEl;this.callParent();if(a){a.dom.disabled=true;if(this.hasActiveError()){this.clearInvalid();this.needsValidateOnEnable=true}}},onEnable:function(){var a=
this.inputEl;this.callParent();if(a){a.dom.disabled=false;if(this.needsValidateOnEnable){delete this.needsValidateOnEnable;this.forceValidation=true;this.isValid();delete this.forceValidation}}},setReadOnly:function(a){var b=this.inputEl,a=!!a;this[a?"addCls":"removeCls"](this.readOnlyCls);this.readOnly=a;if(b)b.dom.readOnly=a;else if(this.rendering)this.setReadOnlyOnBoxReady=true;this.fireEvent("writeablechange",this,a)},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))},
initEvents:function(){var a=this,b=a.inputEl,c,d,e=a.checkChangeEvents,g,h=e.length,i;if(b){a.mon(b,Ext.EventManager.getKeyEvent(),a.fireKey,a);c=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=d=function(){c.delay(a.checkChangeBuffer)};for(g=0;g<h;g++){i=e[g];if(i==="propertychange")a.usesPropertychange=true;a.mon(b,i,d)}}a.callParent()},doComponentLayout:function(){var a=this.inputEl,b=this.usesPropertychange,c=this.onChangeEvent;b&&this.mun(a,"propertychange",c);this.callParent(arguments);
b&&this.mon(a,"propertychange",c)},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var a=this.disabled;return this.forceValidation||!a?this.validateValue(this.processRawValue(this.getRawValue())):a},validateValue:function(a){var a=this.getErrors(a),b=Ext.isEmpty(a);this.preventMark||(b?this.clearInvalid():this.markInvalid(a));return b},markInvalid:function(a){var b=this.getActiveError();this.setActiveErrors(Ext.Array.from(a));a=this.getActiveError();b!==a&&
this.setError(a)},clearInvalid:function(){var a=this.hasActiveError();delete this.needsValidateOnEnable;this.unsetActiveError();a&&this.setError("")},setError:function(a){var b=this.msgTarget,c;if(this.rendered)if(b=="title"||b=="qtip"){this.rendered&&(c=b=="qtip"?"data-errorqtip":"title");this.getActionEl().dom.setAttribute(c,a||"")}else this.updateLayout()},renderActiveError:function(){var a=this.hasActiveError();if(this.inputEl)this.inputEl[a?"addCls":"removeCls"](this.invalidCls+"-field");this.mixins.labelable.renderActiveError.call(this)},
getActionEl:function(){return this.inputEl||this.el}},0,["field"],["field","component","box"],{field:!0,component:!0,box:!0},["widget.field"],[["labelable",Ext.form.Labelable],["field",Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0);
Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',
emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}(),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0);
Ext.cmd.derive("Ext.layout.component.field.Text",Ext.layout.component.field.Field,{type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(a){this.callParent(arguments);a.heightModel.shrinkWrap&&a.inputContext.el.setStyle("height","")},measureContentWidth:function(a){var b=this.owner,c=this.callParent(arguments),d=a.inputContext,e,g;if(b.grow&&this.canGrowWidth&&!a.state.growHandled){e=b.inputEl;g=Ext.util.Format.htmlEncode(e.dom.value||(b.hasFocus?"":b.emptyText)||"");g=g+b.growAppend;e=e.getTextWidth(g)+
d.getFrameInfo().width;g=b.growMax;c=Math.min(g,c);g=Math.max(b.growMin,g,c);e=Ext.Number.constrain(e,b.growMin,g);d.setWidth(e);a.state.growHandled=true;d.domBlock(this,"width");c=NaN}return c},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},beginLayoutFixed:function(a,b,c){var d=this.ieInputWidthAdjustment;if(d){this.adjustIEInputPadding(a);c==="px"&&(b=b-d)}this.callParent(arguments)},adjustIEInputPadding:function(){this.owner.bodyEl.setStyle("padding-right",
this.ieInputWidthAdjustment+"px")}},0,0,0,0,["layout.textfield"],0,[Ext.layout.component.field,"Text"],0);
Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",
componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){if(this.allowOnlyWhitespace===false)this.allowBlank=false;this.callParent();this.addEvents("autosize","keydown","keyup","keypress");this.addStateEvents("change");this.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow)this.shrinkWrap=this.shrinkWrap|1},initEvents:function(){var a=this.inputEl;this.callParent();(this.selectOnFocus||this.emptyText)&&this.mon(a,"mousedown",this.onMouseDown,this);(this.maskRe||
this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.field.VTypes[this.vtype+"Mask"]))&&this.mon(a,"keypress",this.filterKeys,this);this.enableKeyEvents&&this.mon(a,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){this.callParent(arguments);this.autoSize()},getSubTplData:function(){var a=this.getRawValue(),b=this.emptyText&&a.length<1,c=this.maxLength,d;this.enforceMaxLength?
c===Number.MAX_VALUE&&(c=void 0):c=void 0;if(b)if(Ext.supports.Placeholder)d=this.emptyText;else{a=this.emptyText;this.valueContainsPlaceholder=true}return Ext.apply(this.callParent(),{maxLength:c,readOnly:this.readOnly,placeholder:d,value:a,fieldCls:this.fieldCls+(b&&(d||a)?" "+this.emptyCls:"")+(this.allowBlank?"":" "+this.requiredCls)})},afterRender:function(){this.autoSize();this.callParent()},onMouseDown:function(){this.hasFocus||this.mon(this.inputEl,"mouseup",Ext.emptyFn,this,{single:true,
preventDefault:true})},processRawValue:function(a){var b=this.stripCharsRe;if(b){b=a.replace(b,"");if(b!==a){this.setRawValue(b);a=b}}return a},onDisable:function(){this.callParent();if(Ext.isIE)this.inputEl.dom.unselectable="on"},onEnable:function(){this.callParent();if(Ext.isIE)this.inputEl.dom.unselectable=""},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();
this.applyEmptyText()},applyEmptyText:function(){var a=this.emptyText,b;if(this.rendered&&a){b=this.getRawValue().length<1&&!this.hasFocus;if(Ext.supports.Placeholder)this.inputEl.dom.placeholder=a;else if(b){this.setRawValue(a);this.valueContainsPlaceholder=true}b&&this.inputEl.addCls(this.emptyCls);this.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a)a.dom.unselectable="on"}},beforeFocus:function(){var a=this.inputEl,b=this.emptyText,
c;this.callParent(arguments);if(b&&!Ext.supports.Placeholder&&a.dom.value===this.emptyText&&this.valueContainsPlaceholder){this.setRawValue("");c=true;a.removeCls(this.emptyCls);this.valueContainsPlaceholder=false}else Ext.supports.Placeholder&&this.inputEl.removeCls(this.emptyCls);if(this.selectOnFocus||c)if(Ext.isWebKit){if(!this.inputFocusTask)this.inputFocusTask=new Ext.util.DelayedTask(this.focusInput,this);this.inputFocusTask.delay(1)}else a.dom.select()},focusInput:function(){var a=this.inputEl;
if(a)(a=a.dom)&&a.select()},onFocus:function(){this.callParent(arguments);this.emptyText&&this.autoSize()},postBlur:function(){this.callParent(arguments);this.applyEmptyText()},filterKeys:function(a){if(!a.ctrlKey||a.altKey){var b=a.getKey(),c=String.fromCharCode(a.getCharCode());if(!Ext.isGecko&&!Ext.isOpera||!a.isNavKeyPress()&&!(b===a.BACKSPACE||b===a.DELETE&&a.button===-1))if(Ext.isGecko||Ext.isOpera||!a.isSpecialKey()||c)this.maskRe.test(c)||a.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),
"value")},applyState:function(a){this.callParent(arguments);a.hasOwnProperty("value")&&this.setValue(a.value)},getRawValue:function(){var a=this.callParent();a===this.emptyText&&this.valueContainsPlaceholder&&(a="");return a},setValue:function(a){var b=this.inputEl;if(b&&this.emptyText&&!Ext.isEmpty(a)){b.removeCls(this.emptyCls);this.valueContainsPlaceholder=false}this.callParent(arguments);this.applyEmptyText();return this},getErrors:function(a){var b=this.callParent(arguments),c=this.validator,
d=this.vtype,e=Ext.form.field.VTypes,g=this.regex,h=Ext.String.format,i,a=a||this.processRawValue(this.getRawValue());if(Ext.isFunction(c)){c=c.call(this,a);c!==true&&b.push(c)}if((this.allowOnlyWhitespace?a:Ext.String.trim(a)).length<1||a===this.emptyText&&this.valueContainsPlaceholder){this.allowBlank||b.push(this.blankText);if(!this.validateBlank)return b;i=true}!i&&a.length<this.minLength&&b.push(h(this.minLengthText,this.minLength));a.length>this.maxLength&&b.push(h(this.maxLengthText,this.maxLength));
d&&(e[d](a,this)||b.push(this.vtypeText||e[d+"Text"]));g&&!g.test(a)&&b.push(this.regexText||this.invalidText);return b},selectText:function(a,b){var c=this.getRawValue(),d=true,e=this.inputEl.dom;if(c.length>0){a=a===void 0?0:a;b=b===void 0?c.length:b;if(e.setSelectionRange)e.setSelectionRange(a,b);else if(e.createTextRange){d=e.createTextRange();d.moveStart("character",a);d.moveEnd("character",b-c.length);d.select()}d=Ext.isGecko||Ext.isOpera}d&&this.focus()},autoSize:function(){if(this.grow&&this.rendered){this.autoSizing=
true;this.updateLayout()}},afterComponentLayout:function(){var a;this.callParent(arguments);if(this.autoSizing){a=this.inputEl.getWidth();if(a!==this.lastInputWidth){this.fireEvent("autosize",this,a);this.lastInputWidth=a;delete this.autoSizing}}},onDestroy:function(){this.callParent();if(this.inputFocusTask){this.inputFocusTask.cancel();this.inputFocusTask=null}}},0,["textfield"],["field","textfield","component","box"],{field:!0,textfield:!0,component:!0,box:!0},["widget.textfield"],0,[Ext.form.field,
"Text",Ext.form,"TextField",Ext.form,"Text"],0);
Ext.cmd.derive("Ext.layout.component.field.TextArea",Ext.layout.component.field.Text,{type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments);a.target.inputEl.setStyle("height","")},measureContentHeight:function(a){var b=this.owner,c=this.callParent(arguments),d,e,g;if(b.grow&&!a.state.growHandled){c=a.inputContext;d=b.inputEl;g=d.getWidth(true);e=Ext.util.Format.htmlEncode(d.dom.value)||"&#160;";e=e+b.growAppend;e=e.replace(/\n/g,"<br/>");
d=Ext.util.TextMetrics.measure(d,e,g).height+c.getBorderInfo().height+c.getPaddingInfo().height;d=Ext.Number.constrain(d,b.growMin,b.growMax);c.setHeight(d);a.state.growHandled=true;c.domBlock(this,"height");c=NaN}return c}},0,0,0,0,["layout.textareafield"],0,[Ext.layout.component.field,"TextArea"],0);
Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',
'<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1E3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var a=
this.getFieldStyle(),b=this.callParent();if(this.grow&&this.preventScrollbars)b.fieldStyle=(a||"")+";overflow:hidden;height:"+this.growMin+"px";Ext.applyIf(b,{cols:this.cols,rows:this.rows});return b},afterRender:function(){this.callParent(arguments);if(this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength)this.inputEl.on("paste",this.onPaste,this)},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},
getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){a&&typeof a==="string"&&(a=a.replace(this.returnRe,""));return a},onPaste:function(){if(!this.pasteTask)this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this);this.pasteTask.delay(1)},pasteCheck:function(){var a=this.getValue(),b=this.maxLength;if(a.length>b){a=a.substr(0,b);this.setValue(a)}},fireKey:function(a){var b=a.getKey();
a.isSpecialKey()&&(this.enterIsSpecial||b!==a.ENTER||a.hasModifier())&&this.fireEvent("specialkey",this,a);if(this.needsMaxCheck&&b!==a.BACKSPACE&&b!==a.DELETE&&!a.isNavKeyPress()&&!this.isCutCopyPasteSelectAll(a,b)){b=this.getValue();b.length>=this.maxLength&&a.stopEvent()}},isCutCopyPasteSelectAll:function(a,b){return a.ctrlKey?b===a.A||b===a.C||b===a.V||b===a.X:false},autoSize:function(){var a;if(this.grow&&this.rendered){this.updateLayout();a=this.inputEl.getHeight();if(a!==this.lastInputHeight){this.fireEvent("autosize",
this,a);this.lastInputHeight=a}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}this.callParent()}},0,["textarea","textareafield"],"field textfield component textarea box textareafield".split(" "),{field:!0,textfield:!0,component:!0,textarea:!0,box:!0,textareafield:!0},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],
0);
Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return false},isValid:function(){return true},
validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(a){this.rawValue=a=Ext.value(a,"");if(this.rendered){this.inputEl.dom.innerHTML=this.getDisplayValue();this.updateLayout()}return a},getDisplayValue:function(){var a=this.getRawValue();return this.renderer?this.renderer.call(this.scope||this,a,this):this.htmlEncode?Ext.util.Format.htmlEncode(a):a},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}},0,["displayfield"],
["displayfield","field","component","box"],{displayfield:!0,field:!0,component:!0,box:!0},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0);
Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(a){var b=0,c,d,e,g,h;this.callParent(arguments);e=a.childItems;h=e.length;for(g=0;g<h;++g){d=e[g];if(c=d.target.anchorSpec){d.widthModel.calculated&&c.right&&(b=b|1);d.heightModel.calculated&&c.bottom&&(b=b|2);if(b==3)break}}a.anchorDimensions=b},calculateItems:function(a,
b){var c=a.childItems,d=c.length,e=b.gotHeight,g=b.gotWidth,h=b.height,i=b.width,j=(g?1:0)|(e?2:0),k=a.anchorDimensions,l,m,n,p,o;if(!k)return true;for(p=0;p<d;p++){m=c[p];n=m.getMarginInfo();l=m.target.anchorSpec;if(g&&m.widthModel.calculated){o=l.right(i)-n.width;o=this.adjustWidthAnchor(o,m);m.setWidth(o)}if(e&&m.heightModel.calculated){l=l.bottom(h)-n.height;l=this.adjustHeightAnchor(l,m);m.setHeight(l)}}return(j&k)===k},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*
a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&a!="none"){var d=this.anchorFactory;if(this.parseAnchorRE.test(a))return d.standard(c-b);if(a.indexOf("%")!=-1)return d.ratio(parseFloat(a.replace("%",""))*0.01);a=parseInt(a,10);if(!isNaN(a))return d.offset(a)}return null},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a},configureItem:function(a){var b=this.owner,c=a.anchor,d,e;this.callParent(arguments);if(!a.anchor&&a.items&&
!Ext.isNumber(a.width)&&(!Ext.isIE6||!Ext.isStrict))a.anchor=c=this.defaultAnchor;if(b.anchorSize)if(typeof b.anchorSize=="number")d=b.anchorSize;else{d=b.anchorSize.width;e=b.anchorSize.height}else{d=b.initialConfig.width;e=b.initialConfig.height}if(c){b=c.split(" ");a.anchorSpec={right:this.parseAnchor(b[0],a.initialConfig.width,d),bottom:this.parseAnchor(b[1],a.initialConfig.height,e)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,
setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){var a=a.anchorSpec,b="$",c=this.sizePolicy,d;if(a){d=this.owner.getSizeModel();if(a.right&&!d.width.shrinkWrap)c=c.r;a.bottom&&!d.height.shrinkWrap&&(b="b")}return c[b]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0);
Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,
constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(a){a=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:a,
scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(a){var b,c;if(this.cfg.prompt||this.cfg.multiline){c=this.cfg.multiline?this.textArea:this.textField;b=c.getValue();c.reset()}this.hide();this.userCallback(a.itemId,b,this.cfg)},hide:function(){var a=this.cfg.cls;this.dd.endDrag();this.progressBar.reset();a&&this.removeCls(a);this.callParent(arguments)},constructor:function(a){this.callParent(arguments);this.minWidth=this.defaultMinWidth=this.minWidth||this.defaultMinWidth;this.maxWidth=
this.defaultMaxWidth=this.maxWidth||this.defaultMaxWidth;this.minHeight=this.defaultMinHeight=this.minHeight||this.defaultMinHeight;this.maxHeight=this.defaultMaxHeight=this.maxHeight||this.defaultMaxHeight},initComponent:function(){var a=this.id,b,c;this.title="&#160;";this.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[this.iconComponent=new Ext.Component({width:this.iconWidth,height:this.iconHeight}),this.promptContainer=new Ext.container.Container({flex:1,
layout:"anchor",items:[this.msg=new Ext.form.field.Display({id:a+"-displayfield",cls:this.baseCls+"-text"}),this.textField=new Ext.form.field.Text({id:a+"-textfield",anchor:"100%",enableKeyEvents:true,listeners:{keydown:this.onPromptKey,scope:this}}),this.textArea=new Ext.form.field.TextArea({id:a+"-textarea",anchor:"100%",height:75})]})]});this.progressBar=new Ext.ProgressBar({id:a+"-progressbar",margins:"0 10 10 10"});this.items=[this.topContainer,this.progressBar];this.msgButtons=[];for(b=0;b<
4;b++){c=this.makeButton(b);this.msgButtons[c.itemId]=c;this.msgButtons.push(c)}this.bottomTb=new Ext.toolbar.Toolbar({id:a+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[this.msgButtons[0],this.msgButtons[1],this.msgButtons[2],this.msgButtons[3]]});this.dockedItems=[this.bottomTb];this.on("close",this.onClose,this);this.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(a,b){if(b.keyCode===
b.RETURN||b.keyCode===10)this.msgButtons.ok.isVisible()?this.msgButtons.ok.handler.call(this,this.msgButtons.ok):this.msgButtons.yes.isVisible()&&this.msgButtons.yes.handler.call(this,this.msgButtons.yes)},reconfigure:function(a){var b=0,c=true,d=this.buttonText,b=this.resizer,e,g,h;this.updateButtonText();this.cfg=a=a||{};if(a.width)g=a.width;if(a.height)h=a.height;this.minWidth=a.minWidth||this.defaultMinWidth;this.maxWidth=a.maxWidth||this.defaultMaxWidth;this.minHeight=a.minHeight||this.defaultMinHeight;
this.maxHeight=a.maxHeight||this.defaultMaxHeight;if(b){e=b.resizeTracker;b.minWidth=e.minWidth=this.minWidth;b.maxWidth=e.maxWidth=this.maxWidth;b.minHeight=e.minHeight=this.minHeight;b.maxHeight=e.maxHeight=this.maxHeight}delete this.defaultFocus;if(a.defaultFocus)this.defaultFocus=a.defaultFocus;this.animateTarget=a.animateTarget||void 0;this.modal=a.modal!==false;this.setTitle(a.title||"");this.setIconCls(a.iconCls||"");if(Ext.isObject(a.buttons)){this.buttonText=a.buttons;b=0}else{this.buttonText=
a.buttonText||this.buttonText;b=Ext.isNumber(a.buttons)?a.buttons:0}b=b|this.updateButtonText();this.buttonText=d;Ext.suspendLayouts();delete this.width;delete this.height;if(g||h){g&&this.setWidth(g);h&&this.setHeight(h)}this.hidden=false;this.rendered||this.render(Ext.getBody());this.closable=a.closable!==false&&!a.wait;this.header.child("[type=close]").setVisible(this.closable);!a.title&&!this.closable&&!a.iconCls?this.header.hide():this.header.show();this.liveDrag=!a.proxyDrag;this.userCallback=
Ext.Function.bind(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global);this.setIcon(a.icon,a.iconWidth,a.iconHeight);d=this.msg;if(a.msg){d.setValue(a.msg);d.show()}else d.hide();d=this.textArea;g=this.textField;if(a.prompt||a.multiline)if(this.multiline=a.multiline){d.setValue(a.value);d.setHeight(a.defaultTextHeight||this.defaultTextHeight);d.show();g.hide();this.defaultFocus=d}else{g.setValue(a.value);d.hide();g.show();this.defaultFocus=g}else{d.hide();g.hide()}d=this.progressBar;if(a.progress||
a.wait){d.show();this.updateProgress(0,a.progressText);a.wait===true&&d.wait(a.waitConfig)}else d.hide();d=this.msgButtons;for(a=0;a<4;a++)if(b&Math.pow(2,a)){if(!this.defaultFocus)this.defaultFocus=d[a];d[a].show();c=false}else d[a].hide();c?this.bottomTb.hide():this.bottomTb.show();Ext.resumeLayouts(true)},updateButtonText:function(){var a=this.buttonText,b=0,c,d;for(c in a)if(a.hasOwnProperty(c))if(d=this.msgButtons[c]){this.cfg&&this.cfg.buttonText&&(b=b|Math.pow(2,Ext.Array.indexOf(this.buttonIds,
c)));d.text!=a[c]&&d.setText(a[c])}return b},show:function(a){var b=this,c;if(Ext.AbstractComponent.layoutSuspendCount){Ext.on({resumelayouts:function(){b.show(a)},single:true});return b}b.reconfigure(a);a.cls&&b.addCls(a.cls);c=b.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");b.preventFocusOnActivate=!c.length;b.hidden=true;b.callParent();return b},onShow:function(){this.callParent(arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(a,
b,c){var d=this.iconComponent,e=this.messageIconCls;e&&d.removeCls(e);if(a){d.show();d.setSize(b||this.iconWidth,c||this.iconHeight);d.addCls(Ext.baseCSSPrefix+"dlg-icon");d.addCls(this.messageIconCls=a)}else{d.removeCls(Ext.baseCSSPrefix+"dlg-icon");d.hide()}return this},updateProgress:function(a,b,c){this.progressBar.updateProgress(a,b);c&&this.updateText(c);return this},onEsc:function(){this.closable!==false&&this.callParent(arguments)},confirm:function(a,b,c,d){Ext.isString(a)&&(a={title:a,icon:this.QUESTION,
msg:b,buttons:this.YESNO,callback:c,scope:d});return this.show(a)},prompt:function(a,b,c,d,e,g){Ext.isString(a)&&(a={prompt:true,title:a,minWidth:this.minPromptWidth,msg:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:g});return this.show(a)},wait:function(a,b,c){Ext.isString(a)&&(a={title:b,msg:a,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:c});return this.show(a)},alert:function(a,b,c,d){Ext.isString(a)&&(a={title:a,msg:b,buttons:this.OK,fn:c,scope:d,
minWidth:this.minWidth});return this.show(a)},progress:function(a,b,c){Ext.isString(a)&&(a={title:a,msg:b,progress:true,progressText:c});return this.show(a)}},1,["messagebox"],"panel window messagebox component container box".split(" "),{panel:!0,window:!0,messagebox:!0,component:!0,container:!0,box:!0},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(){Ext.MessageBox=Ext.Msg=new this});
Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",constructor:function(a,b){var c;this.owner=a;this.checkValidityTask=new Ext.util.DelayedTask(this.checkValidity,this);this.checkDirtyTask=new Ext.util.DelayedTask(this.checkDirty,this);this.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:this,addHandler:this.onFieldAdd,removeHandler:this.onFieldRemove});this.monitor.bind(a);Ext.apply(this,b);if(Ext.isString(this.paramOrder))this.paramOrder=
this.paramOrder.split(/[\s,|]/);if((c=this.reader)&&!c.isReader){typeof c==="string"&&(c={type:c});this.reader=Ext.createByAlias("reader."+c.type,c)}if((c=this.errorReader)&&!c.isReader){typeof c==="string"&&(c={type:c});this.errorReader=Ext.createByAlias("reader."+c.type,c)}this.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");this.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,
waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var a=this.monitor;if(a){a.unbind();this.monitor=null}this.clearListeners();this.checkValidityTask.cancel();this.checkDirtyTask.cancel()},onFieldAdd:function(a){this.mon(a,"validitychange",this.checkValidityDelay,this);this.mon(a,"dirtychange",this.checkDirtyDelay,this);this.initialized&&this.checkValidityDelay()},onFieldRemove:function(a){this.mun(a,"validitychange",this.checkValidityDelay,this);this.mun(a,"dirtychange",
this.checkDirtyDelay,this);this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection;a.addAll(this.owner.query("[formBind]"))}return a},hasInvalidField:function(){return!!this.getFields().findBy(function(a){var b=a.preventMark,c;a.preventMark=true;c=a.isValid();a.preventMark=b;return!c})},isValid:function(){var a;Ext.suspendLayouts();a=this.getFields().filterBy(function(a){return!a.validate()});
Ext.resumeLayouts(true);return a.length<1},checkValidity:function(){var a=!this.hasInvalidField();if(a!==this.wasValid){this.onValidityChange(a);this.fireEvent("validitychange",this,a);this.wasValid=a}},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(a){var b=this.getBoundItems(),c,d,e;if(b){b=b.items;d=b.length;for(c=0;c<d;c++){e=b[c];e.disabled===a&&e.setDisabled(!a)}}},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},
checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent("dirtychange",this,a);this.wasDirty=a}},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){Ext.isString(a)&&(a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this})));if(this.fireEvent("beforeaction",this,a)!==false){this.beforeAction(a);Ext.defer(a.run,100,a)}return this},
submit:function(a){a=a||{};return this.doAction(a.standardSubmit||this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(a){a=a||this._record;if(!a)return this;for(var b=a.fields.items,c=this.getFieldValues(),d={},e=0,g=b.length,h;e<g;++e){h=b[e].name;c.hasOwnProperty(h)&&(d[h]=c[h])}a.beginEdit();a.set(d);a.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},
getRecord:function(){return this._record},beforeAction:function(a){var b=a.waitMsg,c=Ext.baseCSSPrefix+"mask-loading",d=this.getFields().items,e,g=d.length,h;for(e=0;e<g;e++){h=d[e];h.isFormField&&h.syncValue&&h.syncValue()}if(b){d=this.waitMsgTarget;if(d===true)this.owner.el.mask(b,c);else if(d){d=this.waitMsgTarget=Ext.get(d);d.mask(b,c)}else{if(this.floatingAncestor=this.owner.up("[floating]")){this.savePreventFocusOnActivate=this.floatingAncestor.preventFocusOnActivate;this.floatingAncestor.preventFocusOnActivate=
true}Ext.MessageBox.wait(b,a.waitTitle||this.waitTitle)}}},afterAction:function(a,b){if(a.waitMsg){var c=Ext.MessageBox,d=this.waitMsgTarget;d===true?this.owner.el.unmask():d?d.unmask():c.hide()}if(this.floatingAncestor)this.floatingAncestor.preventFocusOnActivate=this.savePreventFocusOnActivate;if(b){a.reset&&this.reset();Ext.callback(a.success,a.scope||a,[this,a]);this.fireEvent("actioncomplete",this,a)}else{Ext.callback(a.failure,a.scope||a,[this,a]);this.fireEvent("actionfailed",this,a)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===
a||b.getName()===a})},markInvalid:function(a){function b(a,b){var d=c.findField(a);d&&d.markInvalid(b)}var c=this,d,e,g;if(Ext.isArray(a)){e=a.length;for(d=0;d<e;d++){g=a[d];b(g.id,g.msg)}}else if(a instanceof Ext.data.Errors){e=a.items.length;for(d=0;d<e;d++){g=a.items[d];b(g.field,g.message)}}else for(e in a)if(a.hasOwnProperty(e)){d=a[e];b(e,d,a)}return this},setValues:function(a){function b(a,b){var d=c.findField(a);if(d){d.setValue(b);c.trackResetOnLoad&&d.resetOriginalValue()}}var c=this,d,
e,g;Ext.suspendLayouts();if(Ext.isArray(a)){e=a.length;for(d=0;d<e;d++){g=a[d];b(g.id,g.value)}}else Ext.iterate(a,b);Ext.resumeLayouts(true);return this},getValues:function(a,b,c,d){var e={},g=this.getFields().items,h,i=g.length,j=Ext.isArray,k,l,m,n,p;for(h=0;h<i;h++){k=g[h];if(!b||k.isDirty()){l=k[d?"getModelData":"getSubmitData"](c);if(Ext.isObject(l))for(p in l)if(l.hasOwnProperty(p)){m=l[p];c&&m===""&&(m=k.emptyText||"");if(e.hasOwnProperty(p)){n=e[p];j(n)||(n=e[p]=[n]);j(m)?e[p]=n.concat(m):
n.push(m)}else e[p]=m}}}a&&(e=Ext.Object.toQueryString(e));return e},getFieldValues:function(a){return this.getValues(false,a,false,true)},clearInvalid:function(){Ext.suspendLayouts();var a=this.getFields().items,b,c=a.length;for(b=0;b<c;b++)a[b].clearInvalid();Ext.resumeLayouts(true);return this},reset:function(a){Ext.suspendLayouts();var b=this.getFields().items,c,d=b.length;for(c=0;c<d;c++)b[c].reset();Ext.resumeLayouts(true);a===true&&delete this._record;return this},applyToFields:function(a){var b=
this.getFields().items,c,d=b.length;for(c=0;c<d;c++)Ext.apply(b[c],a);return this},applyIfToFields:function(a){var b=this.getFields().items,c,d=b.length;for(c=0;c<d;c++)Ext.applyIf(b[c],a);return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0);
Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Base,{xhooks:{initHierarchyState:function(a){if(this.fieldDefaults)a.fieldDefaults=a.fieldDefaults?Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults):this.fieldDefaults}},initFieldAncestor:function(){this.addEvents("fieldvaliditychange","fielderrorchange");this.monitor=new Ext.container.Monitor({scope:this,selector:"[isFormField]",addHandler:this.onChildFieldAdd,removeHandler:this.onChildFieldRemove});this.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},
onChildFieldAdd:function(a){this.mon(a,"errorchange",this.handleFieldErrorChange,this);this.mon(a,"validitychange",this.handleFieldValidityChange,this)},onChildFieldRemove:function(a){this.mun(a,"errorchange",this.handleFieldErrorChange,this);this.mun(a,"validitychange",this.handleFieldValidityChange,this)},initFieldDefaults:function(){if(!this.fieldDefaults)this.fieldDefaults={}},handleFieldValidityChange:function(a,b){if(a!==this){this.fireEvent("fieldvaliditychange",this,a,b);this.onFieldValidityChange(a,
b)}},handleFieldErrorChange:function(a,b){if(a!==this){this.fireEvent("fielderrorchange",this,a,b);this.onFieldErrorChange(a,b)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0);
Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0);
Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}',
'<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}",
"{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:"beforeBoxLabelTpl afterBoxLabelTpl beforeBoxLabelTextTpl afterBoxLabelTextTpl boxLabelAttrTpl inputAttrTpl".split(" "),isCheckbox:!0,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",
inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var a=!!this.checked;this.originalValue=this.lastValue=a;this.setValue(a)},getElConfig:function(){this.isChecked(this.rawValue,this.inputValue)&&this.addCls(this.checkedCls);return this.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},
getSubTplData:function(){return Ext.apply(this.callParent(),{disabled:this.readOnly||this.disabled,boxLabel:this.boxLabel,boxLabelCls:this.boxLabelCls,boxLabelAlign:this.boxLabelAlign,inputTypeAttr:this.inputTypeAttr})},initEvents:function(){this.callParent();this.mon(this.inputEl,"click",this.onBoxClick,this)},setBoxLabel:function(a){this.boxLabel=a;this.rendered&&this.boxLabelEl.update(a)},onBoxClick:function(){!this.disabled&&!this.readOnly&&this.setValue(!this.checked)},getRawValue:function(){return this.checked},
getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,a=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:a},isChecked:function(a,b){return a===true||a==="true"||a==="1"||a===1||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(a){var b=this.inputEl,a=this.isChecked(a,this.inputValue);if(b)this[a?"addCls":"removeCls"](this.checkedCls);return this.checked=this.rawValue=a},setValue:function(a){var b,c,d,e;if(Ext.isArray(a)){b=
this.getManager().getByName(this.name,this.getFormId()).items;d=b.length;for(c=0;c<d;++c){e=b[c];e.setValue(Ext.Array.contains(a,e.inputValue))}}else this.callParent(arguments);return this},valueToRaw:function(a){return a},onChange:function(a,b){var c=this.handler;c&&c.call(this.scope||this,this,a);this.callParent(arguments)},resetOriginalValue:function(a){var b,c,d;if(!a){a=this.getManager().getByName(this.name,this.getFormId()).items;c=a.length;for(d=0;d<c;++d){b=a[d];b!==this&&a[d].resetOriginalValue(true)}}this.callParent()},
beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this.inputEl;this.callParent();if(a)a.dom.disabled=this.readOnly},setReadOnly:function(a){var b=this.inputEl;if(b)b.dom.disabled=!!a||this.disabled;this.callParent(arguments)},getFormId:function(){var a;if(!this.formId)if(a=this.up("form"))this.formId=a.id;return this.formId}},0,["checkbox","checkboxfield"],["field","component","checkbox",
"box","checkboxfield"],{field:!0,component:!0,checkbox:!0,box:!0,checkboxfield:!0},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0);
Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var a=this.legend;
if(a){delete a.ownerCt;a.destroy();this.legend=null}this.callParent()},initComponent:function(){var a=this.baseCls;this.initFieldAncestor();this.callParent();this.layout.managePadding=this.layout.manageOverflow=false;this.addEvents("beforeexpand","beforecollapse","expand","collapse");if(this.collapsed){this.addCls(a+"-collapsed");this.collapse()}if(this.title||this.checkboxToggle||this.collapsible){this.addTitleClasses();this.legend=Ext.widget(this.createLegendCt())}this.initMonitor()},initPadding:function(a){var b=
this.getProtoBody(),c=this.padding,d;if(c!==void 0){if(Ext.isIEQuirks||Ext.isIE8m){c=this.parseBox(c);d=Ext.Element.parseBox(0);d.top=c.top;c.top=0;b.setStyle("padding",this.unitizeBox(d))}a.setStyle("padding",this.unitizeBox(c))}},getProtoBody:function(){var a=this.protoBody;if(!a)this.protoBody=a=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true});return a},initRenderData:function(){var a=this.callParent();a.bodyTargetCls=this.bodyTargetCls;this.protoBody.writeTo(a);delete this.protoBody;
return a},getState:function(){var a=this.callParent();return a=this.addPropertyToState(a,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var a=[],b={xtype:"container",baseCls:this.baseCls+"-header",id:this.id+"-legend",autoEl:"legend",items:a,ownerCt:this,shrinkWrap:true,ownerLayout:this.componentLayout};this.checkboxToggle?a.push(this.createCheckboxCmp()):this.collapsible&&
a.push(this.createToggleCmp());a.push(this.createTitleCmp());return b},createTitleCmp:function(){var a={xtype:"component",html:this.title,cls:this.baseCls+"-header-text",id:this.id+"-legendTitle"};if(this.collapsible&&this.toggleOnTitleClick){a.listeners={click:{element:"el",scope:this,fn:this.toggle}};a.cls=a.cls+(" "+this.baseCls+"-header-text-collapsible")}return this.titleCmp=Ext.widget(a)},createCheckboxCmp:function(){return this.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:true,name:this.checkboxName||
this.id+"-checkbox",cls:this.baseCls+"-header-checkbox",id:this.id+"-legendChk",checked:!this.collapsed,listeners:{change:this.onCheckChange,scope:this}})},createToggleCmp:function(){return this.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:this.toggle,id:this.id+"-legendToggle",scope:this})},doRenderLegend:function(a,b){var c=b.$comp.legend;if(c){c.ownerLayout.configureItem(c);c=c.getRenderTree();Ext.DomHelper.generateMarkup(c,a)}},finishRender:function(){var a=this.legend;
this.callParent();a&&a.finishRender()},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(a){var b=this.legend;this.title=a;if(this.rendered){if(!b){this.legend=b=Ext.widget(this.createLegendCt());this.addTitleClasses();b.ownerLayout.configureItem(b);b.render(this.el,0)}this.titleCmp.update(a)}else if(b)this.titleCmp.update(a);else{this.addTitleClasses();this.legend=Ext.widget(this.createLegendCt())}return this},
addTitleClasses:function(){var a=this.title,b=this.baseCls;a&&this.addCls(b+"-with-title");(a||this.checkboxToggle||this.collapsible)&&this.addCls(b+"-with-header")},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(a){var b=this.checkboxCmp,c=a?"expand":"collapse";
if(!this.rendered||this.fireEvent("before"+c,this)!==false){a=!!a;b&&b.setValue(a);a?this.removeCls(this.baseCls+"-collapsed"):this.addCls(this.baseCls+"-collapsed");this.collapsed=!a;a?delete this.getHierarchyState().collapsed:this.getHierarchyState().collapsed=true;if(this.rendered){this.updateLayout({isRoot:false});this.fireEvent(c,this)}}return this},getRefItems:function(a){var b=this.callParent(arguments),c=this.legend;if(c){b.unshift(c);a&&b.unshift.apply(b,c.getRefItems(true))}return b},toggle:function(){this.setExpanded(!!this.collapsed)},
onCheckChange:function(a,b){this.setExpanded(b)},setupRenderTpl:function(a){this.callParent(arguments);a.renderLegend=this.doRenderLegend}},0,["fieldset"],["component","container","box","fieldset"],{component:!0,container:!0,box:!0,fieldset:!0},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0);
Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:"api baseParams errorReader jsonSubmit method paramOrder paramsAsHash reader standardSubmit timeout trackResetOnLoad url waitMsgTarget waitTitle".split(" "),initComponent:function(){if(this.frame)this.border=false;this.initFieldAncestor();this.callParent();this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete","validitychange",
"dirtychange"]);this.pollForChanges&&this.startPolling(this.pollInterval||500)},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){for(var a={},b=this.basicFormConfigs,c=b.length,d=0,e;d<c;++d){e=b[d];a[e]=this[e]}return new Ext.form.Basic(this,a)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},
updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(a,b,c,d){return this.getForm().getValues(a,b,c,d)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(a){this.stopPolling();a=new Ext.util.TaskRunner(a);
a.start({interval:0,run:this.checkChange,scope:this});this.pollTask=a},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){var a=this.form.getFields().items,b,c=a.length;for(b=0;b<c;b++)a[b].checkChange()}},0,["form"],["panel","form","component","container","box"],{panel:!0,form:!0,component:!0,container:!0,box:!0},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0);
Ext.cmd.derive("Ext.layout.component.field.Trigger",Ext.layout.component.field.Field,{type:"triggerfield",borderWidths:{},beginLayout:function(a){var b=this.owner,c;a.triggerWrap=a.getEl("triggerWrap");this.callParent(arguments);c=b.getTriggerStateFlags();if(c!=b.lastTriggerStateFlags){b.lastTriggerStateFlags=c;this.updateEditState()}},beginLayoutCycle:function(a){this.callParent(arguments);a.widthModel.shrinkWrap&&!this.owner.inputWidth&&a.inputContext.el.setStyle("width","")},beginLayoutFixed:function(a,
b,c){var d=a.target,e=this.ieInputWidthAdjustment||0,g="100%",h=d.triggerWrap;this.callParent(arguments);d.inputCell.setStyle("width","100%");if(e){this.adjustIEInputPadding(a);if(c==="px"){g=d.inputWidth?d.inputWidth-this.getExtraWidth(a):b-e-this.getExtraWidth(a);g=g+"px"}}d.inputEl.setStyle("width",g);(g=d.inputWidth)?h.setStyle("width",g+e+"px"):h.setStyle("width",b+c);h.setStyle("table-layout","fixed")},adjustIEInputPadding:function(){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+
"px")},getExtraWidth:function(a){var b=this.owner,c=this.borderWidths,d=b.ui+b.triggerEl.getCount();if(!(d in c))c[d]=a.triggerWrap.getBorderInfo().width;return c[d]+b.getTriggerWidth()},beginLayoutShrinkWrap:function(a){var b=a.target,c=b.inputWidth,d=b.triggerWrap;this.callParent(arguments);if(c){d.setStyle("width",c+"px");c=c-this.getExtraWidth(a)+"px";b.inputEl.setStyle("width",c);b.inputCell.setStyle("width",c)}else{b.inputCell.setStyle("width","");b.inputEl.setStyle("width","");d.setStyle("width",
"");d.setStyle("table-layout","auto")}},getTextWidth:function(){var a=this.owner,b=a.inputEl;return b.getTextWidth((b.dom.value||(a.hasFocus?"":a.emptyText)||"")+a.growAppend)},publishOwnerWidth:function(a,b){var c=this.owner;this.callParent(arguments);if(!c.grow&&!c.inputWidth){b=b-this.getExtraWidth(a);c.labelAlign!="top"&&(b=b-c.getLabelWidth());a.inputContext.setWidth(b)}},publishInnerHeight:function(a,b){a.inputContext.setHeight(b-this.measureLabelErrorHeight(a))},measureContentWidth:function(a){var b=
this.owner,c=this.callParent(arguments),d=a.inputContext,e,g;if(b.grow&&!a.state.growHandled){e=this.getTextWidth()+a.inputContext.getFrameInfo().width;g=b.growMax;c=Math.min(g,c);g=Math.max(b.growMin,g,c);e=Ext.Number.constrain(e,b.growMin,g);d.setWidth(e);a.state.growHandled=true;d.domBlock(this,"width");c=NaN}else b.inputWidth||(c=c-this.getExtraWidth(a));return c},updateEditState:function(){var a=this.owner,b=a.inputEl,c=Ext.baseCSSPrefix+"trigger-noedit",d;if(this.owner.readOnly){b.addCls(c);
d=true;c=false}else{if(this.owner.editable){b.removeCls(c);d=false}else{b.addCls(c);d=true}c=!this.owner.hideTrigger}a.triggerCell.setDisplayed(c);b.dom.readOnly=d}},0,0,0,0,["layout.triggerfield"],0,[Ext.layout.component.field,"Trigger"],0);
Ext.cmd.derive("Ext.form.field.Trigger",Ext.form.field.Text,{alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,
repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},getSubTplMarkup:function(a){var b=a.childElCls,c=this.callParent(arguments);return'<table id="'+this.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+b+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+this.id+'-inputCell" class="'+
Ext.baseCSSPrefix+"form-trigger-input-cell"+b+'">'+c+"</td>"+this.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var a=this.callParent(),b=this.readOnly===true,c=this.editable!==false;return Ext.apply(a,{editableCls:b||!c?" "+this.triggerNoEditCls:"",readOnly:!c||b})},getLabelableRenderData:function(){var a=this.triggerWrapCls,b=this.callParent(arguments);return Ext.applyIf(b,{triggerWrapCls:a,triggerMarkup:this.getTriggerMarkup()})},getTriggerMarkup:function(){var a=0,b,c=this.triggerBaseCls,
d=[],e="width:"+this.triggerWidth+"px;"+(this.readOnly||this.hideTrigger?"display:none;":""),g=this.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+Ext.dom.Element.unselectableCls;if(!this.trigger1Cls)this.trigger1Cls=this.triggerCls;for(a=0;(b=this["trigger"+(a+1)+"Cls"])||a<1;a++)d.push({tag:"td",valign:"top",cls:g,style:e,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+a,c,b].join(" "),role:"button"}});d[0].cn.cls=d[0].cn.cls+(" "+c+"-first");return Ext.DomHelper.markup(d)},disableCheck:function(){return!this.disabled},
beforeRender:function(){var a=this.triggerBaseCls,b;if(!this.triggerWidth){b=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"});Ext.form.field.Trigger.prototype.triggerWidth=b.getWidth();b.remove()}this.callParent();a!=Ext.baseCSSPrefix+"form-trigger"&&this.addChildEls({name:"triggerEl",select:"."+a});this.lastTriggerStateFlags=this.getTriggerStateFlags()},onRender:function(){this.callParent(arguments);this.doc=Ext.getDoc();this.initTrigger()},getTriggerWidth:function(){var a=
0;this.triggerWrap&&(!this.hideTrigger&&!this.readOnly)&&(a=this.triggerEl.getCount()*this.triggerWidth);return a},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateLayout()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateLayout()}},setReadOnly:function(a){var b=this.readOnly;this.callParent(arguments);a!=b&&this.updateLayout()},initTrigger:function(){var a=this.triggerWrap,b=this.triggerEl,c=this.disableCheck,d,e,g,h;this.repeatTriggerClick?
this.triggerRepeater=new Ext.util.ClickRepeater(a,{preventDefault:true,handler:this.onTriggerWrapClick,listeners:{mouseup:this.onTriggerWrapMouseup,scope:this},scope:this}):this.mon(a,{click:this.onTriggerWrapClick,mouseup:this.onTriggerWrapMouseup,scope:this});b.setVisibilityMode(Ext.Element.DISPLAY);b.addClsOnOver(this.triggerBaseCls+"-over",c,this);a=b.elements;d=a.length;for(g=0;g<d;g++){e=a[g];h=g+1;e.addClsOnOver(this["trigger"+h+"Cls"]+"-over",c,this);e.addClsOnClick(this["trigger"+h+"Cls"]+
"-click",c,this)}b.addClsOnClick(this.triggerBaseCls+"-click",c,this)},onDestroy:function(){Ext.destroyMembers(this,"triggerRepeater","triggerWrap","triggerEl");delete this.doc;this.callParent()},onFocus:function(){this.callParent(arguments);if(!this.mimicing){this.bodyEl.addCls(this.wrapFocusCls);this.mimicing=true;this.mon(this.doc,"mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab)this.on("specialkey",this.checkTab,this)}},checkTab:function(a,b){!this.ignoreMonitorTab&&b.getKey()==
b.TAB&&this.triggerBlur()},getTriggerStateFlags:function(){var a=0;this.readOnly&&(a=a+1);this.editable&&(a=a+2);this.hideTrigger&&(a=a+4);return a},onBlur:Ext.emptyFn,mimicBlur:function(a){!this.isDestroyed&&(!this.bodyEl.contains(a.target)&&this.validateBlur(a))&&this.triggerBlur(a)},triggerBlur:function(a){this.mimicing=false;this.mun(this.doc,"mousedown",this.mimicBlur,this);this.monitorTab&&this.inputEl&&this.un("specialkey",this.checkTab,this);Ext.form.field.Trigger.superclass.onBlur.call(this,
a);this.bodyEl&&this.bodyEl.removeCls(this.wrapFocusCls)},validateBlur:function(){return true},onTriggerWrapClick:function(){var a,b;if((b=arguments[this.triggerRepeater?1:0])&&!this.readOnly&&!this.disabled)if(a=(a=b.getTarget("."+this.triggerBaseCls,null))&&a.className.match(this.triggerIndexRe))(a=this["onTrigger"+(parseInt(a[1],10)+1)+"Click"]||this.onTriggerClick)&&a.call(this,b)},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn},0,["trigger","triggerfield"],"field trigger textfield component box triggerfield".split(" "),
{field:!0,trigger:!0,textfield:!0,component:!0,box:!0,triggerfield:!0},["widget.trigger","widget.triggerfield"],0,[Ext.form.field,"Trigger",Ext.form,"TriggerField",Ext.form,"TwinTriggerField",Ext.form,"Trigger"],0);
Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Trigger,{alternateClassName:"Ext.form.Picker",matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){this.callParent();this.keyNav=new Ext.util.KeyNav(this.inputEl,{down:this.onDownArrow,esc:{handler:this.onEsc,scope:this,defaultEventAction:false},scope:this,forceKeyDown:true});this.editable||
this.mon(this.inputEl,"click",this.onTriggerClick,this);Ext.isGecko&&this.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(a){Ext.isIE&&a.preventDefault();if(this.isExpanded){this.collapse();a.stopEvent()}},onDownArrow:function(){if(!this.isExpanded)this.onTriggerClick()},expand:function(){var a,b,c;if(this.rendered&&!this.isExpanded&&!this.isDestroyed){this.expanding=true;a=this.bodyEl;b=this.getPicker();c=this.collapseIf;b.show();this.isExpanded=true;this.alignPicker();a.addCls(this.openCls);
this.mon(Ext.getDoc(),{mousewheel:c,mousedown:c,scope:this});Ext.EventManager.onWindowResize(this.alignPicker,this);this.fireEvent("expand",this);this.onExpand();delete this.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var a=this.getPicker();if(this.isExpanded){this.matchFieldWidth&&a.setWidth(this.bodyEl.getWidth());a.isFloating()&&this.doAlign()}},doAlign:function(){var a=this.picker,b;this.picker.alignTo(this.triggerWrap,this.pickerAlign,this.pickerOffset);b=a.el.getY()<this.inputEl.getY();
this.bodyEl[b?"addCls":"removeCls"](this.openCls+"-above");a[b?"addCls":"removeCls"](a.baseCls+"-above")},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var a=this.openCls,b=this.picker,c=Ext.getDoc(),d=this.collapseIf;b.hide();this.isExpanded=false;this.bodyEl.removeCls([a,a+"-above"]);b.el.removeCls(b.baseCls+"-above");c.un("mousewheel",d,this);c.un("mousedown",d,this);Ext.EventManager.removeResizeListener(this.alignPicker,this);this.fireEvent("collapse",this);this.onCollapse()}},onCollapse:Ext.emptyFn,
collapseIf:function(a){!this.isDestroyed&&(!a.within(this.bodyEl,false,true)&&!a.within(this.picker.el,false,true)&&!this.isEventWithinPickerLoadMask(a))&&this.collapse()},getPicker:function(){return this.picker||(this.picker=this.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){if(!this.readOnly&&!this.disabled){this.isExpanded?this.collapse():this.expand();this.inputEl.focus()}},triggerBlur:function(){var a=this.picker;this.callParent(arguments);a&&a.isVisible()&&a.hide()},mimicBlur:function(a){var b=
this.picker;(!b||!a.within(b.el,false,true)&&!this.isEventWithinPickerLoadMask(a))&&this.callParent(arguments)},onDestroy:function(){var a=this.picker;Ext.EventManager.removeResizeListener(this.alignPicker,this);Ext.destroy(this.keyNav);if(a){delete a.pickerField;a.destroy()}this.callParent()},isEventWithinPickerLoadMask:function(a){var b=this.picker.loadMask;return b?a.within(b.maskEl,false,true)||a.within(b.el,false,true):false}},0,["pickerfield"],"field trigger textfield pickerfield component box triggerfield".split(" "),
{field:!0,trigger:!0,textfield:!0,pickerfield:!0,component:!0,box:!0,triggerfield:!0},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0);
Ext.cmd.derive("Ext.selection.Model",Ext.util.Observable,{alternateClassName:"Ext.AbstractSelectionModel",allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,constructor:function(a){a=a||{};Ext.apply(this,a);this.addEvents("selectionchange","focuschange");this.modes={SINGLE:true,SIMPLE:true,MULTI:true};this.setSelectionMode(a.mode||this.mode);this.selected=new Ext.util.MixedCollection(null,this.getSelectionId);this.callParent(arguments)},bindStore:function(a,b){this.mixins.bindable.bindStore.apply(this,
arguments);this.store&&!b&&this.refresh()},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,bulkremove:this.onStoreRemove,update:this.onStoreUpdate,load:this.onStoreLoad,idchanged:this.onModelIdChanged,refresh:this.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(a){var b=this.store.getRange(),c=0,d=b.length,e=this.getSelection().length;for(this.suspendChanges();c<d;c++)this.doSelect(b[c],
true,a);this.resumeChanges();a||this.maybeFireSelectionChange(this.getSelection().length!==e)},deselectAll:function(a){var b=this.getSelection(),c={},d=this.store,e=b.length,g,h,i;g=0;for(h=b.length;g<h;g++){i=b[g];c[i.internalId]=d.indexOf(i)}b=Ext.Array.sort(b,function(a,b){return c[a.internalId]<c[b.internalId]?-1:1});this.suspendChanges();this.doDeselect(b,a);this.resumeChanges();a||this.maybeFireSelectionChange(this.getSelection().length!==e)},selectWithEvent:function(a,b){var c=this.isSelected(a),
d=b.shiftKey,e=b.ctrlKey,g=this.selectionStart,h=this.getSelection(),i=h.length,j=this.allowDeselect;switch(this.selectionMode){case "MULTI":if(d&&g)this.selectRange(g,a,e);else if(e&&c)this.doDeselect(a,false);else if(e)this.doSelect(a,true,false);else if(c&&!d&&!e&&i>1){c=[];for(e=0;e<i;++e){g=h[e];g!==a&&c.push(g)}this.doDeselect(c)}else c||this.doSelect(a,false);break;case "SIMPLE":c?this.doDeselect(a):this.doSelect(a,true);break;case "SINGLE":if(j&&!e)j=this.toggleOnClick;j&&c?this.doDeselect(a):
this.doSelect(a,false)}if(!d)this.selectionStart=this.isSelected(a)?a:null},afterKeyNavigate:function(a,b){var c,d;c=this.isSelected(b);var e=this.selectionStart&&this.isSelected(this.lastFocused)?this.selectionStart:this.selectionStart=this.lastFocused,g=a.getCharCode();d=g===a.SPACE;g=g===a.UP||g===a.PAGE_UP?"up":g===a.DOWN||g===a.DOWN?"down":null;switch(this.selectionMode){case "MULTI":if(d)if(a.shiftKey)this.selectRange(e,b,a.ctrlKey);else if(c){this.doDeselect(b,a.ctrlKey);this.setLastFocused(null);
this.setLastFocused(b)}else this.doSelect(b,a.ctrlKey);else if(a.shiftKey&&e){d=this.store.indexOf(e);c=this.store.indexOf(b);g==="up"&&d<=c?this.deselectRange(this.lastFocused,c+1):g==="down"&&d>=c?this.deselectRange(this.lastFocused,c-1):e!==b&&this.selectRange(e,b,a.ctrlKey);this.lastSelected=b;this.setLastFocused(b)}else a.ctrlKey&&c?this.setLastFocused(b):a.ctrlKey?this.setLastFocused(b):this.doSelect(b,false);break;case "SIMPLE":c?this.doDeselect(b):this.doSelect(b,true);break;case "SINGLE":if(d)if(c){this.doDeselect(b);
this.setLastFocused(b)}else this.doSelect(b);else a.ctrlKey?this.setLastFocused(b):this.allowDeselect&&c?this.doDeselect(b):this.doSelect(b,false)}if(!a.shiftKey&&this.isSelected(b))this.selectionStart=b},selectRange:function(a,b,c){var d=this.store,e=this.selected.items,g,h,i,j,k;if(!this.isLocked()){b=this.normalizeRowRange(a,b);a=b[0];b=b[1];h=[];for(g=a;g<=b;g++)this.isSelected(d.getAt(g))||h.push(d.getAt(g));if(!c){i=[];this.suspendChanges();g=0;for(c=e.length;g<c;++g){k=e[g];j=d.indexOf(k);
(j<a||j>b)&&i.push(k)}g=0;for(c=i.length;g<c;++g)this.doDeselect(i[g]);this.resumeChanges()}this.doMultiSelect(h,true)}},deselectRange:function(a,b){var c=this.store,d,e,g;if(!this.isLocked()){d=this.normalizeRowRange(a,b);a=d[0];b=d[1];e=[];for(d=a;d<=b;d++){g=c.getAt(d);this.isSelected(g)&&e.push(g)}this.doDeselect(e)}},normalizeRowRange:function(a,b){var c=this.store;Ext.isNumber(a)||(a=c.indexOf(a));a=Math.max(0,a);Ext.isNumber(b)||(b=c.indexOf(b));b=Math.min(b,c.getCount()-1);if(a>b){c=b;b=a;
a=c}return[a,b]},onModelIdChanged:function(a,b,c,d,e){this.selected.updateKey(e,d)},select:function(a,b,c){Ext.isDefined(a)&&this.doSelect(a,b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){if(!this.locked&&this.store){if(typeof a==="number"){a=this.store.getAt(a);if(!a)return;a=[a]}if(this.selectionMode=="SINGLE"&&a){a=a.length?a[0]:a;this.doSingleSelect(a,c)}else this.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){var d=this.selected,e=false,g,h,i;if(!this.locked){a=
!Ext.isArray(a)?[a]:a;g=a.length;if(!b&&d.getCount()>0){b=this.deselectDuringSelect(a,d.getRange(),c);if(b[0]){this.maybeFireSelectionChange(b[1]>0&&!c);return}}i=function(){d.add(h);e=true};for(b=0;b<g;b++){h=a[b];if(!this.isSelected(h)){this.lastSelected=h;this.onSelectChange(h,true,c,i)}}this.preventFocus||this.setLastFocused(h,c);this.maybeFireSelectionChange(e&&!c)}},deselectDuringSelect:function(a,b,c){var d=b.length,e=0,g=false,h,i;this.suspendChanges();for(i=0;i<d;++i){h=b[i];Ext.Array.contains(a,
h)||(this.doDeselect(h,c)?++e:g=true)}this.resumeChanges();return[g,e]},doDeselect:function(a,b){var c=this.selected,d=0,e,g,h=0,i=0,j;if(this.locked||!this.store)return false;if(typeof a==="number"){g=this.store.getAt(a);if(!g)return false;a=[g]}else Ext.isArray(a)||(a=[a]);j=function(){++i;c.remove(g)};e=a.length;for(this.suspendChanges();d<e;d++){g=a[d];if(this.isSelected(g)){if(this.lastSelected===g){this.lastSelected=c.last();this.lastFocused===g&&this.setLastFocused(null)}++h;this.onSelectChange(g,
false,b,j)}}this.resumeChanges();this.maybeFireSelectionChange(i>0&&!b);return i===h},doSingleSelect:function(a,b){var c=this,d=false,e=c.selected;if(!c.locked&&!c.isSelected(a)){if(e.getCount()){c.suspendChanges();if(!c.doDeselect(c.lastSelected,b)){c.resumeChanges();return}c.resumeChanges()}c.onSelectChange(a,true,b,function(){e.add(a);c.lastSelected=a;d=true});if(d){!b&&!c.preventFocus&&c.setLastFocused(a);c.maybeFireSelectionChange(!b)}}},setLastFocused:function(a,b){var c=this.lastFocused;if(a!==
c){this.lastFocused=a;this.onLastFocusChanged(c,a,b)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.fireEvent("selectionchange",this,this.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";
this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(a,b){var c=this.store,d;d=this.normalizeRowRange(a,b);a=d[0];b=d[1];for(d=a;d<=b;d++)if(!this.isSelected(c.getAt(d)))return false;return true},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var a=
this.selected,b=[],c=a.length,d,e;if(this.pruneRemoved){for(d=0;d<c;d++){e=a.getAt(d);this.storeHasSelected(e)||b.push(e)}if(b.length){d=0;for(c=b.length;d<c;d++)a.remove(b[d]);this.maybeFireSelectionChange(true)}}},storeHasSelected:function(a){var b=this.store,c,d;if(a.hasId()&&b.getById(a))return true;b=b.data.items;c=b.length;a=a.internalId;for(d=0;d<c;++d)if(a===b[d].internalId)return true;return false},refresh:function(){var a=this.store,b,c=[],d=[],e=this.getSelection(),g=e.length,h,i,j=0,k=
this.getLastFocused();if(a){for(;j<g;j++){h=e[j];if(a.indexOf(h)!==-1)c.push(h);else if(!this.pruneRemoved)(b=a.getById(h.getId()))?c.push(b):d.push(h);if(this.mode==="SINGLE"&&d.length)break}this.selected.getCount()!=c.length+d.length&&(i=true);this.clearSelections();a.indexOf(k)!==-1&&this.setLastFocused(k,true);c.length&&this.doSelect(c,false,true);if(d.length){this.selected.addAll(d);if(!this.lastSelected)this.lastSelected=d[d.length-1]}this.maybeFireSelectionChange(i)}},clearSelections:function(){this.selected.clear();
this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(a,b,c,d){if(this.selectionStart&&Ext.Array.contains(b,this.selectionStart))this.selectionStart=null;!d&&(!this.locked&&this.pruneRemoved)&&this.deselectDeletedRecords(b)},deselectDeletedRecords:function(a){var b=this.selected,c,d=a.length,e=0,g;for(c=0;c<d;c++){g=a[c];if(b.remove(g)){if(this.lastSelected==
g)this.lastSelected=null;this.getLastFocused()==g&&this.setLastFocused(null);++e}}e&&this.maybeFireSelectionChange(true)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(a,b,c,d){b=b?"select":"deselect";if((c||this.fireEvent("before"+b,this,a))!==false&&d()!==false)c||this.fireEvent(b,this,a)},onLastFocusChanged:function(a,b){this.fireEvent("focuschange",
this,a,b)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true)},bindComponent:Ext.emptyFn},1,0,0,0,0,[["bindable",Ext.util.Bindable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0);
Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(a){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(a){var b={refresh:this.refresh,scope:this};this.view=a;this.bindStore(a.getStore());b[a.triggerEvent]=this.onItemClick;b[a.triggerCtEvent]=this.onContainerClick;a.on(b);this.enableKeyNav&&this.initKeyNav(a)},onUpdate:function(a){var b=this.view;if(b&&
this.isSelected(a))b.onItemSelect(a)},onItemClick:function(a,b,c,d,e){this.selectWithEvent(b,e)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(a){if(a.rendered){a.el.set({tabIndex:-1});this.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,down:Ext.pass(this.onNavKey,[1],this),right:Ext.pass(this.onNavKey,[1],this),left:Ext.pass(this.onNavKey,[-1],this),up:Ext.pass(this.onNavKey,[-1],this),scope:this})}else a.on({render:Ext.Function.bind(this.initKeyNav,
this,[a]),single:true})},onNavKey:function(a){var a=a||1,b=this.view,c=this.getSelection()[0],d=this.view.store.getCount(),a=c?b.indexOf(b.getNode(c))+a:0;a<0?a=d-1:a>=d&&(a=0);this.select(a)},onSelectChange:function(a,b,c,d){var e=this.view,g=b?"select":"deselect";if((c||this.fireEvent("before"+g,this,a))!==false&&d()!==false){if(e)if(b)e.onItemSelect(a);else e.onItemDeselect(a);c||this.fireEvent(g,this,a)}},onLastFocusChanged:function(a,b,c){var d=this.view;if(d&&!c&&b){d.focusNode(b);this.fireEvent("focuschange",
this,a,b)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}},1,0,0,0,0,0,[Ext.selection,"DataViewModel"],0);
Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",
addCmpEvents:function(){},initComponent:function(){var a=this.itemTpl,b={};if(a){if(Ext.isArray(a))a=a.join("");else if(Ext.isObject(a)){b=Ext.apply(b,a.initialConfig);a=a.html}if(!this.itemSelector)this.itemSelector="."+this.itemCls;a=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',this.itemCls,a);this.tpl=new Ext.XTemplate(a,b)}this.callParent();this.tpl=this.getTpl("tpl");if(this.overItemCls)this.trackOver=true;this.addEvents("beforerefresh","refresh","viewready","itemupdate",
"itemadd","itemremove");this.addCmpEvents();this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");if(!this.dataSource)this.dataSource=this.store;this.bindStore(this.dataSource,true,"dataSource");if(!this.all)this.all=new Ext.CompositeElementLite;this.scrollState={top:0,left:0};this.on({scroll:this.onViewScroll,element:"el",scope:this})},onRender:function(){var a=this.loadMask,b=this.getMaskStore(),c={target:this,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,
store:b};this.callParent(arguments);if(a&&!b.proxy.isSynchronous){Ext.isObject(a)&&(c=Ext.apply(c,a));this.loadMask=new Ext.LoadMask(c);this.loadMask.on({scope:this,beforeshow:this.onMaskBeforeShow,hide:this.onMaskHide})}},finishRender:function(){this.callParent(arguments);this.up("[collapsed],[hidden]")||this.doFirstRefresh(this.dataSource)},onBoxReady:function(){this.callParent(arguments);this.firstRefreshDone||this.doFirstRefresh(this.dataSource)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=
this.loadingHeight;if(a&&a>this.getHeight()){this.hasLoadingHeight=true;this.oldMinHeight=this.minHeight;this.minHeight=a;this.updateLayout()}},onMaskHide:function(){if(!this.destroying&&this.hasLoadingHeight){this.minHeight=this.oldMinHeight;this.updateLayout();delete this.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=
"SINGLE";this.simpleSelect?a="SIMPLE":this.multiSelect&&(a="MULTI");if(!this.selModel||!this.selModel.events)this.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:this.allowDeselect,mode:a},this.selModel));if(!this.selModel.hasRelaySetup){this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);this.selModel.hasRelaySetup=true}if(this.disableSelection)this.selModel.locked=true;return this.selModel},refresh:function(){var a,
b,c,d,e,g;if(this.rendered&&!this.isDestroyed&&(!this.hasListeners.beforerefresh||this.fireEvent("beforerefresh",this)!==false)){a=this.getTargetEl();g=this.getViewRange();e=a.dom;if(!this.preserveScrollOnRefresh){b=e.parentNode;c=e.style.display;e.style.display="none";d=e.nextSibling;b.removeChild(e)}if(this.refreshCounter)this.clearViewEl();else{this.fixedNodes=a.dom.childNodes.length;this.refreshCounter=1}this.tpl.append(a,this.collectData(g,this.all.startIndex));if(g.length<1){!this.store.loading&&
(!this.deferEmptyText||this.hasFirstRefresh)&&Ext.core.DomHelper.insertHtml("beforeEnd",a.dom,this.emptyText);this.all.clear()}else{this.collectNodes(a.dom);this.updateIndexes(0)}this.hasFirstRefresh&&(this.refreshSelmodelOnRefresh!==false?this.selModel.refresh():this.selModel.pruneIf());this.hasFirstRefresh=true;if(!this.preserveScrollOnRefresh){b.insertBefore(e,d);e.style.display=c}this.refreshSize();this.fireEvent("refresh",this);if(!this.viewReady){this.viewReady=true;this.fireEvent("viewready",
this)}}},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();(a.height.shrinkWrap||a.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var a=this.getTargetEl();if(this.fixedNodes)for(;a.dom.childNodes[this.fixedNodes];)a.dom.removeChild(a.dom.childNodes[this.fixedNodes]);else a.update("");this.refreshCounter++},onViewScroll:Ext.emptyFn,
onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft;b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left;a.scrollTop=b.top}},prepareData:function(a,b,c){var d,e;if(c){b=c.getAssociatedData();for(d in b)if(b.hasOwnProperty(d)){if(!e){a=Ext.Object.chain(a);e=true}a[d]=b[d]}}return a},collectData:function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++){g=a[d];
c[d]=this.prepareData(g.data,b+d,g)}return c},bufferRender:function(a,b){var c=this.renderBuffer||(this.renderBuffer=document.createElement("div"));this.tpl.overwrite(c,this.collectData(a,b));return Ext.DomQuery.select(this.getItemSelector(),c)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(a,b){var c,d;if(this.viewReady){c=this.dataSource.indexOf(b);if(c>-1){d=this.bufferRender([b],c)[0];if(this.getNode(b)){this.all.replaceElement(c,d,true);this.updateIndexes(c,c);this.selModel.onUpdate(b);
this.hasListeners.itemupdate&&this.fireEvent("itemupdate",b,c,d);return d}}}},onAdd:function(a,b,c){if(this.rendered){if(this.all.getCount()===0){this.refresh();a=this.all.slice()}else{a=this.doAdd(b,c);this.refreshSelmodelOnRefresh!==false&&this.selModel.refresh();this.updateIndexes(c);this.refreshSize()}this.hasListeners.itemadd&&this.fireEvent("itemadd",b,c,a)}},doAdd:function(a,b){var c=this.bufferRender(a,b,true),d=this.all,e=d.getCount(),g;if(e===0){e=0;for(g=c.length;e<g;e++)this.getNodeContainer().appendChild(c[e])}else b<
e?b===0?d.item(b).insertSibling(c,"before",true):d.item(b-1).insertSibling(c,"after",true):d.last().insertSibling(c,"after",true);d.insert(b,c);return c},onRemove:function(a,b,c){var a=this.hasListeners.itemremove,d,e,g;if(this.all.getCount()){if(this.dataSource.getCount()===0){if(a)for(d=c.length-1;d>=0;--d)this.fireEvent("itemremove",b[d],c[d]);this.refresh()}else{for(d=c.length-1;d>=0;--d){e=b[d];g=c[d];this.doRemove(e,g);a&&this.fireEvent("itemremove",e,g)}this.updateIndexes(c[0])}this.refreshSize()}},
doRemove:function(a,b){this.all.removeElement(b,true)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(a,b){var c=this.all.elements,d=this.getViewRange(),e,b=b||(b===0?0:c.length-1);for(e=a||0;e<=b;e++){c[e].viewIndex=e;c[e].viewRecordId=d[e].internalId;if(!c[e].boundView)c[e].boundView=this.id}},getStore:function(){return this.store},bindStore:function(a,b,c){this.mixins.bindable.bindStore.apply(this,arguments);b||this.getSelectionModel().bindStore(a);
this.componentLayoutCounter&&this.doFirstRefresh(a)},doFirstRefresh:function(a){this.firstRefreshDone=true;a&&!a.loading&&(this.deferInitialRefresh?this.applyFirstRefresh():this.refresh())},applyFirstRefresh:function(){var a=this;a.isDestroyed||(a.up("[isCollapsingOrExpanding]")?Ext.Function.defer(a.applyFirstRefresh,100,a):Ext.Function.defer(function(){a.isDestroyed||a.refresh()},1))},onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(a,b,c){this.setMaskBind(a);!b&&c==="store"&&
this.bindStore(a,false,"dataSource")},setMaskBind:function(a){var b=this.loadMask;b&&b.bindStore&&b.bindStore(a)},getStoreListeners:function(){return{idchanged:this.onIdChanged,refresh:this.onDataRefresh,add:this.onAdd,bulkremove:this.onRemove,update:this.onUpdate,clear:this.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){if(!this.firstRefreshDone&&(!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]")))this.deferInitialRefresh=false;else if(this.blockRefresh!==
true){this.firstRefreshDone=true;this.refresh()}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var a=[],b=this.selModel.getSelection(),c=b.length,d=0;d<c;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){for(var b=[],c=0,d=a.length,e=this.dataSource.data;c<d;c++)b[b.length]=e.getByKey(a[c].viewRecordId);return b},
getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){return this.selModel.isSelected(this.getRecord(a))},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){return!a&&a!==0||!this.rendered?null:Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a.isModel?this.getNodeByRecord(a):a},getNodeByRecord:function(a){for(var b=this.all.elements,c=b.length,
d=0;d<c;d++)if(b[d].viewRecordId===a.internalId)return b[d];return null},getNodes:function(a,b){var c=this.all;b===void 0?b=c.getCount():b++;return c.slice(a||0,b)},indexOf:function(a){a=this.getNode(a);return!a&&a!==0?-1:Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onDestroy:function(){this.all.clear();this.callParent();this.bindStore(null);this.selModel.destroy()},onItemSelect:function(a){(a=this.getNode(a))&&Ext.fly(a).addCls(this.selectedItemCls)},onItemDeselect:function(a){(a=this.getNode(a))&&
Ext.fly(a).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},0,0,["component","box"],{component:!0,box:!0},0,[["bindable",Ext.util.Bindable]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection().length},
getSelectedRecords:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection()},select:function(a,b,c){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){Ext.global.console&&
Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");return this.getSelectionModel().deselectAll()}})})});
Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){this.callParent();if(this.mouseOverOutBuffer){this.handleMouseOverOrOut=
Ext.Function.createBuffered(this.handleMouseOverOrOut,this.mouseOverOutBuffer,this);this.lastMouseOverOutEvent=new Ext.EventObjectImpl}else if(this.deferHighlight)this.setHighlightedItem=Ext.Function.createBuffered(this.setHighlightedItem,this.deferHighlight,this)},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup",
"itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect",
"focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this.mouseOverOutBuffer?this.onMouseOverOut:this.handleMouseOverOrOut;this.callParent();this.mon(this.getTargetEl(),{scope:this,freezeEvent:true,click:this.handleEvent,mousedown:this.handleEvent,mouseup:this.handleEvent,dblclick:this.handleEvent,contextmenu:this.handleEvent,keydown:this.handleEvent,mouseover:a,mouseout:a})},onMouseOverOut:function(a){this.lastMouseOverOutEvent.setEvent(a.browserEvent,
true);this.handleMouseOverOrOut(this.lastMouseOverOutEvent)},handleMouseOverOrOut:function(a){var b=a.type==="mouseout"?a.getRelatedTarget:a.getTarget,b=b.call(a,this.itemSelector)||b.call(a,this.dataRowSelector);if(!this.mouseOverItem||b!==this.mouseOverItem){if(this.mouseOverItem){a.item=this.mouseOverItem;a.newType="mouseleave";this.handleEvent(a)}if(this.mouseOverItem=b){a.item=this.mouseOverItem;a.newType="mouseenter";this.handleEvent(a)}}},handleEvent:function(a){var b=a.type=="keydown"&&a.getKey();
this.processUIEvent(a)!==false&&this.processSpecialEvent(a);b===a.SPACE&&(this.inputTagRe.test(a.getTarget().tagName)||a.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(Ext.getBody().isAncestor(a.target)){var b=a.getTarget(this.getItemSelector(),this.getTargetEl()),c=this.statics().EventMap,d,e,g=d=a.type;if(a.newType){g=a.newType;b=a.item}if(!b&&d=="keydown"){e=this.getSelectionModel();(e=e.lastFocused||e.getLastSelected())&&
(b=this.getNode(e,true))}if(b){e||(e=this.getRecord(b));d=this.indexInStore?this.indexInStore(e):this.indexOf(b);if(!e||this.processItemEvent(e,b,d,a)===false||this["onBeforeItem"+c[g]](e,b,d,a)===false||this.fireEvent("beforeitem"+g,this,e,b,d,a)===false||this["onItem"+c[g]](e,b,d,a)===false)return false;this.fireEvent("item"+g,this,e,b,d,a)}else{if(this.processContainerEvent(a)===false||this["onBeforeContainer"+c[d]](a)===false||this.fireEvent("beforecontainer"+d,this,a)===false||this["onContainer"+
c[d]](a)===false)return false;this.fireEvent("container"+d,this,a)}return true}},onItemMouseEnter:function(a,b){this.trackOver&&this.highlightItem(b)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,
onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,
onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(a){var b=this.highlightedItem,c=this.overItemCls,d=this.beforeOverItemCls;if(b!=a){if(b){Ext.fly(b).removeCls(c);c=b.previousSibling;d&&c&&Ext.fly(c).removeCls(d);this.fireEvent("unhighlightitem",this,b)}if(this.highlightedItem=a){Ext.fly(a).addCls(this.overItemCls);c=a.previousSibling;
d&&c&&Ext.fly(c).addCls(d);this.fireEvent("highlightitem",this,a)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(a,b){var c,d,e;if(this.viewReady){c=this.getNode(b);d=this.callParent(arguments);if((e=this.highlightedItem)&&e===c){delete this.highlightedItem;d&&this.highlightItem(d)}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(a){var b=this.getNode(a,true),a=this.el,
c=0,d=0,e=a.getRegion();e.bottom=e.top+a.dom.clientHeight;e.right=e.left+a.dom.clientWidth;if(b){b=Ext.fly(b).getRegion();b.top<e.top?c=b.top-e.top:b.bottom>e.bottom&&(c=b.bottom-e.bottom);b.left<e.left?d=b.left-e.left:b.right>e.right&&(d=b.right-e.right);(d||c)&&this.scrollBy(d,c,false);a.focus()}}},0,["dataview"],["component","box","dataview"],{component:!0,box:!0,dataview:!0},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0);
Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(a){var b=this.owner,c=b.pagingToolbar;this.callParent(arguments);if(b.floating){a.savedXY=b.getXY();b.setXY([0,-9999])}if(c)a.toolbarContext=a.context.getCmp(c);a.listContext=a.getEl("listEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments);if(a.heightModel.auto){b.el.setHeight("auto");b.listEl.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;
return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments);b&&this.owner.setXY(b)},measureContentWidth:function(){return this.owner.listEl.getWidth()},measureContentHeight:function(){return this.owner.listEl.getHeight()},publishInnerHeight:function(a,b){var c=a.toolbarContext,d=0;c&&(d=c.getProp("height"));d===void 0?this.done=false:a.listContext.setHeight(b-a.getFrameInfo().height-d)},calculateOwnerHeightFromContentHeight:function(a){var b=
this.callParent(arguments),c=a.toolbarContext;c&&(b=b+c.getProp("height"));return b}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0);
Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){this.callParent();Ext.apply(this.renderData,{text:this.text})},setText:function(a){this.text=a;if(this.rendered){this.el.update(a);this.updateLayout()}}},0,["tbtext"],["tbitem","component","box","tbtext"],{tbitem:!0,component:!0,box:!0,tbtext:!0},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],
0);
Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Trigger,{alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div><div class="'+
Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div></td></tr>',initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var a;this.callParent(arguments);a=this.triggerEl;this.spinUpEl=a.item(0);this.spinDownEl=a.item(1);this.triggerCell=this.spinUpEl.parent();if(this.keyNavEnabled)this.spinnerKeyNav=new Ext.util.KeyNav(this.inputEl,{scope:this,
up:this.spinUp,down:this.spinDown});this.mouseWheelEnabled&&this.mon(this.bodyEl,"mousewheel",this.onMouseWheel,this)},getSubTplMarkup:function(a){var b=a.childElCls,c=Ext.form.field.Base.prototype.getSubTplMarkup.apply(this,arguments);return'<table id="'+this.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+b+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+this.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+b+'">'+c+"</td>"+this.getTriggerMarkup()+"</tbody></table>"},
getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:this.readOnly||this.hideTrigger?"display:none":"",spinnerUpCls:!this.spinUpEnabled?this.trigger1Cls+"-disabled":"",spinnerDownCls:!this.spinDownEnabled?this.trigger2Cls+"-disabled":""}},getTriggerWidth:function(){var a=0;if(this.triggerWrap&&!this.hideTrigger&&!this.readOnly)a=this.triggerWidth;return a},onTrigger1Click:function(){this.spinUp()},
onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){if(this.spinUpEnabled&&!this.disabled){this.fireEvent("spin",this,"up");this.fireEvent("spinup",this);this.onSpinUp()}},spinDown:function(){if(this.spinDownEnabled&&!this.disabled){this.fireEvent("spin",this,"down");this.fireEvent("spindown",this);this.onSpinDown()}},setSpinUpEnabled:function(a){var b=this.spinUpEnabled;this.spinUpEnabled=a;if(b!==a&&this.rendered)this.spinUpEl[a?"removeCls":
"addCls"](this.trigger1Cls+"-disabled")},setSpinDownEnabled:function(a){var b=this.spinDownEnabled;this.spinDownEnabled=a;if(b!==a&&this.rendered)this.spinDownEl[a?"removeCls":"addCls"](this.trigger2Cls+"-disabled")},onMouseWheel:function(a){var b;if(this.hasFocus){b=a.getWheelDelta();b>0?this.spinUp():b<0&&this.spinDown();a.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}},0,["spinnerfield"],"field trigger textfield component box spinnerfield triggerfield".split(" "),
{field:!0,trigger:!0,textfield:!0,component:!0,box:!0,spinnerfield:!0,triggerfield:!0},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],0);
Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,
initComponent:function(){this.callParent();this.setMinValue(this.minValue);this.setMaxValue(this.maxValue)},getErrors:function(a){var b=this.callParent(arguments),c=Ext.String.format,d,a=Ext.isDefined(a)?a:this.processRawValue(this.getRawValue());if(a.length<1)return b;a=(""+a).replace(this.decimalSeparator,".");isNaN(a)&&b.push(c(this.nanText,a));d=this.parseValue(a);this.minValue===0&&d<0?b.push(this.negativeText):d<this.minValue&&b.push(c(this.minText,this.minValue));d>this.maxValue&&b.push(c(this.maxText,
this.maxValue));return b},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));b===null&&(b=a||null);return b},valueToRaw:function(a){var b=this.decimalSeparator,a=this.parseValue(a),a=this.fixPrecision(a),a=Ext.isNumber(a)?a:parseFloat((""+a).replace(b,"."));return a=isNaN(a)?"":(""+a).replace(".",b)},getSubmitValue:function(){var a=this.callParent();this.submitLocaleSeparator||(a=a.replace(this.decimalSeparator,"."));return a},onChange:function(){this.toggleSpinners();this.callParent(arguments)},
toggleSpinners:function(){var a=this.getValue(),b=a===null,c;if(this.spinUpEnabled||this.spinUpDisabledByToggle){c=b||a<this.maxValue;this.setSpinUpEnabled(c,true)}if(this.spinDownEnabled||this.spinDownDisabledByToggle){c=b||a>this.minValue;this.setSpinDownEnabled(c,true)}},setMinValue:function(a){this.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY);this.toggleSpinners();if(this.disableKeyFilter!==true){a=this.baseChars+"";if(this.allowExponential)a=a+(this.decimalSeparator+"e+-");else{this.allowDecimals&&
(a=a+this.decimalSeparator);this.minValue<0&&(a=a+"-")}a=Ext.String.escapeRegex(a);this.maskRe=RegExp("["+a+"]");if(this.autoStripChars)this.stripCharsRe=RegExp("[^"+a+"]","gi")}},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat((""+a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(a){var b=isNaN(a),c=this.decimalPrecision;if(b||!a)return b?"":a;if(!this.allowDecimals||c<=0)c=0;return parseFloat(Ext.Number.toFixed(parseFloat(a),
c))},beforeBlur:function(){var a=this.parseValue(this.getRawValue());Ext.isEmpty(a)||this.setValue(a)},setSpinUpEnabled:function(a,b){this.callParent(arguments);b?this.spinUpDisabledByToggle=!a:delete this.spinUpDisabledByToggle},onSpinUp:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()+this.step,this.minValue,this.maxValue))},setSpinDownEnabled:function(a,b){this.callParent(arguments);b?this.spinDownDisabledByToggle=!a:delete this.spinDownDisabledByToggle},onSpinDown:function(){this.readOnly||
this.setSpinValue(Ext.Number.constrain(this.getValue()-this.step,this.minValue,this.maxValue))},setSpinValue:function(a){this.enforceMaxLength&&this.fixPrecision(a).toString().length>this.maxLength||this.setValue(a)}},0,["numberfield"],"field trigger textfield component box numberfield spinnerfield triggerfield".split(" "),{field:!0,trigger:!0,textfield:!0,component:!0,box:!0,numberfield:!0,spinnerfield:!0,triggerfield:!0},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,
"Number"],0);
Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){return[{itemId:"first",tooltip:this.firstText,overflowText:this.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",
disabled:true,handler:this.moveFirst,scope:this},{itemId:"prev",tooltip:this.prevText,overflowText:this.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this},"-",this.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:this.inputItemWidth,margins:"-1 2 3 2",
listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(this.afterPageText,1)},"-",{itemId:"next",tooltip:this.nextText,overflowText:this.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:this.moveNext,scope:this},{itemId:"last",tooltip:this.lastText,overflowText:this.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:this.moveLast,scope:this},"-",{itemId:"refresh",tooltip:this.refreshText,
overflowText:this.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:this.doRefresh,scope:this}]},initComponent:function(){var a=this.getPagingItems(),b=this.items||this.buttons||[];this.items=this.prependButtons?b.concat(a):a.concat(b);delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push({xtype:"tbtext",itemId:"displayItem"})}this.callParent();this.addEvents("change","beforechange");this.on("beforerender",this.onLoad,this,{single:true});this.bindStore(this.store||
"ext-empty-store",true)},updateInfo:function(){var a=this.child("#displayItem"),b=this.store,c=this.getPageData();if(a){b=b.getCount();c=b===0?this.emptyMsg:Ext.String.format(this.displayMsg,c.fromRecord,c.toRecord,c.total);a.setText(c)}},onLoad:function(){var a,b,c,d,e,g;if(e=this.store.getCount()===0){c=b=0;d=Ext.String.format(this.afterPageText,0)}else{a=this.getPageData();b=a.currentPage;c=a.pageCount;d=Ext.String.format(this.afterPageText,isNaN(c)?1:c)}Ext.suspendLayouts();(g=this.child("#afterTextItem"))&&
g.setText(d);(g=this.getInputItem())&&g.setDisabled(e).setValue(b);this.setChildDisabled("#first",b===1||e);this.setChildDisabled("#prev",b===1||e);this.setChildDisabled("#next",b===c||e);this.setChildDisabled("#last",b===c||e);this.setChildDisabled("#refresh",false);this.updateInfo();Ext.resumeLayouts(true);this.rendered&&this.fireEvent("change",this,a)},setChildDisabled:function(a,b){var c=this.child(a);c&&c.setDisabled(b)},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,
currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){this.rendered&&this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(a){var b=this.getInputItem(),c=false,d;if(b){d=b.getValue();c=parseInt(d,10);if(!d||isNaN(c)){b.setValue(a.currentPage);return false}}return c},onPagingFocus:function(){var a=this.getInputItem();
a&&a.select()},onPagingBlur:function(){var a=this.getInputItem(),b;if(a){b=this.getPageData().currentPage;a.setValue(b)}},onPagingKeyDown:function(a,b){var c=b.getKey(),d=this.getPageData(),e=b.shiftKey?10:1,g;if(c==b.RETURN){b.stopEvent();g=this.readPageFromInput(d);if(g!==false){g=Math.min(Math.max(1,g),d.pageCount);this.fireEvent("beforechange",this,g)!==false&&this.store.loadPage(g)}}else if(c==b.HOME||c==b.END){b.stopEvent();g=c==b.HOME?1:d.pageCount;a.setValue(g)}else if(c==b.UP||c==b.PAGE_UP||
c==b.DOWN||c==b.PAGE_DOWN){b.stopEvent();if(g=this.readPageFromInput(d)){if(c==b.DOWN||c==b.PAGE_DOWN)e=e*-1;g=g+e;g>=1&&g<=d.pageCount&&a.setValue(g)}}},beforeLoad:function(){this.rendered&&this.setChildDisabled("#refresh",true)},moveFirst:function(){this.fireEvent("beforechange",this,1)!==false&&this.store.loadPage(1)},movePrevious:function(){var a=this.store.currentPage-1;a>0&&this.fireEvent("beforechange",this,a)!==false&&this.store.previousPage()},moveNext:function(){var a=this.getPageData().pageCount,
b=this.store.currentPage+1;b<=a&&this.fireEvent("beforechange",this,b)!==false&&this.store.nextPage()},moveLast:function(){var a=this.getPageData().pageCount;this.fireEvent("beforechange",this,a)!==false&&this.store.loadPage(a)},doRefresh:function(){var a=this.store.currentPage;this.fireEvent("beforechange",this,a)!==false&&this.store.loadPage(a)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(){this.bindStore(null)},bind:function(a){this.bindStore(a)},
onDestroy:function(){this.unbind();this.callParent()}},0,["pagingtoolbar"],["toolbar","component","container","pagingtoolbar","box"],{toolbar:!0,component:!0,container:!0,pagingtoolbar:!0,box:!0},["widget.pagingtoolbar"],[["bindable",Ext.util.Bindable]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0);
Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {",
"pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var a=this.baseCls,b=this.itemCls;this.selectedItemCls=a+"-selected";if(this.trackOver)this.overItemCls=a+"-item-over";this.itemSelector="."+b;this.floating&&this.addCls(a+"-floating");if(this.tpl){if(!this.tpl.isTemplate)this.tpl=new Ext.XTemplate(this.tpl)}else this.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">',
'<li role="option" unselectable="on" class="'+b+'">'+this.getInnerTpl(this.displayField)+"</li>","</tpl></ul>");if(this.pageSize)this.pagingToolbar=this.createPagingToolbar();this.callParent()},beforeRender:function(){this.callParent(arguments);this.up("menu")&&this.addCls(Ext.baseCSSPrefix+"menu")},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",
{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);a&&a.finishRender()},refresh:function(){var a=this.tpl,b=this.pagingToolbar,c=this.rendered;a.field=this.pickerField;a.store=this.store;this.callParent();a.field=a.store=null;c&&(b&&b.rendered&&!this.preserveScrollOnRefresh)&&this.el.appendChild(b.el);c&&(Ext.isIE6&&Ext.isStrict)&&
this.listEl.repaint()},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments);c&&c.bindStore(a,b)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}},0,["boundlist"],["component","boundlist","box","dataview"],{component:!0,boundlist:!0,box:!0,dataview:!0},["widget.boundlist"],[["queryable",Ext.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0);
Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.util.KeyNav,{constructor:function(a,b){this.boundList=b.boundList;this.callParent([a,Ext.apply({},b,this.defaultHandlers)])},defaultHandlers:{up:function(){var a=this.boundList,b=a.all,c=a.highlightedItem,a=c?a.indexOf(c):-1;this.highlightAt(a>0?a-1:b.getCount()-1)},down:function(){var a=this.boundList,b=a.all,c=a.highlightedItem,a=c?a.indexOf(c):-1;this.highlightAt(a<b.getCount()-1?a+1:0)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},
end:function(){this.highlightAt(this.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(a){var b=this.boundList;if(a=b.all.item(a)){a=a.dom;b.highlightItem(a);b.getTargetEl().scrollChildIntoView(a,false)}},selectHighlighted:function(a){var b=this.boundList,c=b.highlightedItem,d=b.getSelectionModel();c&&d.selectWithEvent(b.getRecord(c),a)}},1,0,0,0,0,0,[Ext.view,"BoundListKeyNav"],0);
Ext.cmd.derive("Ext.layout.component.field.ComboBox",Ext.layout.component.field.Trigger,{type:"combobox",startingWidth:null,getTextWidth:function(){for(var a=this.owner,b=a.store,c=a.displayField,d=b.data.length,e="",g=0,h=0,i,j;g<d;g++){j=b.getAt(g).data[c];i=j.length;if(i>h){h=i;e=j}}b=Math.max(this.callParent(arguments),a.inputEl.getTextWidth(e+a.growAppend));if(!this.startingWidth||a.removingRecords){this.startingWidth=b;if(b<a.growMin)a.defaultListConfig.minWidth=a.growMin;a.removingRecords=
false}return b<this.startingWidth?this.startingWidth:b}},0,0,0,0,["layout.combobox"],0,[Ext.layout.component.field,"ComboBox"],0);
Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>',
'<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){Ext.applyIf(this.subTplData,{hiddenDataCls:this.hiddenDataCls});
return this.callParent(arguments)},afterRender:function(){this.callParent(arguments);this.setHiddenValue(this.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,
resizeComboToGrow:function(){return this.grow&&this.growToLongestValue},initComponent:function(){var a=Ext.isDefined,b=this.store,c=this.transform,d;Ext.applyIf(this.renderSelectors,{hiddenDataEl:"."+this.hiddenDataCls.split(" ").join(".")});this.addEvents("beforequery","select","beforeselect","beforedeselect");if(c)if(d=Ext.getDom(c)){this.store||(b=Ext.Array.map(Ext.Array.from(d.options),function(a){return[a.value,a.text]}));if(!this.name)this.name=d.name;if(!("value"in this))this.value=d.value}this.bindStore(b||
"ext-empty-store",true);b=this.store;if(b.autoCreated){this.queryMode="local";this.valueField=this.displayField="field1";if(!b.expanded)this.displayField="field2"}if(!a(this.valueField))this.valueField=this.displayField;b=this.queryMode==="local";if(!a(this.queryDelay))this.queryDelay=b?10:500;if(!a(this.minChars))this.minChars=b?0:4;if(this.displayTpl){if(Ext.isString(this.displayTpl))this.displayTpl=new Ext.XTemplate(this.displayTpl)}else this.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+
this.displayField+'"]]}<tpl if="xindex < xcount">'+this.delimiter+"</tpl></tpl>");this.callParent();this.doQueryTask=new Ext.util.DelayedTask(this.doRawQuery,this);this.store.getCount()>0&&this.setValue(this.value);if(d){this.render(d.parentNode,d);Ext.removeNode(d);delete this.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var a=this.getRawValue(),b;if(this.forceSelection)if(this.multiSelect)a!==this.getDisplayValue()&&
this.setValue(this.lastSelection);else if(a=this.findRecordByDisplay(a)){b=this.value;this.findRecordByValue(b)||this.select(a,true)}else this.setValue(this.lastSelection);this.collapse()},onTypeAhead:function(){var a=this.displayField,b=this.store.findRecord(a,this.getRawValue()),c=this.getPicker(),d,e;if(b){a=b.get(a);d=a.length;e=this.getRawValue().length;c.highlightItem(c.getNode(b));if(e!==0&&e!==d){this.setRawValue(a);this.selectText(e,a.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent();
if(this.queryFilter&&!this.queryFilter.disabled){this.queryFilter.disabled=true;this.store.filter()}},onUnbindStore:function(a){var b=this.picker;this.queryFilter&&this.store.removeFilter(this.queryFilter);!a&&b&&b.bindStore(null)},onBindStore:function(a,b){var c=this.picker;b||this.resetToDefault();c&&c.bindStore(a)},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,clear:this.onClear,datachanged:this.onDataChanged,load:this.onLoad,exception:this.onException,remove:this.onRemove}},
onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){this.resizeComboToGrow()&&this.updateLayout()},onClear:function(){if(this.resizeComboToGrow()){this.removingRecords=true;this.onDataChanged()}},onRemove:function(){if(this.resizeComboToGrow())this.removingRecords=true},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection;this.collapse()},onLoad:function(a,b,c){this.ignoreSelection>0&&--this.ignoreSelection;c&&!a.lastOptions.rawQuery&&(this.value==null?this.store.getCount()?
this.doAutoSelect():this.setValue(this.value):this.setValue(this.value))},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(a,b,c){a=this.beforeQuery({query:a||"",rawQuery:c,forceAll:b,combo:this,cancel:false});if(a===false||a.cancel)return false;if(this.queryCaching&&a.query===this.lastQuery)this.expand();else{this.lastQuery=a.query;this.queryMode==="local"?this.doLocalQuery(a):this.doRemoteQuery(a)}return true},beforeQuery:function(a){if(this.fireEvent("beforequery",
a)===false)a.cancel=true;else if(!a.cancel&&a.query.length<this.minChars&&!a.forceAll)a.cancel=true;return a},doLocalQuery:function(a){var b=a.query;if(!this.queryFilter){this.queryFilter=new Ext.util.Filter({id:this.id+"-query-filter",anyMatch:this.anyMatch,caseSensitive:this.caseSensitive,root:"data",property:this.displayField});this.store.addFilter(this.queryFilter,false)}if(b||!a.forceAll){this.queryFilter.disabled=false;this.queryFilter.setValue(this.enableRegEx?RegExp(b):b)}else this.queryFilter.disabled=
true;this.store.filter();this.store.getCount()?this.expand():this.collapse();this.afterQuery(a)},doRemoteQuery:function(a){var b=this,c=function(){b.afterQuery(a)};b.expand();b.pageSize?b.loadPage(1,{rawQuery:a.rawQuery,callback:c}):b.store.load({params:b.getParams(a.query),rawQuery:a.rawQuery,callback:c})},afterQuery:function(a){if(this.store.getCount()){this.typeAhead&&this.doTypeAhead();if(this.getRawValue()!==this.getDisplayValue()){this.ignoreSelection++;this.picker.getSelectionModel().deselectAll();
this.ignoreSelection--}if(a.rawQuery){this.syncSelection();this.picker&&!this.picker.getSelectionModel().hasSelection()&&this.doAutoSelect()}else this.doAutoSelect()}},loadPage:function(a,b){this.store.loadPage(a,Ext.apply({params:this.getParams(this.lastQuery)},b))},onPageChange:function(a,b){this.loadPage(b);return false},getParams:function(a){var b={},c=this.queryParam;c&&(b[c]=a);return b},doAutoSelect:function(){var a=this.picker,b;if(a&&this.autoSelect&&this.store.getCount()>0){b=a.getSelectionModel().lastSelected;
if(b=a.getNode(b||0)){a.highlightItem(b);a.listEl.scrollChildIntoView(b,false)}}},doTypeAhead:function(){if(!this.typeAheadTask)this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this);this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){if(!this.readOnly&&!this.disabled){if(this.isExpanded)this.collapse();else{this.onFocus({});this.triggerAction==="all"?this.doQuery(this.allQuery,true):this.triggerAction===
"last"?this.doQuery(this.lastQuery,true):this.doQuery(this.getRawValue(),false,true)}this.inputEl.focus()}},onPaste:function(){!this.readOnly&&(!this.disabled&&this.editable)&&this.doQueryTask.delay(this.queryDelay)},onKeyUp:function(a,b){var c=a.getKey();if(!this.readOnly&&!this.disabled&&this.editable){this.lastKey=c;(!a.isSpecialKey()||c==a.BACKSPACE||c==a.DELETE)&&this.doQueryTask.delay(this.queryDelay)}this.enableKeyEvents&&this.callParent(arguments)},initEvents:function(){this.callParent();
this.enableKeyEvents||this.mon(this.inputEl,"keyup",this.onKeyUp,this);this.mon(this.inputEl,"paste",this.onPaste,this)},onDestroy:function(){Ext.destroy(this.listKeyNav);this.bindStore(null);this.callParent()},onAdded:function(){this.callParent(arguments);if(this.picker){this.picker.ownerCt=this.up("[floating]");this.picker.registerWithOwnerCt()}},createPicker:function(){var a;a=Ext.apply({xtype:"boundlist",pickerField:this,selModel:{mode:this.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,
store:this.store,displayField:this.displayField,focusOnToFront:false,pageSize:this.pageSize,tpl:this.tpl},this.listConfig,this.defaultListConfig);a=this.picker=Ext.widget(a);if(this.pageSize)a.pagingToolbar.on("beforechange",this.onPageChange,this);this.mon(a,{itemclick:this.onItemClick,refresh:this.onListRefresh,scope:this});this.mon(a.getSelectionModel(),{beforeselect:this.onBeforeSelect,beforedeselect:this.onBeforeDeselect,selectionchange:this.onListSelectionChange,scope:this});return a},alignPicker:function(){var a=
this.getPicker(),b=this.getPosition()[1]-Ext.getBody().getScroll().top,c=Ext.Element.getViewHeight()-b-this.getHeight(),b=Math.max(b,c);if(a.height){delete a.height;a.updateLayout()}a.getHeight()>b-5&&a.setHeight(b-5);this.callParent()},onListRefresh:function(){this.expanding||this.alignPicker();this.syncSelection()},onItemClick:function(a,b){var c=this.picker.getSelectionModel().getSelection(),d=this.valueField;if(!this.multiSelect&&c.length&&b.get(d)===c[0].get(d)){this.displayTplData=[b.data];
this.setRawValue(this.getDisplayValue());this.collapse()}},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,b.index)},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,b.index)},onListSelectionChange:function(a,b){var c=this.multiSelect,d=b.length>0;if(!this.ignoreSelection&&this.isExpanded){c||Ext.defer(this.collapse,1,this);(c||d)&&this.setValue(b,false);d&&this.fireEvent("select",this,b);this.inputEl.focus()}},onExpand:function(){var a=this,b=
a.listKeyNav,c=a.selectOnTab,d=a.getPicker();b?b.enable():b=a.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:d,forceKeyDown:true,tab:function(b){if(c){this.selectHighlighted(b);a.triggerBlur()}return true},enter:function(b){var c=d.getSelectionModel(),h=c.getCount();this.selectHighlighted(b);!a.multiSelect&&h===c.getCount()&&a.collapse()}});if(c)a.ignoreMonitorTab=true;Ext.defer(b.enable,1,b);a.inputEl.focus()},onCollapse:function(){var a=this.listKeyNav;if(a){a.disable();this.ignoreMonitorTab=
false}},select:function(a,b){var c=this.picker,d;a&&(a.isModel&&b===true&&c)&&(d=!c.getSelectionModel().isSelected(a));this.setValue(a,true);d&&this.fireEvent("select",this,a)},findRecord:function(a,b){var c=this.store,d=c.findExact(a,b);return d!==-1?c.getAt(d):false},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(a,b){var c=this.valueNotFoundText,d=this.inputEl,e,g,h,i=[],j=[],
k=[];if(this.store.loading){this.value=a;this.setHiddenValue(this.value);return this}a=Ext.Array.from(a);e=0;for(g=a.length;e<g;e++){h=a[e];if(!h||!h.isModel)h=this.findRecordByValue(h);if(h){i.push(h);j.push(h.data);k.push(h.get(this.valueField))}else if(this.forceSelection)Ext.isDefined(c)&&j.push(c);else{k.push(a[e]);h={};h[this.displayField]=a[e];j.push(h)}}this.setHiddenValue(k);this.value=this.multiSelect?k:k[0];if(!Ext.isDefined(this.value))this.value=null;this.displayTplData=j;this.lastSelection=
this.valueModels=i;d&&(this.emptyText&&!Ext.isEmpty(a))&&d.removeCls(this.emptyCls);this.setRawValue(this.getDisplayValue());this.checkChange();b!==false&&this.syncSelection();this.applyEmptyText();return this},setHiddenValue:function(a){var b=this.hiddenName,c,d,e,g,h;if(this.hiddenDataEl&&b){a=Ext.Array.from(a);c=this.hiddenDataEl.dom;d=c.childNodes;e=d[0];g=a.length;h=d.length;if(!e&&g>0){this.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:b}));h=1;e=c.firstChild}for(;h>
g;){c.removeChild(d[0]);--h}for(;h<g;){c.appendChild(e.cloneNode(true));++h}for(b=0;b<g;b++)d[b].value=a[b]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this.picker,b=this.getRawValue(),c=this.value;if(this.getDisplayValue()!==b){c=b;this.value=this.displayTplData=this.valueModels=null;if(a){this.ignoreSelection++;a.getSelectionModel().deselectAll();this.ignoreSelection--}}return c},getSubmitValue:function(){var a=this.getValue();Ext.isEmpty(a)&&
(a="");return a},isEqual:function(a,b){var c=Ext.Array.from,d,a=c(a),b=c(b);d=a.length;if(d!==b.length)return false;for(c=0;c<d;c++)if(b[c]!==a[c])return false;return true},clearValue:function(){this.setValue([])},syncSelection:function(){var a=this.picker,b,c=this.valueModels||[],d=c.length,e,g;if(a){b=[];for(e=0;e<d;e++)(g=c[e])&&(g.isModel&&this.store.indexOf(g)>=0)&&b.push(g);this.ignoreSelection++;a=a.getSelectionModel();a.deselectAll();b.length&&a.select(b,void 0,true);this.ignoreSelection--}},
onEditorTab:function(a){var b=this.listKeyNav;this.selectOnTab&&b&&b.selectHighlighted(a)}},0,["combobox","combo"],"field trigger combobox textfield pickerfield component combo box triggerfield".split(" "),{field:!0,trigger:!0,combobox:!0,textfield:!0,pickerfield:!0,component:!0,combo:!0,box:!0,triggerfield:!0},["widget.combo","widget.combobox"],[["bindable",Ext.util.Bindable]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0);
Ext.define("ExtThemeNeptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});
Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",childEls:"bodyEl prevEl nextEl buttonsEl monthEl yearEl".split(" "),renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">',
'<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',
"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",
baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){this.selectedCls=this.baseCls+"-selected";this.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");this.small&&this.addCls(this.smallCls);this.setValue(this.value);this.activeYear=this.getYear((new Date).getFullYear()-4,-4);if(this.showButtons){this.okBtn=
new Ext.button.Button({text:this.okText,handler:this.onOkClick,scope:this});this.cancelBtn=new Ext.button.Button({text:this.cancelText,handler:this.onCancelClick,scope:this})}this.callParent()},beforeRender:function(){var a=0,b=[],c=Ext.Date.getShortMonthName,d=this.monthOffset,e=this.monthMargin,g="";for(this.callParent();a<d;++a)b.push(c(a),c(a+d));Ext.isDefined(e)&&(g="margin: 0 "+e+"px;");Ext.apply(this.renderData,{months:b,years:this.getYears(),showButtons:this.showButtons,monthStyle:g})},afterRender:function(){var a=
this.bodyEl;this.callParent();this.mon(a,"click",this.onBodyClick,this);this.mon(a,"dblclick",this.onBodyClick,this);this.years=a.select("."+this.baseCls+"-year a");this.months=a.select("."+this.baseCls+"-month a");this.backRepeater=new Ext.util.ClickRepeater(this.prevEl,{handler:Ext.Function.bind(this.adjustYear,this,[-this.totalYears])});this.prevEl.addClsOnOver(this.baseCls+"-yearnav-prev-over");this.nextRepeater=new Ext.util.ClickRepeater(this.nextEl,{handler:Ext.Function.bind(this.adjustYear,
this,[this.totalYears])});this.nextEl.addClsOnOver(this.baseCls+"-yearnav-next-over");this.updateBody();if(!Ext.isDefined(this.monthMargin))Ext.picker.Month.prototype.monthMargin=this.calculateMonthMargin()},calculateMonthMargin:function(){for(var a=this.months,b=a.first().getMargin("l");b&&this.getLargest()>this.measureMaxHeight;){--b;a.setStyle("margin","0 "+b+"px")}return b},getLargest:function(){var a=0;this.months.each(function(b){b=b.getHeight();b>a&&(a=b)});return a},setValue:function(a){var b=
this.activeYear;this.value=a?Ext.isDate(a)?[a.getMonth(),a.getFullYear()]:[a[0],a[1]]:[null,null];if(this.rendered){a=this.value[1];if(a!==null&&(a<b||a>b+this.yearOffset))this.activeYear=a-this.yearOffset+1;this.updateBody()}return this},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){for(var a=this.yearOffset,b=this.activeYear,c=b+a,d=[];b<c;++b)d.push(b,b+a);return d},updateBody:function(){var a=this.years,b=this.months,
c=this.getYears(),d=this.selectedCls,e=this.getYear(null),g=this.value[0],h=this.monthOffset,i,j,k,l;if(this.rendered){a.removeCls(d);b.removeCls(d);i=a.elements;k=i.length;for(j=0;j<k;j++){l=Ext.fly(i[j]);a=c[j];l.dom.innerHTML=a;a==e&&l.addCls(d)}g!==null&&b.item(g<h?g*2:(g-h)*2+1).addCls(d)}},getYear:function(a,b){var c=this.value[1];return c===null?a:c+(b||0)},onBodyClick:function(a,b){var c=a.type=="dblclick";if(a.getTarget("."+this.baseCls+"-month")){a.stopEvent();this.onMonthClick(b,c)}else if(a.getTarget("."+
this.baseCls+"-year")){a.stopEvent();this.onYearClick(b,c)}},adjustYear:function(a){if(typeof a!="number")a=this.totalYears;this.activeYear=this.activeYear+a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(a,b){this.value[0]=this.resolveOffset(this.months.indexOf(a),this.monthOffset);this.updateBody();this.fireEvent("month"+(b?"dbl":"")+"click",this,this.value);this.fireEvent("select",
this,this.value)},onYearClick:function(a,b){this.value[1]=this.activeYear+this.resolveOffset(this.years.indexOf(a),this.yearOffset);this.updateBody();this.fireEvent("year"+(b?"dbl":"")+"click",this,this.value);this.fireEvent("select",this,this.value)},resolveOffset:function(a,b){return a%2===0?a/2:b+Math.floor(a/2)},beforeDestroy:function(){this.years=this.months=null;Ext.destroyMembers(this,"backRepeater","nextRepeater","okBtn","cancelBtn");this.callParent()},finishRenderChildren:function(){this.callParent(arguments);
if(this.showButtons){this.okBtn.finishRender();this.cancelBtn.finishRender()}},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()}},0,["monthpicker"],["monthpicker","component","box"],{monthpicker:!0,component:!0,box:!0},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0);
Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",childEls:"innerEl eventEl prevEl nextEl middleBtnEl footerEl".split(" "),border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',
"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',
"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;return a%7===0&&a!==0?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),
b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",
focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var a=Ext.Date.clearTime;this.selectedCls=this.baseCls+"-selected";this.disabledCellCls=this.baseCls+"-disabled";this.prevCls=this.baseCls+"-prevday";this.activeCls=this.baseCls+"-active";this.cellCls=this.baseCls+"-cell";this.nextCls=this.baseCls+"-prevday";this.todayCls=this.baseCls+"-today";if(!this.format)this.format=Ext.Date.defaultFormat;if(!this.dayNames)this.dayNames=Ext.Date.dayNames;this.dayNames=this.dayNames.slice(this.startDay).concat(this.dayNames.slice(0,
this.startDay));this.callParent();this.value=this.value?a(this.value,true):a(new Date);this.addEvents("select");this.initDisabledDays()},beforeRender:function(){var a=Array(this.numDays),b=Ext.Date.format(new Date,this.format);this.up("menu")&&this.addCls(Ext.baseCSSPrefix+"menu");this.monthBtn=new Ext.button.Split({ownerCt:this,ownerLayout:this.getComponentLayout(),text:"",tooltip:this.monthYearText,listeners:{click:this.showMonthPicker,arrowclick:this.showMonthPicker,scope:this}});if(this.showToday)this.todayBtn=
new Ext.button.Button({ownerCt:this,ownerLayout:this.getComponentLayout(),text:Ext.String.format(this.todayText,b),tooltip:Ext.String.format(this.todayTip,b),tooltipType:"title",handler:this.selectToday,scope:this});this.callParent();Ext.applyIf(this,{renderData:{}});Ext.apply(this.renderData,{dayNames:this.dayNames,showToday:this.showToday,prevText:this.prevText,nextText:this.nextText,days:a});this.protoEl.unselectable()},finishRenderChildren:function(){this.callParent();this.monthBtn.finishRender();
this.showToday&&this.todayBtn.finishRender()},onRender:function(a,b){this.callParent(arguments);this.cells=this.eventEl.select("tbody td");this.textNodes=this.eventEl.query("tbody td a");this.mon(this.eventEl,{scope:this,mousewheel:this.handleMouseWheel,click:{fn:this.handleDateClick,delegate:"a."+this.baseCls+"-date"}})},initEvents:function(){var a=this,b=Ext.Date,c=b.DAY;a.callParent();a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:true,stopDefault:true});
a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:true,stopDefault:true});a.keyNav=new Ext.util.KeyNav(a.eventEl,Ext.apply({scope:a,left:function(d){d.ctrlKey?a.showPrevMonth():a.update(b.add(a.activeDate,c,-1))},right:function(d){d.ctrlKey?a.showNextMonth():a.update(b.add(a.activeDate,c,1))},up:function(d){d.ctrlKey?a.showNextYear():a.update(b.add(a.activeDate,c,-7))},down:function(d){d.ctrlKey?a.showPrevYear():a.update(b.add(a.activeDate,c,7))},pageUp:function(b){b.altKey?
a.showPrevYear():a.showPrevMonth()},pageDown:function(b){b.altKey?a.showNextYear():a.showNextMonth()},tab:function(b){a.doCancelFieldFocus=true;a.handleTabClick(b);delete a.doCancelFieldFocus;return true},enter:function(a){a.stopPropagation();return true},home:function(){a.update(b.getFirstDateOfMonth(a.activeDate))},end:function(){a.update(b.getLastDateOfMonth(a.activeDate))}},a.keyNavConfig));if(a.showToday)a.todayKeyListener=a.eventEl.addKeyListener(Ext.EventObject.SPACE,a.selectToday,a);a.update(a.value)},
handleTabClick:function(){var a=this.getSelectedDate(this.activeDate),b=this.handler;if(!this.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasCls(this.disabledCellCls)){this.doCancelFocus=this.focusOnSelect===false;this.setValue(new Date(a.dateValue));delete this.doCancelFocus;this.fireEvent("select",this,this.value);b&&b.call(this.scope||this,this,this.value);this.onSelect()}},getSelectedDate:function(a){var a=a.getTime(),b=this.cells,c=b.elements,d=c.length,e;b.removeCls(this.selectedCls);for(b=
0;b<d;b++){e=Ext.fly(c[b]);if(e.dom.firstChild.dateValue==a)return e.dom.firstChild}return null},initDisabledDays:function(){var a=this.disabledDates,b="(?:",c,d,e,g;if(!this.disabledDatesRE&&a){c=a.length-1;e=a.length;for(d=0;d<e;d++){g=a[d];b=b+(Ext.isDate(g)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(g,this.format))+"$":g);d!=c&&(b=b+"|")}this.disabledDatesRE=RegExp(b+")")}},setDisabledDates:function(a){if(Ext.isArray(a)){this.disabledDates=a;this.disabledDatesRE=null}else this.disabledDatesRE=
a;this.initDisabledDays();this.update(this.value,true);return this},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,true)},setMinDate:function(a){this.minDate=a;return this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,true)},setValue:function(a){this.value=Ext.Date.clearTime(a,true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},
onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(a){this.keyNav.setDisabled(a);this.prevRepeater.setDisabled(a);this.nextRepeater.setDisabled(a);if(this.showToday){this.todayKeyListener.setDisabled(a);this.todayBtn.setDisabled(a)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(a){var b=this.monthPicker,c={duration:200,callback:function(){a?
b.hide():b.show()}};a?b.el.slideOut("t",c):b.el.slideIn("t",c)},hideMonthPicker:function(a){var b=this.monthPicker;b&&(this.shouldAnimate(a)?this.runAnimation(true):b.hide());return this},showMonthPicker:function(a){var b;if(this.rendered&&!this.disabled){b=this.createMonthPicker();b.setValue(this.getActive());b.setSize(this.getSize());b.setPosition(-1,-1);this.shouldAnimate(a)?this.runAnimation(false):b.show()}return this},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=
this.monthPicker;if(!a){this.monthPicker=a=new Ext.picker.Month({renderTo:this.el,floating:true,shadow:false,small:this.showToday===false,listeners:{scope:this,cancelclick:this.onCancelClick,okclick:this.onOkClick,yeardblclick:this.onOkClick,monthdblclick:this.onOkClick}});this.disableAnim||a.el.setStyle("display","none");this.on("beforehide",Ext.Function.bind(this.hideMonthPicker,this,[false]))}return a},onOkClick:function(a,b){var c=b[0],d=b[1],e=new Date(d,c,this.getActive().getDate());e.getMonth()!==
c&&(e=Ext.Date.getLastDateOfMonth(new Date(d,c,1)));this.setValue(e);this.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,
Ext.Date.YEAR,1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){a=a.getWheelDelta();a>0?this.showPrevMonth():a<0&&this.showNextMonth()}},handleDateClick:function(a,b){var c=this.handler;a.stopEvent();if(!this.disabled&&b.dateValue&&!Ext.fly(b.parentNode).hasCls(this.disabledCellCls)){this.doCancelFocus=this.focusOnSelect===false;this.setValue(new Date(b.dateValue));delete this.doCancelFocus;this.fireEvent("select",this,this.value);c&&c.call(this.scope||this,this,this.value);this.onSelect()}},
onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var a=this.todayBtn,b=this.handler;if(a&&!a.disabled){this.setValue(Ext.Date.clearTime(new Date));this.fireEvent("select",this,this.value);b&&b.call(this.scope||this,this,this.value);this.onSelect()}return this},selectedUpdate:function(a){var a=a.getTime(),b=this.cells,c=this.selectedCls,d=b.elements,e=d.length,g;b.removeCls(c);for(b=0;b<e;b++){g=Ext.fly(d[b]);if(g.dom.firstChild.dateValue==a){this.fireEvent("highlightitem",
this,g);g.addCls(c);this.isVisible()&&!this.doCancelFocus&&Ext.fly(g.dom.firstChild).focus(50);break}}},fullUpdate:function(a){var b=this,c=b.cells.elements,d=b.textNodes,e=b.disabledCellCls,g=Ext.Date,h=0,i=0,j=b.isVisible(),k=+g.clearTime(a,true),l=+g.clearTime(new Date),m=b.minDate?g.clearTime(b.minDate,true):Number.NEGATIVE_INFINITY,n=b.maxDate?g.clearTime(b.maxDate,true):Number.POSITIVE_INFINITY,p=b.disabledDatesRE,o=b.disabledDatesText,q=b.disabledDays?b.disabledDays.join(""):false,r=b.disabledDaysText,
t=b.format,s=g.getDaysInMonth(a),u=g.getFirstDateOfMonth(a).getDay()-b.startDay,v=g.add(a,g.MONTH,-1),B=b.longDayFormat,y,w,z,C,A,x;u<0&&(u=u+7);s=s+u;y=g.getDaysInMonth(v)-u;w=new Date(v.getFullYear(),v.getMonth(),y,b.initHour);if(b.showToday){v=g.clearTime(new Date);v=v<m||v>n||p&&t&&p.test(g.dateFormat(v,t))||q&&q.indexOf(v.getDay())!=-1;if(!b.disabled){b.todayBtn.setDisabled(v);b.todayKeyListener.setDisabled(v)}}for(v=function(a,c){x=+g.clearTime(w,true);a.title=g.format(w,B);a.firstChild.dateValue=
x;if(x==l){c=c+(" "+b.todayCls);a.title=b.todayText;b.todayElSpan=Ext.DomHelper.append(a.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:b.todayText},true)}if(x==k){c=c+(" "+b.selectedCls);b.fireEvent("highlightitem",b,a);j&&b.floating&&Ext.fly(a.firstChild).focus(50)}if(x<m){c=c+(" "+e);a.title=b.minText}else if(x>n){c=c+(" "+e);a.title=b.maxText}else if(q&&q.indexOf(w.getDay())!==-1){a.title=r;c=c+(" "+e)}else if(p&&t){A=g.dateFormat(w,t);if(p.test(A)){a.title=o.replace("%0",A);c=
c+(" "+e)}}a.className=c+" "+b.cellCls};h<b.numDays;++h){if(h<u){z=++y;C=b.prevCls}else if(h>=s){z=++i;C=b.nextCls}else{z=h-u+1;C=b.activeCls}d[h].innerHTML=z;w.setDate(w.getDate()+1);v(c[h],C)}b.monthBtn.setText(Ext.Date.format(a,b.monthYearFormat))},update:function(a,b){var c=this.activeDate;if(this.rendered){this.activeDate=a;!b&&c&&this.el&&c.getMonth()==a.getMonth()&&c.getFullYear()==a.getFullYear()?this.selectedUpdate(a,c):this.fullUpdate(a,c)}return this},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.todayKeyListener,
this.keyNav,this.monthPicker,this.monthBtn,this.nextRepeater,this.prevRepeater,this.todayBtn);delete this.textNodes;delete this.cells.elements}this.callParent()},onShow:function(){this.callParent(arguments);this.focusOnShow&&this.focus()}},0,["datepicker"],["datepicker","component","box"],{datepicker:!0,component:!0,box:!0},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0);
Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+
"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var a=Ext.isString,b,c;b=this.minValue;c=this.maxValue;if(a(b))this.minValue=this.parseDate(b);if(a(c))this.maxValue=this.parseDate(c);this.disabledDatesRE=null;this.initDisabledDays();this.callParent()},initValue:function(){var a=this.value;if(Ext.isString(a))this.value=this.rawToValue(a);this.callParent()},initDisabledDays:function(){if(this.disabledDates){var a=
this.disabledDates,b=a.length-1,c="(?:",d,e=a.length,g;for(d=0;d<e;d++){g=a[d];c=c+(Ext.isDate(g)?"^"+Ext.String.escapeRegex(g.dateFormat(this.format))+"$":g);d!==b&&(c=c+"|")}this.disabledDatesRE=RegExp(c+")")}},setDisabledDates:function(a){var b=this.picker;this.disabledDates=a;this.initDisabledDays();b&&b.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a;b&&b.setDisabledDays(a)},setMinValue:function(a){var b=this.picker;this.minValue=a=Ext.isString(a)?
this.parseDate(a):a;if(b){b.minText=Ext.String.format(this.minText,this.formatDate(this.minValue));b.setMinDate(a)}},setMaxValue:function(a){var b=this.picker;this.maxValue=a=Ext.isString(a)?this.parseDate(a):a;if(b){b.maxText=Ext.String.format(this.maxText,this.formatDate(this.maxValue));b.setMaxDate(a)}},getErrors:function(a){var b=Ext.String.format,c=Ext.Date.clearTime,d=this.callParent(arguments),e=this.disabledDays,g=this.disabledDatesRE,h=this.minValue,i=this.maxValue,j=e?e.length:0,k=0,l,a=
this.formatDate(a||this.processRawValue(this.getRawValue()));if(a===null||a.length<1)return d;l=a;a=this.parseDate(a);if(!a){d.push(b(this.invalidText,l,Ext.Date.unescapeFormat(this.format)));return d}l=a.getTime();h&&l<c(h).getTime()&&d.push(b(this.minText,this.formatDate(h)));i&&l>c(i).getTime()&&d.push(b(this.maxText,this.formatDate(i)));if(e)for(c=a.getDay();k<j;k++)if(c===e[k]){d.push(this.disabledDaysText);break}e=this.formatDate(a);g&&g.test(e)&&d.push(b(this.disabledDatesText,e));return d},
rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(a,b){var c=Ext.Date,d=null,e=this.useStrict;if(c.formatContainsHourInfo(b))d=c.parse(a,b,e);else(e=c.parse(a+" "+this.initTime,b+" "+this.initTimeFormat,e))&&(d=c.clearTime(e));return d},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):""},parseDate:function(a){if(!a||Ext.isDate(a))return a;var b=
this.safeParse(a,this.format),c=this.altFormats,d=this.altFormatsArray,e=0;if(!b&&c){d=d||c.split("|");for(c=d.length;e<c&&!b;++e)b=this.safeParse(a,d[e])}return b},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,
disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onDownArrow:function(a){this.callParent(arguments);this.isExpanded&&this.getPicker().focus()},onSelect:function(a,b){this.setValue(b);this.fireEvent("select",this,b);this.collapse()},onExpand:function(){var a=
this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date)},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var a=this.parseDate(this.getRawValue()),b=this.focusTask;b&&b.cancel();a&&this.setValue(a)}},0,["datefield"],"field trigger textfield pickerfield component datefield box triggerfield".split(" "),{field:!0,trigger:!0,textfield:!0,pickerfield:!0,component:!0,datefield:!0,box:!0,triggerfield:!0},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,
"Date"],0);Ext.define("ExtThemeNeptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});
Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:!0,constructor:function(a){this.view=a},setPosition:function(a,b){if(arguments.length===1){if(a.view)this.view=a.view;b=a.column;a=a.row}this.setRow(a);this.setColumn(b);return this},setRow:function(a){if(a!==void 0)if(typeof a==="number"){this.row=Math.max(Math.min(a,this.view.dataSource.getCount()-1),0);this.record=this.view.dataSource.getAt(a)}else if(a.isModel){this.record=a;this.row=this.view.indexOf(a)}else if(a.tagName){this.record=
this.view.getRecord(a);this.row=this.view.indexOf(this.record)}},setColumn:function(a){var b=this.view.ownerCt.columnManager;if(a!==void 0)if(typeof a==="number"){this.column=a;this.columnHeader=b.getHeaderAtIndex(a)}else if(a.isHeader){this.columnHeader=a;this.column=b.getHeaderIndex(a)}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0);
Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{constructor:function(a){a=Ext.apply({},a);if(a.field)a.field.monitorTab=false;this.callParent([a])},onShow:function(){var a=this.boundEl.first();if(a){this.isForTree&&(a=a.child(this.treeNodeSelector));a.hide()}this.callParent(arguments)},onHide:function(){var a=this.boundEl.first();if(a){this.isForTree&&(a=a.child(this.treeNodeSelector));a.show()}this.callParent(arguments)},afterRender:function(){var a=this.field;this.callParent(arguments);a.isCheckbox&&
a.mon(a.inputEl,{mousedown:this.onCheckBoxMouseDown,click:this.onCheckBoxClick,scope:this})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(a){var b=this.boundEl,c=b.first(),d=b.getWidth(),e=Ext.Array.clone(this.offsets),g=this.grid,h;if(this.isForTree){h=this.getTreeNodeOffset(c);d=d-Math.abs(h);e[0]=e[0]+h}g.columnLines&&(d=d-b.getBorderWidth("rl"));a===true&&this.field.setWidth(d);this.alignTo(c,
this.alignment,e)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(a){var b=this.field;if(b.onEditorTab)b.onEditorTab(a)},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1},1,0,["editor","component","container","box"],{editor:!0,component:!0,container:!0,box:!0},0,0,[Ext.grid,"CellEditor"],
0);
Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:!0,beginLayout:function(a){this.callParent(arguments);a.titleContext=a.getEl("titleEl");a.triggerContext=a.getEl("triggerEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments);a.widthModel.shrinkWrap&&b.el.setWidth("");var c=b.isLast&&b.isSubHeader?"0":"";if(c!==this.lastBorderRightWidth)b.el.dom.style.borderRightWidth=this.lasBorderRightWidth=c;b.titleEl.setStyle({paddingTop:"",paddingBottom:""})},
publishInnerHeight:function(a,b){if(b){var c=this.owner,d=b-a.getBorderInfo().height,e=d,g;if(!c.noWrap&&!a.hasDomProp("width"))this.done=false;else{if(a.hasRawContent){g=e;if(c=c.textEl.getHeight()){e=e-c;if(e>0){c=Math.floor(e/2);e=e-c;a.titleContext.setProp("padding-top",c);a.titleContext.setProp("padding-bottom",e)}}}else{g=c.titleEl.getHeight();a.setProp("innerHeight",d-g,false)}(Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext&&a.triggerContext.setHeight(g)}}},measureContentHeight:function(a){return a.el.dom.offsetHeight},
publishOwnerHeight:function(a,b){this.callParent(arguments);(Ext.isIE6||Ext.isIEQuirks)&&a.triggerContext&&a.triggerContext.setHeight(b)},publishInnerWidth:function(a,b){a.hasRawContent||a.setProp("innerWidth",b-a.getBorderInfo().width,false)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);return!a.hasRawContent?this.owner.noWrap||a.hasDomProp("width")?b+this.owner.titleEl.getHeight()+a.getBorderInfo().height:null:c},calculateOwnerWidthFromContentWidth:function(a,
b){var c=this.owner,d=Math.max(b,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width),e=a.getPaddingInfo().width,c=this.getTriggerOffset(c,a);return d+e+c},getTriggerOffset:function(a,b){var c=0;if(b.widthModel.shrinkWrap&&!a.menuDisabled&&a.query(">:not([hidden])").length===0)c=a.self.triggerElWidth;return c}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0);
Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){if(!this.scrollbarWidth)this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width;this.grid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(a){var b=this.owner,c=this.grid,d=c.view,e=this.getVisibleItems(),g=e.length,h=this.firstHeaderCls,
i=this.lastHeaderCls,j,k;c.lockable&&(d=b.up("tablepanel")===d.normalGrid?d.normalGrid.getView():null);for(j=0;j<g;j++){k=e[j];k.isLast=false;k.removeCls([h,i]);j===0&&k.addCls(h);if(j===g-1){k.addCls(i);k.isLast=true}}this.callParent(arguments);if(!b.isColumn&&Ext.getScrollbarSize().width&&!c.collapsed&&d&&d.rendered&&(a.viewTable=d.body.dom))a.viewContext=a.context.getCmp(d)},roundFlex:function(a){return Math.floor(a)},calculate:function(a){this.callParent(arguments);a.state.parallelDone&&(!this.owner.forceFit||
a.flexedItems.length)&&a.setProp("columnWidthsDone",true);if(a.viewContext)a.state.tableHeight=a.viewTable.offsetHeight},completeLayout:function(a){var b=this.owner,c=a.state;this.callParent(arguments);if(!a.flexedItems.length&&!c.flexesCalculated&&b.forceFit&&this.convertWidthsToFlexes(a)){this.cacheFlexes(a);a.invalidate({state:{flexesCalculated:true}})}else a.setProp("columnWidthsDone",true)},convertWidthsToFlexes:function(a){var b=0,c=this.sizeModels.calculated,d,e,g,h,i;d=a.childItems;e=d.length;
for(g=0;g<e;g++){h=d[g];i=h.target;b=b+h.props.width;if(!(i.fixed||i.resizable===false)){i.flex=a.childItems[g].flex=h.props.width;i.width=null;h.widthModel=c}}return b!==a.props.width},getContainerSize:function(a){var b,c=a.viewContext,d;if(this.owner.isColumn)b=this.getColumnContainerSize(a);else{b=this.callParent(arguments);if(c&&!c.heightModel.shrinkWrap&&c.target.componentLayout.ownerContext){d=c.getProp("height");if(isNaN(d))this.done=false;else if(a.state.tableHeight>d){b.width=b.width-Ext.getScrollbarSize().width;
a.state.parallelDone=false;c.invalidate()}}}return b},getColumnContainerSize:function(a){var b=a.paddingContext.getPaddingInfo(),c=0,d=0,e,g,h,i;if(!a.widthModel.shrinkWrap){++d;h=a.getProp("innerWidth");if(e=typeof h=="number"){++c;h=h-b.width;h<0&&(h=0)}}if(!a.heightModel.shrinkWrap){++d;i=a.getProp("innerHeight");if(g=typeof i=="number"){++c;i=i-b.height;i<0&&(i=0)}}return{width:h,height:i,needed:d,got:c,gotAll:c==d,gotWidth:e,gotHeight:g}},publishInnerCtSize:function(a){var b=a.state.boxPlan.targetSize,
c=a.peek("contentWidth");this.owner.tooNarrow=a.state.boxPlan.tooNarrow;if(c!=null&&!this.owner.isColumn){b.width=c;c=this.owner.ownerCt.view;if(c.scrollFlags.y)b.width=b.width+Ext.getScrollbarSize().width}return this.callParent(arguments)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0);
Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b){this.headerCt=a;if(b)this.secondHeaderCt=b},getColumns:function(){this.columns||this.cacheColumns();return this.columns},getHeaderIndex:function(a){a.isGroupHeader&&(a=a.down(":not([isGroupHeader])"));return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){var b=this.getColumns();return b.length?b[a]:null},getHeaderById:function(a){var b=this.getColumns(),
c=b.length,d,e;for(d=0;d<c;++d){e=b[d];if(e.getItemId()===a)return e}return null},getVisibleHeaderClosestToIndex:function(a){(a=this.getHeaderAtIndex(a))&&a.hidden&&(a=a.next(":not([hidden])")||a.prev(":not([hidden])"));return a},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns();this.secondHeaderCt&&Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())},invalidate:function(){this.columns=null;this.rootColumns&&this.rootColumns.invalidate()}},1,0,0,0,0,0,
[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")});
Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{"0":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},
getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel();return this.sizePolicies[(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2)]},beginLayoutCycle:function(a,b){var c=this.lastHeightModel&&this.lastHeightModel.calculated,d=this.lastWidthModel&&this.lastWidthModel.calculated,e=d||c,g=0,h=0,i,j,k,l,m,n,p;this.callParent(arguments);e&&a.targetContext.el.dom.tagName.toUpperCase()!="TD"&&(e=d=c=false);j=a.childItems;m=j.length;for(k=0;k<m;++k){l=j[k];if(b){i=l.target;n=i.minHeight;if((p=
i.minWidth)||n){i=l.marginInfo||l.getMarginInfo();n=n+i.height;p=p+i.height;g<n&&(g=n);h<p&&(h=p)}}if(e){l=l.el.dom.style;if(c)l.height="";if(d)l.width=""}}if(b){a.maxChildMinHeight=g;a.maxChildMinWidth=h}i=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&i.scrollFlags.x||void 0;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&i.scrollFlags.y||void 0},calculate:function(a){var b=a.childItems,c=b.length,d=this.getContainerSize(a),e={length:c,ownerContext:a,targetSize:d},
g=a.widthModel.shrinkWrap,h=a.heightModel.shrinkWrap,i=a.overflowX,j=a.overflowY,k,l,m;if(i||j)if(k=this.getScrollbarsNeeded(i&&d.width,j&&d.height,a.maxChildMinWidth,a.maxChildMinHeight)){l=Ext.getScrollbarSize();if(k&1)d.height=d.height-l.height;if(k&2)d.width=d.width-l.width}for(m=0;m<c;++m){e.index=m;this.fitItem(b[m],e)}if(h||g){b=a.targetContext.getPaddingInfo();if(g)if(j&&!d.gotHeight)this.done=false;else{g=e.contentWidth+b.width;k&2&&(g=g+l.width);if(!a.setContentWidth(g))this.done=false}if(h)if(i&&
!d.gotWidth)this.done=false;else{d=e.contentHeight+b.height;k&1&&(d=d+l.height);if(!a.setContentHeight(d))this.done=false}}},fitItem:function(a,b){if(a.invalid)this.done=false;else{b.margins=a.getMarginInfo();b.needed=b.got=0;this.fitItemWidth(a,b);this.fitItemHeight(a,b);if(b.got!=b.needed)this.done=false}},fitItemWidth:function(a,b){var c,d;if(b.ownerContext.widthModel.shrinkWrap){d=a.getProp("width")+b.margins.width;c=b.contentWidth;b.contentWidth=c===void 0?d:Math.max(c,d)}else if(a.widthModel.calculated){++b.needed;
if(b.targetSize.gotWidth){++b.got;this.setItemWidth(a,b)}}this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;if(b.ownerContext.heightModel.shrinkWrap){d=a.getProp("height")+b.margins.height;c=b.contentHeight;b.contentHeight=c===void 0?d:Math.max(c,d)}else if(a.heightModel.calculated){++b.needed;if(b.targetSize.gotHeight){++b.got;this.setItemHeight(a,b)}}this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;(b.index||c.left)&&a.setProp("x",c.left);c.width&&a.setProp("margin-right",
c.width)},positionItemY:function(a,b){var c=b.margins;(b.index||c.top)&&a.setProp("y",c.top);c.height&&a.setProp("margin-bottom",c.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0);
Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+
"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var a=this.columns||this.colModel,b,c=this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store"),d;this.columnLines&&this.addCls(this.colLinesCls);this.addCls(this.rowLines?this.rowLinesCls:this.noRowLinesCls);if(a instanceof Ext.grid.header.Container){a.isRootHeader=true;this.headerCt=a}else if(this.enableLocking||
this.hasLockedColumns(a)){this.self.mixin("lockable",Ext.grid.locking.Lockable);this.injectLockable()}else{Ext.isArray(a)&&(a={items:a});Ext.apply(a,{grid:this,forceFit:this.forceFit,sortable:this.sortableColumns,enableColumnMove:this.enableColumnMove,enableColumnResize:this.enableColumnResize,sealed:this.sealedColumns,isRootHeader:true});if(Ext.isDefined(this.enableColumnHide))a.enableColumnHide=this.enableColumnHide;if(!this.headerCt)this.headerCt=new Ext.grid.header.Container(a)}this.columns=this.headerCt.getGridColumns();
this.scrollTask=new Ext.util.DelayedTask(this.syncHorizontalScroll,this);this.addEvents("reconfigure","viewready");this.bodyCls=this.bodyCls||"";this.bodyCls=this.bodyCls+(" "+this.extraBodyCls);this.cls=this.cls||"";this.cls=this.cls+(" "+this.extraBaseCls);delete this.autoScroll;if(!this.hasView){d=this.headerCt.getGridColumns();if(c.buffered&&!c.remoteSort){a=0;for(b=d.length;a<b;a++)d[a].sortable=false}if(this.hideHeaders){this.headerCt.height=0;this.headerCt.hiddenHeaders=true;this.headerCt.addCls(this.hiddenHeaderCtCls);
this.addCls(this.hiddenHeaderCls);if(Ext.isIEQuirks)this.headerCt.style={display:"none"}}this.relayHeaderCtEvents(this.headerCt);this.features=this.features||[];if(!Ext.isArray(this.features))this.features=[this.features];this.dockedItems=[].concat(this.dockedItems||[]);this.dockedItems.unshift(this.headerCt);this.viewConfig=this.viewConfig||{};a=this.getView();this.items=[a];this.hasView=true;if(!this.hideHeaders)a.on({scroll:{fn:this.onHorizontalScroll,element:"el",scope:this}});this.bindStore(c,
true);this.mon(a,{viewready:this.onViewReady,refresh:this.onRestoreHorzScroll,scope:this})}this.relayEvents(this.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown",
"cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);this.callParent(arguments);this.addStateEvents(["columnresize",
"columnmove","columnhide","columnshow","sortchange","filterchange"]);if(!this.lockable&&this.headerCt)this.headerCt.on("afterlayout",this.onRestoreHorzScroll,this)},hasLockedColumns:function(a){var b,c,d;if(Ext.isObject(a))a=a.items;b=0;for(c=a.length;b<c;b++){d=a[b];if(!d.processed&&d.locked)return true}},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},
getState:function(){var a=this.callParent(),b=this.store.getState(),a=this.addPropertyToState(a,"columns",this.headerCt.getColumnsState());if(b)a.storeState=b;return a},applyState:function(a){var b=a.sort,c=a.storeState,d=this.store,e=a.columns;delete a.columns;this.callParent(arguments);e&&this.headerCt.applyColumnsState(e);b?d.remoteSort?d.sort({property:b.property,direction:b.direction,root:b.root},null,false):d.sort(b.property,b.direction):c&&d.applyState(c)},getStore:function(){return this.store},
getView:function(){var a;if(!this.view){a=this.getSelectionModel();Ext.widget(Ext.apply({grid:this,deferInitialRefresh:this.deferRowRender!==false,trackOver:this.trackMouseOver!==false,scroll:this.scroll,xtype:this.viewType,store:this.store,headerCt:this.headerCt,columnLines:this.columnLines,rowLines:this.rowLines,selModel:a,features:this.features,panel:this,emptyText:this.emptyText||""},this.viewConfig));if(this.view.emptyText)this.view.emptyText='<div class="'+this.emptyCls+'">'+this.view.emptyText+
"</div>";this.view.getComponentLayout().headerCt=this.headerCt;this.mon(this.view,{uievent:this.processEvent,scope:this});a.view=this.view;this.headerCt.view=this.view}return this.view},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e,g,h,i){var j;if(e!==-1){j=this.columnManager.getColumns()[e];return j.processEvent.apply(j,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,
0,b)},afterCollapse:function(){this.saveScrollPos();this.saveScrollPos();this.callParent(arguments)},afterExpand:function(){this.callParent(arguments);this.restoreScrollPos();this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(a,b,c,d,e){this.optimizedColumnMove===false?this.view.refresh():this.view.moveColumn(d,e,c);this.delayScroll()},onHeaderHide:function(){this.view.refresh();this.delayScroll()},onHeaderShow:function(){this.view.refresh();
this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;a&&this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;a&&this.syncHorizontalScroll(a,true)},getScrollerOwner:function(){var a=this;this.scrollerOwner||(a=this.up("[scrollerOwner]"));return a},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{cls:this.resizeMarkerCls},
true))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{cls:this.resizeMarkerCls},true))},getSelectionModel:function(){var a=this.selModel,b,c,d;if(!a){a={};b=true}if(!a.events){d=a.selType||this.selType;b=!a.mode;a=this.selModel=Ext.create("selection."+d,a)}this.simpleSelect?c="SIMPLE":this.multiSelect&&(c="MULTI");Ext.applyIf(a,{allowDeselect:this.allowDeselect});c&&b&&a.setSelectionMode(c);if(!a.hasRelaySetup){this.relayEvents(a,["selectionchange","beforeselect",
"beforedeselect","select","deselect"]);a.hasRelaySetup=true}if(this.disableSelection)a.locked=true;return a},getScrollTarget:function(){var a=this.getScrollerOwner().query("tableview");return a[1]||a[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,b){var c,b=b===true;if(this.rendered&&(b||a!==this.scrollLeftPos)){if(b){c=this.getScrollTarget();c.el.dom.scrollLeft=a}this.scrollLeftPos=this.headerCt.el.dom.scrollLeft=a}},onStoreLoad:Ext.emptyFn,
getEditorParent:function(){return this.body},bindStore:function(a,b){var c=this.getView(),d=a&&a.buffered,e;this.store=a;if(e=this.findPlugin("bufferedrenderer")){this.verticalScroller=e;e.store&&e.bindStore(a)}else if(d)this.verticalScroller=e=this.addPlugin(Ext.apply({ptype:"bufferedrenderer"},this.initialConfig.verticalScroller));c.store!==a&&(b?c.bindStore(a,false,"dataSource"):c.bindStore(a,false));this.mon(a,{load:this.onStoreLoad,scope:this});this.storeRelayers=this.relayEvents(a,["filterchange"]);
if(e)this.invalidateScrollerOnRefresh=false;if(this.invalidateScrollerOnRefresh!==void 0)c.preserveScrollOnRefresh=!this.invalidateScrollerOnRefresh},unbindStore:function(){var a=this.store;if(a){this.store=null;this.mun(a,{load:this.onStoreLoad,scope:this});Ext.destroy(this.storeRelayers)}},reconfigure:function(a,b){var c=this.getView(),d,e=this.store,g=this.headerCt,h=g?g.items.getRange():this.columns;b&&(b=Ext.Array.slice(b));this.fireEvent("beforereconfigure",this,a,b,e,h);if(this.lockable)this.reconfigureLockable(a,
b);else{Ext.suspendLayouts();if(b){delete this.scrollLeftPos;g.removeAll();g.add(b)}if(a&&(a=Ext.StoreManager.lookup(a))!==e){this.store&&this.unbindStore();d=c.deferInitialRefresh;c.deferInitialRefresh=false;this.bindStore(a);c.deferInitialRefresh=d}else this.getView().refresh();g.setSortState();Ext.resumeLayouts(true)}this.fireEvent("reconfigure",this,a,b,e,h)},beforeDestroy:function(){var a=this.scrollTask;if(a){a.cancel();this.scrollTask=null}this.callParent()},onDestroy:function(){this.lockable&&
this.destroyLockable();this.callParent()}},0,["tablepanel"],["panel","component","tablepanel","container","box"],{panel:!0,component:!0,tablepanel:!0,container:!0,box:!0},["widget.tablepanel"],0,[Ext.panel,"Table"],0);
Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var a,b=null,c=document,d=/(-[a-z])/gi,e=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:true,rules:b,initialized:false,constructor:function(){a=this},createStyleSheet:function(b,d){var e;e=c.getElementsByTagName("head")[0];var j=c.createElement("style");j.setAttribute("type","text/css");d&&j.setAttribute("id",d);if(Ext.isIE){e.appendChild(j);e=j.styleSheet;e.cssText=b}else{try{j.appendChild(c.createTextNode(b))}catch(k){j.cssText=
b}e.appendChild(j);e=j.styleSheet?j.styleSheet:j.sheet||c.styleSheets[c.styleSheets.length-1]}a.cacheStyleSheet(e);return e},removeStyleSheet:function(a){(a=c.getElementById(a))&&a.parentNode.removeChild(a)},swapStyleSheet:function(b,d){var e;a.removeStyleSheet(b);e=c.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");e.setAttribute("id",b);e.setAttribute("href",d);c.getElementsByTagName("head")[0].appendChild(e)},refreshCache:function(){return a.getRules(true)},
cacheStyleSheet:function(c){if(!b)b=a.rules={};try{var d=c.cssRules||c.rules,e=d.length-1,j=c.imports,k=j?j.length:0,l,m;for(m=0;m<k;++m)a.cacheStyleSheet(j[m]);for(;e>=0;--e){l=d[e];l.styleSheet&&a.cacheStyleSheet(l.styleSheet);a.cacheRule(l,c)}}catch(n){}},cacheRule:function(c,d){if(c.styleSheet)return a.cacheStyleSheet(c.styleSheet);var e=c.selectorText,j,k;if(e){e=e.split(",");j=e.length;for(k=0;k<j;k++)b[Ext.String.trim(e[k]).toLowerCase()]={parentStyleSheet:d,cssRule:c}}},getRules:function(c){var d=
{},e;(b===null||c)&&a.refreshCache();for(e in b)d[e]=b[e].cssRule;return d},refreshCache:function(){var d=c.styleSheets,e=0,i=d.length;for(b=a.rules={};e<i;e++)try{d[e].disabled||a.cacheStyleSheet(d[e])}catch(j){}},getRule:function(c,d,e){(!b||d)&&a.refreshCache();if(!Ext.isArray(c)){if((c=b[c.toLowerCase()])&&!e)c=c.cssRule;return c||null}for(d=0;d<c.length;d++)if(b[c[d]])return e?b[c[d].toLowerCase()]:b[c[d].toLowerCase()].cssRule;return null},createRule:function(b,c,d){var e=b.cssRules||b.rules,
k=e.length;b.insertRule?b.insertRule(c+"{"+d+"}",k):b.addRule(c,d||" ");a.cacheRule(c=e[k],b);return c},updateRule:function(b,c,i){var j,k;if(Ext.isArray(b))for(j=0;j<b.length;j++){if(a.updateRule(b[j],c,i))return true}else if(j=a.getRule(b)){if(arguments.length==2){k=Ext.Element.parseStyles(c);for(c in k)j.style[c.replace(d,e)]=k[c]}else j.style[c.replace(d,e)]=i;return true}return false},deleteRule:function(c){var d=a.getRule(c,false,true),e;if(d){e=d.parentStyleSheet;d=Ext.Array.indexOf(e.cssRules||
e.rules,d.cssRule);e.deleteRule?e.deleteRule(d):e.removeRule(d);delete b[c]}}}},1,0,0,0,0,0,[Ext.util,"CSS"],0);
Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(a){var b=this.owner.lockingPartner,c=this.owner;this.callParent(arguments);if(b){this.lockedGrid=this.owner.up("[lockable]");this.lockedGrid.needsRowHeightSync=true;if(!a.lockingPartner){a.lockingPartner=a.context.getItem(b,b.el);if(a.lockingPartner&&!a.lockingPartner.lockingPartner)a.lockingPartner.lockingPartner=a}}a.headerContext=a.context.getCmp(this.headerCt);if(this.owner.body.dom)a.bodyContext=
a.getEl(this.owner.body);Ext.isWebKit&&c.el.select(c.getBodySelector()).setStyle("table-layout","auto")},calculate:function(a){var b=this.lockingPartner,c=this.owner,d=0;if(a.headerContext.hasProp("columnWidthsDone"))if(this.setColumnWidths(a)){a.state.columnWidthsSynced=true;if(a.bodyContext){if(c=this.owner.el.down("."+c.ownerCt.emptyCls,true))d=c.offsetHeight;else{d=a.bodyContext.el.dom.offsetHeight;a.bodyContext.setHeight(d,false)}a.setProp("contentHeight",d)}b&&!b.state.columnWidthsSynced?this.done=
false:this.callParent(arguments)}else this.done=false;else this.done=false},measureContentHeight:function(a){var b=a.lockingPartner;if(!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced))return this.callParent(arguments)},setColumnWidths:function(a){var b=this.owner,a=a.context,c=this.headerCt.getVisibleGridColumns(),d,e=0,g=c.length,h=0,i=0,j,k,l=!Ext.isBorderBox;if(a)a.currentLayout=this;for(e=0;e<g;e++){d=c[e];j=a.getCmp(d);k=j.props.width;if(isNaN(k)){j.getProp("width");
return false}h=h+k;if(l&&b.columnLines){i||(i=a.getCmp(d).borderInfo.width||1);k=k-i}b.body.select(b.getColumnSizerSelector(d)).setWidth(k)}b.el.select(b.getBodySelector()).setWidth(h);return true},finishedLayout:function(){var a=this.owner;this.callParent(arguments);Ext.isWebKit&&a.el.select(a.getBodySelector()).setStyle("table-layout","");if(a.refreshCounter&&this.lockedGrid&&this.lockedGrid.syncRowHeight&&this.lockedGrid.needsRowHeightSync){this.lockedGrid.syncRowHeights();this.lockedGrid.needsRowHeightSync=
false}}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0);
Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.AbstractElement.Fly},clear:function(a){var b=this.elements,c;if(a)for(c in b){a=b[c];a.parentNode.removeChild(a)}this.elements={};this.count=this.startIndex=0;this.endIndex=-1},fill:function(a,b){var c=this.elements={},d,e=a.length;b||(b=0);for(d=0;d<e;d++)c[b+d]=a[d];this.startIndex=b;this.endIndex=b+e-1;this.count=e;return this},insert:function(a,b){var c=this.elements,d,e=b.length;
if(this.count){if(a<this.count)for(d=this.endIndex+e;d>=a+e;d--){c[d]=c[d-e];c[d].setAttribute("data-recordIndex",d)}this.endIndex=this.endIndex+e}else{this.startIndex=a;this.endIndex=a+e-1}for(d=0;d<e;d++,a++){c[a]=b[d];c[a].setAttribute("data-recordIndex",a)}this.count=this.count+e},item:function(a,b){var c=null;this.elements[a]&&(c=b?this.elements[a]:this.el.attach(this.elements[a]));return c},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,
a)},getCount:function(){return this.count},slice:function(a,b){var c=this.elements,d=[],e,b=arguments.length<2?this.endIndex:Math.min(this.endIndex,b-1);for(e=a||this.startIndex;e<=b;e++)d.push(c[e]);return d},replaceElement:function(a,b,c){var d=this.elements,e=typeof a==="number"?a:this.indexOf(a);if(e>-1){b=Ext.getDom(b);if(c){a=d[e];a.parentNode.insertBefore(b,a);Ext.removeNode(a);b.setAttribute("data-recordIndex",e)}this.elements[e]=b}return this},indexOf:function(a){var b=this.elements,c,a=
Ext.getDom(a);for(c=this.startIndex;c<=this.endIndex;c++)if(b[c]===a)return c;return-1},removeRange:function(a,b,c){var d=this.elements,e,g,h,b=b===void 0?this.count:Math.min(this.endIndex+1,b+1);a||(a=0);g=b-a;e=a;for(h=b;e<this.endIndex;e++,h++){c&&e<b&&Ext.removeNode(d[e]);if(h<=this.endIndex){a=d[e]=d[h];a.setAttribute("data-recordIndex",e)}else delete d[e]}this.count=this.count-g;this.endIndex=this.endIndex-g},removeElement:function(a,b){var c,d,e=this.elements,g,h=0,i;if(Ext.isArray(a)){c=a;
a=[];g=c.length;for(h=0;h<g;h++){d=c[h];typeof d!=="number"&&(d=this.indexOf(d));d>=this.startIndex&&d<=this.endIndex&&(a[a.length]=d)}Ext.Array.sort(a);g=a.length}else{if(a<this.startIndex||a>this.endIndex)return;g=1;a=[a]}d=i=a[0];for(h=0;d<=this.endIndex;d++,i++){if(h<g&&d===a[h]){i++;h++;b&&Ext.removeNode(e[d])}if(i<=this.endIndex&&i>=this.startIndex){c=e[d]=e[i];c.setAttribute("data-recordIndex",d)}else delete e[d]}this.endIndex=this.endIndex-g;this.count=this.count-g},scroll:function(a,b,c){var d=
this.elements,e=a.length,g,h=this.view.getNodeContainer(),i=document.createDocumentFragment();if(b==-1){for(b=this.endIndex-c+1;b<=this.endIndex;b++){g=d[b];delete d[b];g.parentNode.removeChild(g)}this.endIndex=this.endIndex-c;a=this.view.bufferRender(a,this.startIndex=this.startIndex-e);for(b=0;b<e;b++){d[this.startIndex+b]=a[b];i.appendChild(a[b])}h.insertBefore(i,h.firstChild)}else{c=this.startIndex+c;for(b=this.startIndex;b<c;b++){g=d[b];delete d[b];g.parentNode.removeChild(g)}this.startIndex=
b;a=this.view.bufferRender(a,this.endIndex+1);for(b=0;b<e;b++){d[this.endIndex=this.endIndex+1]=a[b];i.appendChild(a[b])}h.appendChild(i)}this.count=this.endIndex-this.startIndex+1}},1,0,0,0,0,0,[Ext.view,"NodeCache"],0);
Ext.cmd.derive("Ext.view.Table",Ext.view.View,{componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+
"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),
cellRe:RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',
"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ',
'class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',
"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){if(a.grid.isTree)a.baseCls=Ext.baseCSSPrefix+"tree-view";this.callParent([a])},initComponent:function(){var a=this.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown",
"cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown");this.body=new Ext.dom.Element.Fly;this.body.id=this.id+"gridBody";this.autoScroll=void 0;if(!this.trackOver)this.beforeOverItemCls=this.overItemCls=null;if(a===true||a==="both")this.autoScroll=true;else if(a==="horizontal")this.overflowX="auto";else if(a==="vertical")this.overflowY="auto";this.selModel.view=this;this.headerCt.view=this;this.grid.view=this;this.initFeatures(this.grid);delete this.grid;this.tpl=this.getTpl("tpl");
this.itemSelector=this.getItemSelector();this.all=new Ext.view.NodeCache(this);this.callParent()},moveColumn:function(a,b,c){var d=c>1?document.createDocumentFragment():void 0,e=b,g=this.getGridColumns().length,h=g-1,i=(this.firstCls||this.lastCls)&&(b===0||b==g||a===0||a==h),j,k,l,m,n,p;if(this.rendered&&b!==a){l=this.el.query(this.getDataRowSelector());b>a&&d&&(e=e-c);j=0;for(m=l.length;j<m;j++){n=l[j];p=n.childNodes;if(i){if(p.length===1){Ext.fly(p[0]).addCls(this.firstCls);Ext.fly(p[0]).addCls(this.lastCls);
continue}if(a===0){Ext.fly(p[0]).removeCls(this.firstCls);Ext.fly(p[1]).addCls(this.firstCls)}else if(a===h){Ext.fly(p[h]).removeCls(this.lastCls);Ext.fly(p[h-1]).addCls(this.lastCls)}if(b===0){Ext.fly(p[0]).removeCls(this.firstCls);Ext.fly(p[a]).addCls(this.firstCls)}else if(b===g){Ext.fly(p[h]).removeCls(this.lastCls);Ext.fly(p[a]).addCls(this.lastCls)}}if(d){for(k=0;k<c;k++)d.appendChild(p[a]);n.insertBefore(d,p[e]||null)}else n.insertBefore(p[a],p[e]||null)}b=this.el.query(this.getBodySelector());
j=0;for(m=b.length;j<m;j++){n=b[j];if(d){for(k=0;k<c;k++)d.appendChild(n.childNodes[a]);n.insertBefore(d,n.childNodes[e]||null)}else n.insertBefore(n.childNodes[a],n.childNodes[e]||null)}}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getNode(a,true);return Ext.fly(c).down(b.getCellSelector())},
getFeature:function(a){var b=this.featuresMC;if(b)return b.get(a)},findFeature:function(a){if(this.features)return Ext.Array.findBy(this.features,function(b){if(b.ftype===a)return true})},initFeatures:function(a){var b,c,d,e;this.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");this.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");this.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");this.featuresMC=new Ext.util.MixedCollection;e=(c=this.features=this.constructFeatures())?c.length:0;for(b=0;b<e;b++){d=c[b];d.view=
this;d.grid=a;this.featuresMC.add(d);d.init(a)}},renderTHead:function(a,b){var c=a.view.headerFns,d,e;if(c){e=0;for(d=c.length;e<d;++e)c[e].call(this,a,b)}},addHeaderFn:function(){var a=this.headerFns;if(!a)a=this.headerFns=[];a.push(fn)},renderTFoot:function(a,b){var c=a.view.footerFns,d,e;if(c){e=0;for(d=c.length;e<d;++e)c[e].call(this,a,b)}},addFooterFn:function(a){var b=this.footerFns;if(!b)b=this.footerFns=[];b.push(a)},addTableTpl:function(a){return this.addTpl("tableTpl",a)},addRowTpl:function(a){return this.addTpl("rowTpl",
a)},addCellTpl:function(a){return this.addTpl("cellTpl",a)},addTpl:function(a,b){var c,d,b=Ext.Object.chain(b);if(!b.isTemplate)b.applyOut=this.tplApplyOut;for(c=this[a];b.priority<c.priority;c=c.nextTpl)d=c;d?d.nextTpl=b:this[a]=b;b.nextTpl=c;return b},tplApplyOut:function(a,b){if(!(this.before&&this.before(a,b)===false)){this.nextTpl.applyOut(a,b);this.after&&this.after(a,b)}},constructFeatures:function(){var a=this.features,b,c,d=0,e;if(a){c=[];for(e=a.length;d<e;d++){b=a[d];b.isFeature||(b=Ext.create("feature."+
b.ftype,b));c[d]=b}}return c},beforeRender:function(){this.callParent();this.enableTextSelection||this.protoEl.unselectable()},onViewScroll:function(a,b){this.callParent(arguments);this.fireEvent("bodyscroll",a,b)},createRowElement:function(a,b){var c=this.renderBuffer;this.tpl.overwrite(c,this.collectData([a],b));return Ext.fly(c).down(this.getNodeContainerSelector(),true).firstChild},bufferRender:function(a,b){var c=this.renderBuffer;this.tpl.overwrite(c,this.collectData(a,b));return Ext.Array.toArray(Ext.fly(c).down(this.getNodeContainerSelector(),
true).childNodes)},collectData:function(a,b){this.rowValues.view=this;return{view:this,rows:a,viewStartIndex:b,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var a;(a=this.getBodySelector())&&this.body.attach(this.el.child(a,true));if(!this.hasLoadingHeight){a=this.up("tablepanel");Ext.suspendLayouts();this.callParent();a.updateLayout();
Ext.resumeLayouts(true)}},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){if(a=this.getNode(a)){var b=a.getAttribute("data-recordIndex");if(b){b=parseInt(b,10);if(b>-1)return this.store.data.getAt(b)}return this.dataSource.data.get(a.getAttribute("data-recordId"))}},indexOf:function(a){a=this.getNode(a,false);return!a&&a!==0?-1:this.all.indexOf(a)},indexInStore:function(a){a=this.getNode(a,true);if(!a&&a!==0)return-1;var b=a.getAttribute("data-recordIndex");
return b?parseInt(b,10):this.dataSource.indexOf(this.getRecord(a))},renderRows:function(a,b,c){var d=this.rowValues,e=a.length,g;d.view=this;d.columns=this.ownerCt.columnManager.getColumns();for(g=0;g<e;g++,b++){d.itemClasses.length=d.rowClasses.length=0;this.renderRow(a[g],b,c)}d.view=d.columns=d.record=null},renderColumnSizer:function(a){var b=this.getGridColumns(),c=b.length,d,e;for(d=0;d<c;d++){e=b[d];e=e.hidden?0:e.lastBox?e.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth;a.push('<colgroup><col class="',
Ext.baseCSSPrefix,"grid-cell-",b[d].getItemId(),'" style="width:'+e+'px"></colgroup>')}},renderRow:function(a,b,c){var d=b===-1,e=this.selModel,g=this.rowValues,h=g.itemClasses,i=g.rowClasses,j=this.rowTpl;g.record=a;g.recordId=a.internalId;g.recordIndex=b;g.rowId=this.getRowId(a);g.itemCls=g.rowCls="";if(!g.columns)g.columns=this.ownerCt.columnManager.getColumns();h.length=i.length=0;if(!d){h[0]=Ext.baseCSSPrefix+"grid-row";if(e&&e.isRowSelected){e.isRowSelected(b+1)&&h.push(this.beforeSelectedItemCls);
e.isRowSelected(a)&&h.push(this.selectedItemCls)}this.stripeRows&&b%2!==0&&i.push(this.altRowCls);if(this.getRowClass)(a=this.getRowClass(a,b,null,this.dataSource))&&i.push(a)}if(c)j.applyOut(g,c);else return j.apply(g)},renderCell:function(a,b,c,d,e){var g=this.selModel,h=this.cellValues,i=h.classes,j=b.data[a.dataIndex],k=this.cellTpl;h.record=b;h.column=a;h.recordIndex=c;h.columnIndex=d;h.cellIndex=d;h.align=a.align;h.tdCls=a.tdCls;h.innerCls=a.innerCls;h.style=h.tdAttr="";h.unselectableAttr=this.enableTextSelection?
"":'unselectable="on"';if(a.renderer&&a.renderer.call){j=a.renderer.call(a.scope||this.ownerCt,j,h,b,c,d,this.dataSource,this);if(h.css){b.cssWarning=true;h.tdCls=h.tdCls+(" "+h.css);delete h.css}}h.value=j==null||j===""?"&#160;":j;i[1]=Ext.baseCSSPrefix+"grid-cell-"+a.getItemId();j=2;if(a.tdCls)i[j++]=a.tdCls;if(this.markDirty&&b.isModified(a.dataIndex))i[j++]=this.dirtyCls;if(a.isFirstVisible)i[j++]=this.firstCls;if(a.isLastVisible)i[j++]=this.lastCls;this.enableTextSelection||(i[j++]=Ext.baseCSSPrefix+
"unselectable");i[j++]=h.tdCls;if(g&&g.isCellSelected&&g.isCellSelected(this,c,d))i[j++]=this.selectedCellCls;i.length=j;h.tdCls=i.join(" ");k.applyOut(h,e);h.column=null},getNode:function(a,b){var c,d=this.callParent(arguments);if(d&&d.tagName)if(b){if(!(c=Ext.fly(d)).is(this.dataRowSelector))return c.down(this.dataRowSelector,true)}else if(b===false&&!(c=Ext.fly(d)).is(this.itemSelector))return c.up(this.itemSelector,null,true);return d},getRowId:function(a){return this.id+"-record-"+a.internalId},
constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a,b){a=this.constructRowId(a);return this.retrieveNode(a,b)},getNodeByRecord:function(a,b){return this.retrieveNode(this.getRowId(a),b)},retrieveNode:function(a,b){var c=this.el.getById(a,true),d=this.itemSelector,e;return b===false&&c&&!(e=Ext.fly(c)).is(d)?e.up(d,null,true):c},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+
Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,true)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+"-"+
a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(a){var b=this.cellSelector;a&&(b=b+("-"+a.getItemId()));return b},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(a,b){var c=this.getNode(a,false);c&&Ext.fly(c).addCls(b)},removeRowCls:function(a,b){var c=this.getNode(a,false);c&&Ext.fly(c).removeCls(b)},setHighlightedItem:function(a){var b=
this.highlightedItem;b&&(this.el.isAncestor(b)&&this.isRowStyleFirst(b))&&this.getRowStyleTableEl(b).removeCls(this.tableOverFirstCls);a&&this.isRowStyleFirst(a)&&this.getRowStyleTableEl(a).addCls(this.tableOverFirstCls);this.callParent(arguments)},onRowSelect:function(a){this.addRowCls(a,this.selectedItemCls);this.isRowStyleFirst(a)?this.getRowStyleTableEl(a).addCls(this.tableSelectedFirstCls):this.addRowCls(a-1,this.beforeSelectedItemCls)},onRowDeselect:function(a){this.removeRowCls(a,[this.selectedItemCls,
this.focusedItemCls]);this.isRowStyleFirst(a)?this.getRowStyleTableEl(a).removeCls([this.tableFocusedFirstCls,this.tableSelectedFirstCls]):this.removeRowCls(a-1,[this.beforeFocusedItemCls,this.beforeSelectedItemCls])},onCellSelect:function(a){if(a=this.getCellByPosition(a)){a.addCls(this.selectedCellCls);this.scrollCellIntoView(a)}},onCellDeselect:function(a){(a=this.getCellByPosition(a,true))&&Ext.fly(a).removeCls(this.selectedCellCls)},getCellByPosition:function(a,b){if(a){var c=this.getNode(a.row,
true),d=this.ownerCt.columnManager.getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(this.getCellSelector(d),b)}return false},getFocusEl:function(){var a;if(this.refreshCounter){a=this.focusedRow;if(!a||!this.el.contains(a))this.all.getCount()&&(a=this.getNode(this.all.item(0).dom,true))?this.focusRow(a):a=this.body}else return this.el;return Ext.get(a)},onRowFocus:function(a,b,c){if(b){this.addRowCls(a,this.focusedItemCls);this.isRowStyleFirst(a)?this.getRowStyleTableEl(a).addCls(this.tableFocusedFirstCls):
this.addRowCls(a-1,this.beforeFocusedItemCls);c||this.focusRow(a)}else{this.removeRowCls(a,this.focusedItemCls);this.isRowStyleFirst(a)?this.getRowStyleTableEl(a).removeCls(this.tableFocusedFirstCls):this.removeRowCls(a-1,this.beforeFocusedItemCls)}(Ext.isIE6||Ext.isIE7)&&!this.ownerCt.rowLines&&this.repaintRow(a)},focus:function(a,b){var c=Ext.isIE&&!b,d;if(c)d=this.el.dom.scrollLeft;this.callParent(arguments);if(c)this.el.dom.scrollLeft=d},focusRow:function(a,b){var c=this,d,e=c.ownerCt&&c.ownerCt.collapsed,
g;if(c.isVisible(true)&&!e&&(a=c.getNode(a,true))){c.scrollRowIntoView(a);g=c.getRecord(a);d=c.indexInStore(a);c.selModel.setLastFocused(g);c.focusedRow=a;c.focus(false,b,function(){c.fireEvent("rowfocus",g,a,d)})}},scrollRowIntoView:function(a){(a=this.getNode(a,true))&&Ext.fly(a).scrollIntoView(this.el,false)},focusCell:function(a){var b=this.getCellByPosition(a),c=this.getRecord(a.row);this.focusRow(c);if(b){this.scrollCellIntoView(b);this.fireEvent("cellfocus",c,b,a)}},scrollCellIntoView:function(a){a.row!=
null&&a.column!=null&&(a=this.getCellByPosition(a));a&&Ext.fly(a).scrollIntoView(this.el,true)},scrollByDelta:function(a,b){var b=b||"scrollTop",c=this.el.dom;c[b]=c[b]=c[b]+a},isDataRow:function(a){return Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(a,b){a=Ext.get(a);b=Ext.get(b);a.dom.style.height=b.dom.style.height="";var c=this.rowTpl,d=a.dom.offsetHeight,e=b.dom.offsetHeight;if(d!==e){for(;c;){if(c.syncRowHeights&&c.syncRowHeights(a,b)===false)break;c=c.nextTpl}d=
a.dom.offsetHeight;e=b.dom.offsetHeight;if(d!==e){a=a.down("[data-recordId]")||a;b=b.down("[data-recordId]")||b;if(a&&b){a.dom.style.height=b.dom.style.height="";d=a.dom.offsetHeight;e=b.dom.offsetHeight;if(d>e){a.setHeight(d);b.setHeight(d)}else if(e>d){a.setHeight(e);b.setHeight(e)}}}}},onIdChanged:function(a,b,c,d,e){if(this.viewReady)if(a=this.getNodeById(e)){a.setAttribute("data-recordId",b.internalId);a.id=this.getRowId(b)}},onUpdate:function(a,b,c,d){var a=this.rowTpl,e,g,h,i,j,k,l,m,n;if(this.viewReady)if(g=
this.getNodeByRecord(b,false)){j=i=this.overItemCls;k=this.focusedItemCls;l=this.beforeFocusedItemCls;m=this.selectedItemCls;n=this.beforeSelectedItemCls;c=this.indexInStore(b);e=Ext.fly(g,"_internal");h=this.createRowElement(b,c);e.hasCls(i)&&Ext.fly(h).addCls(i);e.hasCls(j)&&Ext.fly(h).addCls(j);e.hasCls(k)&&Ext.fly(h).addCls(k);e.hasCls(l)&&Ext.fly(h).addCls(l);e.hasCls(m)&&Ext.fly(h).addCls(m);e.hasCls(n)&&Ext.fly(h).addCls(n);l=this.ownerCt.columnManager.getColumns();if(Ext.isIE9m&&g.mergeAttributes)g.mergeAttributes(h,
true);else{e=h.attributes;i=e.length;for(k=0;k<i;k++){j=e[k].name;j!=="id"&&g.setAttribute(j,e[k].value)}}for(l.length&&this.updateColumns(b,this.getNode(g,true),this.getNode(h,true),l,d);a;){if(a.syncContent&&a.syncContent(g,h)===false)break;a=a.nextTpl}this.fireEvent("itemupdate",b,c,g);this.refreshSize()}},updateColumns:function(a,b,c,d,e){var g,h,i,j,k=d.length,l=this.editingPlugin||this.lockingPartner&&this.ownerCt.ownerLockable.view.editingPlugin,l=l&&l.editing;i=this.getCellSelector();if(b.mergeAttributes)b.mergeAttributes(c,
true);else{g=c.attributes;h=g.length;for(j=0;j<h;j++){i=g[j].name;i!=="id"&&b.setAttribute(i,g[j].value)}}for(g=0;g<k;g++){h=d[g];if(this.shouldUpdateCell(a,h,e)){i=this.getCellSelector(h);h=Ext.DomQuery.selectNode(i,b);i=Ext.DomQuery.selectNode(i,c);if(l)Ext.fly(h).syncContent(i);else{j=h.parentNode;j.insertBefore(i,h);j.removeChild(h)}}}},shouldUpdateCell:function(a,b,c){if(b.hasCustomRenderer||!c)return true;if(c){var d=c.length,e,g;for(e=0;e<d;++e){g=c[e];if(g===b.dataIndex||g===a.idProperty)return true}}return false},
refresh:function(){var a=this.el&&this.el.isAncestor(Ext.Element.getActiveElement());this.callParent(arguments);this.headerCt.setSortState();this.el&&(!this.all.getCount()&&this.headerCt&&this.headerCt.tooNarrow)&&this.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(this.headerCt.getFullWidth()-1)+"px"});if(a)this.selModel.onLastFocusChanged(null,this.selModel.lastFocused)},processItemEvent:function(a,b,c,d){if(this.indexInStore(b)!==-1){var e=d.getTarget(this.getCellSelector(),
b),g,h=this.statics().EventMap;g=this.getSelectionModel();var i=d.type,j=this.features,k=j.length,l,m;i=="keydown"&&(!e&&g.getCurrentPosition)&&(e=this.getCellByPosition(g.getCurrentPosition(),true));if(e){if(!e.parentNode)return false;g=this.getHeaderByCell(e);g=Ext.Array.indexOf(this.getGridColumns(),g)}else g=-1;if(this.fireEvent("uievent",i,this,e,c,g,d,a,b)===false||this.callParent(arguments)===false){this.selModel.onVetoUIEvent(i,this,e,c,g,d,a,b);return false}for(l=0;l<k;++l){m=j[l];if(m.wrapsItem&&
m.vetoEvent(a,b,c,d)===false){this.processSpecialEvent(d);return false}}return i=="mouseover"||i=="mouseout"||!e?true:!(this["onBeforeCell"+h[i]](e,g,a,b,c,d)===false||this.fireEvent("beforecell"+i,this,e,g,a,b,c,d)===false||this["onCell"+h[i]](e,g,a,b,c,d)===false||this.fireEvent("cell"+i,this,e,g,a,b,c,d)===false)}this.processSpecialEvent(d);return false},processSpecialEvent:function(a){var b=this.features,c=b.length,d=a.type,e,g,h,i,j,k=this.ownerCt;this.callParent(arguments);if(!(d=="mouseover"||
d=="mouseout")){for(e=0;e<c;e++){g=b[e];if(g.hasFeatureEvent)if(i=a.getTarget(g.eventSelector,this.getTargetEl())){h=g.eventPrefix;j=g.getFireEventArgs("before"+h+d,this,i,a);g=g.getFireEventArgs(h+d,this,i,a);if(this.fireEvent.apply(this,j)===false||k.fireEvent.apply(k,j)===false||this.fireEvent.apply(this,g)===false||k.fireEvent.apply(k,g)===false)return false}}return true}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,
onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){Ext.isNumber(a)&&(a=this.getGridColumns[a]);if(a)if(a.isGroupHeader)a.autoSize();else{delete a.flex;a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(a){var b=this.el.query(a.getCellInnerSelector()),
c=a.getWidth(),d=0,e=b.length,g=Ext.supports.ScrollWidthInlinePaddingBug,h=this.body.select(this.getColumnSizerSelector(a)),i=Math.max,j;g&&e>0&&(j=this.getCellPaddingAfter(b[0]));h.setWidth(1);for(a=a.textEl.dom.offsetWidth+a.titleEl.getPadding("lr");d<e;d++)a=i(a,b[d].scrollWidth);g&&(a=a+j);a=i(a,40);h.setWidth(c);return a},getPositionByEvent:function(a){var b=a.getTarget(this.cellSelector),a=this.getRecord(a.getTarget(this.itemSelector)),b=this.getHeaderByCell(b);return this.getPosition(a,b)},
getHeaderByCell:function(a){if(a)if((a=a.className.match(this.cellRe))&&a[1])return this.ownerCt.columnManager.getHeaderById(a[1]);return false},walkCells:function(a,b,c,d,e,g){if(!a)return false;var h=a.row,a=a.column,i=this.dataSource.getCount(),j=this.ownerCt.columnManager.getColumns().length-1,k=h,l=a,m=this.ownerCt.columnManager.getHeaderAtIndex(a);if(!m||m.hidden||!i)return false;c=c||{};b=b.toLowerCase();switch(b){case "right":if(a===j){if(d||h===i-1)return false;if(!c.ctrlKey){k=this.walkRows(h,
1);k!==h&&(l=0)}}else l=c.ctrlKey?j:a+1;break;case "left":if(a===0){if(d||h===0)return false;if(!c.ctrlKey){k=this.walkRows(h,-1);k!==h&&(l=j)}}else l=c.ctrlKey?0:a-1;break;case "up":if(h===0)return false;k=c.ctrlKey?this.walkRows(-1,1):this.walkRows(h,-1);break;case "down":if(h===i-1)return false;k=c.ctrlKey?this.walkRows(i,-1):this.walkRows(h,1)}return e&&e.call(g||this,{row:k,column:l})!==true?false:(new Ext.grid.CellContext(this)).setPosition(k,l)},walkRows:function(a,b){var c=0,d=a,e,g=(this.dataSource.buffered?
this.dataSource.getTotalCount():this.dataSource.getCount())-1,h=(g=b<0?0:g)?1:-1,i=a;do{if(g?i>=g:i<=0)return d||g;i=i+h;if((e=Ext.fly(this.getNode(i,true)))&&e.isVisible(true)){c=c+h;d=i}}while(c!==b);return i},walkRecs:function(a,b){var c=0,d=a,e,g=(this.store.buffered?this.store.getTotalCount():this.store.getCount())-1,h=(g=b<0?0:g)?1:-1,i=this.store.indexOf(a),j;do{if(g?i>=g:i<=0)break;i=i+h;j=this.store.getAt(i);if((e=Ext.fly(this.getNodeByRecord(j,true)))&&e.isVisible(true)){c=c+h;d=j}}while(c!==
b);return d},getFirstVisibleRowIndex:function(){var a=this.dataSource.buffered?this.dataSource.getTotalCount():this.dataSource.getCount(),b=this.indexOf(this.all.first())-1;do{b=b+1;if(b===a)return}while(!Ext.fly(this.getNode(b,true)).isVisible(true));return b},getLastVisibleRowIndex:function(){var a=this.indexOf(this.all.last());do{a=a-1;if(a===-1)return}while(!Ext.fly(this.getNode(a,true)).isVisible(true));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return(new Ext.grid.CellContext(this)).setPosition(a,
b)},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners();this.callParent(arguments)},onDestroy:function(){var a=this.featuresMC,b,c;if(a){c=0;for(b=a.getCount();c<b;++c)a.getAt(c).destroy()}this.featuresMC=null;this.callParent(arguments)},onAdd:function(a,b,c){this.callParent(arguments);this.doStripeRows(c)},onRemove:function(a,b,c){this.callParent(arguments);this.doStripeRows(c[0])},doStripeRows:function(a,b){var c,d,e,g;if(this.rendered&&this.stripeRows){c=this.getNodes(a,b);e=0;
for(d=c.length;e<d;e++){g=c[e];g.className=g.className.replace(this.rowClsRe," ");a++;if(a%2===0)g.className=g.className+(" "+this.altRowCls)}}},repaintRow:function(a){for(var a=this.getNode(a).childNodes,b=a.length;b--;)a[b].className=a[b].className},getRowStyleTableEl:function(a){a.tagName||(a=this.getNode(a));return(this.isGrouping?Ext.fly(a):this.el).down("table.x-grid-table")},isRowStyleFirst:function(a){var b;if(a===-1)return false;if(a.tagName)b=this.indexOf(a);else{b=a;a=this.getNode(a)}return!b||
this.isGrouping&&Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-group-row")},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")}},1,["tableview"],["component","box","dataview","tableview"],{component:!0,box:!0,dataview:!0,tableview:!0},["widget.tableview"],0,[Ext.view,"Table"],0);
Ext.cmd.derive("Ext.grid.View",Ext.view.Table,{stripeRows:!0,autoScroll:!0},0,["gridview"],["component","box","dataview","gridview","tableview"],{component:!0,box:!0,dataview:!0,gridview:!0,tableview:!0},["widget.gridview"],0,[Ext.grid,"View"],0);
Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0},0,["grid","gridpanel"],"panel component tablepanel container grid box gridpanel".split(" "),{panel:!0,component:!0,tablepanel:!0,container:!0,grid:!0,box:!0,gridpanel:!0},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0);
Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(a,b,c){var d=this.bufferedRenderer,e=this.all;this.rendered&&d&&e.getCount()+b.length>d.viewSize?c<e.startIndex+d.viewSize&&c+b.length>e.startIndex?this.refreshView():d.stretchView(this,d.getScrollHeight()):this.callParent([a,b,c])},onRemove:function(a,b,c){var d=this.bufferedRenderer;this.callParent([a,b,c]);this.rendered&&d&&(this.dataSource.getCount()>d.viewSize?this.refreshView():d.stretchView(this,
d.getScrollHeight()))},onDataRefresh:function(){if(this.bufferedRenderer){this.all.clear();this.bufferedRenderer.onStoreClear()}this.callParent()}});Ext.define("ExtThemeNeptune.panel.Table",{override:"Ext.panel.Table",bodyBorder:!0});
Ext.cmd.derive("Ext.grid.RowEditorButtons",Ext.container.Container,{frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(a){var b=a.rowEditor,c=Ext.baseCSSPrefix,d=b.editingPlugin,a=Ext.apply({baseCls:c+"grid-row-editor-buttons",defaults:{xtype:"button",ui:b.buttonUI,scope:d,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:c+"row-editor-update-button",itemId:"update",handler:d.completeEdit,text:b.saveBtnText,disabled:b.updateButtonDisabled},{cls:c+"row-editor-cancel-button",
handler:d.cancelEdit,text:b.cancelBtnText}]},a);this.callParent([a]);this.addClsWithUI(this.position)},setButtonPosition:function(a){this.removeClsWithUI(this.position);this.position=a;this.addClsWithUI(a)},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=this.callParent();a.top=true;return a}},1,["roweditorbuttons"],["component","container","box","roweditorbuttons"],{component:!0,container:!0,box:!0,roweditorbuttons:!0},["widget.roweditorbuttons"],
0,[Ext.grid,"RowEditorButtons"],0);
Ext.cmd.derive("Ext.grid.RowEditor",Ext.form.Panel,{saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,buttonUI:"default",hideMode:"offsets",initComponent:function(){var a=this.editingPlugin.grid,b=Ext.container.Container;this.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor";this.layout={type:"hbox",align:"middle"};(this.lockable=a.lockable)?this.items=[this.lockedColumnContainer=
new b({id:a.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),this.normalColumnContainer=new b({flex:1,id:a.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:this.lockedColumnContainer=this.normalColumnContainer=this;this.callParent(arguments);if(this.fields){this.addFieldsForColumn(this.fields,true);this.insertColumnEditor(this.fields);delete this.fields}this.mon(this.hierarchyEventSource,{scope:this,show:this.repositionIfVisible});this.getForm().trackResetOnLoad=
true},onGridResize:function(){var a=this.getClientWidth(),b=this.editingPlugin.grid,c=b.body,d=this.getFloatingButtons();this.setLocalX(c.getOffsetsTo(b)[0]+c.getBorderWidth("l")-b.el.getBorderWidth("l"));this.setWidth(a);d.setLocalX((a-d.getWidth())/2)},onFieldRender:function(a){a=a.column;if(a.isVisible())this.syncFieldWidth(a);else if(!a.rendered)this.view.headerCt.on({afterlayout:Ext.Function.bind(this.syncFieldWidth,this,[a]),single:true})},syncFieldWidth:function(a){var b=a.getEditor();b._marginWidth=
b._marginWidth||b.el.getMargin("lr");a=a.getWidth()-b._marginWidth;b.setWidth(a);if(b.xtype==="displayfield")b.inputWidth=a},onFieldChange:function(){var a=this.getForm().isValid();if(this.errorSummary&&this.isVisible())this[a?"hideToolTip":"showToolTip"]();this.updateButton(a);this.isValid=a},updateButton:function(a){var b=this.floatingButtons;b?b.child("#update").setDisabled(!a):this.updateButtonDisabled=!a},afterRender:function(){var a=this,b=a.editingPlugin,c=b.grid,d=c.lockable?c.normalGrid.view:
c.view;a.callParent(arguments);a.scrollingView=d;a.scrollingViewEl=d.el;d.mon(a.scrollingViewEl,"scroll",a.onViewScroll,a);a.mon(a.el,{click:Ext.emptyFn,stopPropagation:true});a.mon(c,{resize:a.onGridResize,scope:a});a.el.swallowEvent(["keypress","keydown"]);a.fieldScroller=a.normalColumnContainer.layout.innerCt;a.fieldScroller.dom.style.overflow="hidden";a.fieldScroller.on({scroll:a.onFieldContainerScroll,scope:a});a.keyNav=new Ext.util.KeyNav(a.el,{enter:b.completeEdit,esc:b.onEscKey,scope:b});
a.mon(b.view,{beforerefresh:a.onBeforeViewRefresh,refresh:a.onViewRefresh,itemremove:a.onViewItemRemove,scope:a});a.preventReposition=true;Ext.Array.each(a.query("[isFormField]"),function(b){if(b.column.isVisible())a.onColumnShow(b.column)},a);delete a.preventReposition},onBeforeViewRefresh:function(a){a=a.el.dom;this.el.dom.parentNode===a&&a.removeChild(this.el.dom)},onViewRefresh:function(a){var b=this.context,c;if(b&&(c=a.getNode(b.record,true))){b.row=c;this.reposition();this.tooltip&&this.tooltip.isVisible()&&
this.tooltip.setTarget(b.row)}else this.editingPlugin.cancelEdit()},onViewItemRemove:function(a){var b=this.context;b&&a===b.record&&this.editingPlugin.cancelEdit()},onViewScroll:function(){var a=this.editingPlugin.view.el,b=this.scrollingViewEl,c=b.dom.scrollTop,d=b.getScrollLeft(),b=d!==this.lastScrollLeft,e=c!==this.lastScrollTop;this.lastScrollTop=c;this.lastScrollLeft=d;if(this.isVisible())if((c=Ext.getDom(this.context.row.id))&&a.contains(c)){if(e){this.context.row=c;this.reposition(null,true);
(this.tooltip&&this.tooltip.isVisible()||this.hiddenTip)&&this.repositionTip();this.syncEditorClip()}}else this.setLocalY(-400);this.rendered&&b&&this.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(a){if(this.rendered){this.onGridResize();this.onViewScroll();if(!a.isGroupHeader){this.syncFieldWidth(a);
this.repositionIfVisible()}}},onColumnHide:function(a){if(!a.isGroupHeader){a.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(a){if(this.rendered&&!a.isGroupHeader){a.getEditor().show();this.syncFieldWidth(a);this.preventReposition||this.repositionIfVisible()}},onColumnMove:function(a,b,c){var d,e=1,g,h,i,j=a.isLocked()?this.lockedColumnContainer:this.normalColumnContainer;if(a.isGroupHeader){Ext.suspendLayouts();a=a.getGridColumns();if(c>b){c--;e=0}this.addFieldsForColumn(a);
d=0;for(g=a.length;d<g;d++,b=b+e,c=c+e){h=a[d].getEditor();i=j.items.indexOf(h);i===-1?j.insert(c,h):i!=c&&j.move(b,c)}Ext.resumeLayouts(true)}else{c>b&&c--;this.addFieldsForColumn(a);h=a.getEditor();i=j.items.indexOf(h);i===-1?j.insert(c,h):i!=c&&j.move(b,c)}},onColumnAdd:function(a){a.isGroupHeader&&(a=a.getGridColumns());this.addFieldsForColumn(a);this.insertColumnEditor(a);this.preventReposition=false},insertColumnEditor:function(a){var b,c;if(Ext.isArray(a)){c=0;for(b=a.length;c<b;c++)this.insertColumnEditor(a[c])}else if(a.getEditor){b=
a.isLocked()?this.lockedColumnContainer:this.normalColumnContainer;b.insert(a.getVisibleIndex(),a.getEditor())}},onColumnRemove:function(a,b){b=b.isGroupHeader?b.getGridColumns():b;this.removeColumnEditor(b)},removeColumnEditor:function(a){var b,c;if(Ext.isArray(a)){c=0;for(b=a.length;c<b;c++)this.removeColumnEditor(a[c])}else if(a.hasEditor())(a=a.getEditor())&&a.ownerCt&&a.ownerCt.remove(a,false)},onColumnReplace:function(a,b,c,d){this.onColumnRemove(d.ownerCt,d)},getFloatingButtons:function(){var a=
this.floatingButtons;if(!a)this.floatingButtons=a=new Ext.grid.RowEditorButtons({rowEditor:this});return a},repositionIfVisible:function(a){var b=this.view;(!a||a!=this&&a.el.isAncestor(b.el))&&this.isVisible()&&b.isVisible(true)&&this.reposition()},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(){var a;if(this.lockable){a=this.lockedColumnContainer.getRefItems();a.push.apply(a,this.normalColumnContainer.getRefItems())}else a=this.callParent();a.push.apply(a,this.getFloatingButtons().getRefItems());
return a},reposition:function(a,b){var c=this,d=c.context,e=d&&Ext.get(d.row),d=0,g,h;if(e&&Ext.isElement(e.dom)){g=c.syncButtonPosition(c.getScrollDelta());c.editingPlugin.grid.rowLines||(d=-parseInt(e.first().getStyle("border-bottom-width")));e=c.calculateLocalRowTop(e);d=c.calculateEditorTop(e)+d;b||(h=function(){g&&c.scrollingViewEl.scrollBy(0,g,true);c.focusContextCell()});c.syncEditorClip();if(a)c.animate(Ext.applyIf({to:{top:d},duration:a.duration||125,callback:h},a));else{c.setLocalY(d);h&&
h()}}},getScrollDelta:function(){var a=this.scrollingViewEl.dom,b=this.context,c=this.body,d=0;if(b){d=Ext.fly(b.row).getOffsetsTo(a)[1]-c.getBorderPadding().beforeY;d>0&&(d=Math.max(d+this.getHeight()+this.floatingButtons.getHeight()-a.clientHeight-c.getBorderWidth("b"),0))}return d},calculateLocalRowTop:function(a){var b=this.editingPlugin.grid;return Ext.fly(a).getOffsetsTo(b)[1]-b.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-
this.lastScrollTop},getClientWidth:function(){var a=this.editingPlugin.grid;return this.lockable?a.lockedGrid.getWidth()+a.normalGrid.view.el.dom.clientWidth-1:a.view.el.dom.clientWidth},getEditor:function(a){if(Ext.isNumber(a))return this.query("[isFormField]")[a];if(a.isHeader&&!a.isGroupHeader)return a.getEditor()},addFieldsForColumn:function(a,b){var c,d;if(Ext.isArray(a)){c=0;for(d=a.length;c<d;c++)this.addFieldsForColumn(a[c],b)}else if(a.getEditor){c=a.getEditor(null,{xtype:"displayfield",
getModelData:function(){return null}});if(a.align==="right")c.fieldStyle="text-align:right";if(a.xtype==="actioncolumn")c.fieldCls=c.fieldCls+(" "+Ext.baseCSSPrefix+"form-action-col-field");if(this.isVisible()&&this.context)if(c.is("displayfield"))this.renderColumnData(c,this.context.record,a);else{c.suspendEvents();c.setValue(this.context.record.get(a.dataIndex));c.resumeEvents()}if(a.hidden)this.onColumnHide(a);else if(a.rendered&&!b)this.onColumnShow(a)}},loadRecord:function(a){var b=this.getForm(),
c=b.getFields().items,d=c.length,e;for(e=0;e<d;e++)c[e].suspendEvents();b.loadRecord(a);for(e=0;e<d;e++)c[e].resumeEvents();d=b.isValid();this.errorSummary&&(d?this.hideToolTip():this.showToolTip());this.updateButton(d);b=this.query(">displayfield");d=b.length;for(e=0;e<d;e++)this.renderColumnData(b[e],a)},renderColumnData:function(a,b,c){var d=this.editingPlugin.grid.headerCt,e=this.scrollingView,g=e.dataSource,c=c||a.column,h=b.get(c.dataIndex),i=c.editRenderer||c.renderer,j,k,l;if(i){j={tdCls:"",
style:""};k=g.indexOf(b);l=d.getHeaderIndex(c);h=i.call(c.scope||d.ownerCt,h,j,b,k,l,g,e)}a.setRawValue(h);a.resetOriginalValue()},beforeEdit:function(){var a;if(this.isVisible()&&this.errorSummary&&!this.autoCancel&&this.isDirty()){(a=this.getScrollDelta())&&this.scrollingViewEl.scrollBy(0,a,true);this.showToolTip();return false}},startEdit:function(a){var b=this.editingPlugin,c=b.grid,b=this.context=b.context;if(this.rendered)this.syncFieldsHorizontalScroll();else{this.width=this.getClientWidth();
this.render(c.el,c.el.dom.firstChild);this.getFloatingButtons().render(this.el);this.onViewScroll()}this.isVisible()?this.reposition(true):this.show();this.onGridResize();b.grid.getSelectionModel().select(a);this.loadRecord(a)},syncButtonPosition:function(a){var b=this.getFloatingButtons(),c=this.scrollingViewEl.dom;if(this.getScrollDelta()-(c.scrollHeight-c.scrollTop-c.clientHeight)>0){if(!this._buttonsOnTop){b.setButtonPosition("top");this._buttonsOnTop=true}a=0}else if(this._buttonsOnTop){b.setButtonPosition("bottom");
this._buttonsOnTop=false}return a},syncEditorClip:function(){var a=this.getScrollDelta(),b;if(a){this.isOverflowing=true;b=this.floatingButtons.getHeight();if(a>0)this.clipBottom(Math.max(this.getHeight()-a+b,-b));else if(a<0){a=Math.abs(a);this.clipTop(Math.max(a,0))}}else if(this.isOverflowing){this.clearClip();this.isOverflowing=false}},focusContextCell:function(){var a=this.getEditor(this.context.column);a&&a.focus&&a.focus()},cancelEdit:function(){var a=this.getForm(),b=a.getFields().items,c=
b.length,d;this.hide();a.clearInvalid();for(d=0;d<c;d++)b[d].suspendEvents();a.reset();for(d=0;d<c;d++)b[d].resumeEvents()},completeEdit:function(){var a=this.getForm();if(!a.isValid())return false;a.updateRecord(this.context.record);this.hide();return true},onShow:function(){this.callParent(arguments);this.reposition()},onHide:function(){this.callParent(arguments);this.tooltip&&this.hideToolTip();if(this.context){this.context.view.focusRow(this.context.record);this.context=null}},isDirty:function(){return this.getForm().isDirty()},
getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left",anchorToTarget:false}))},hideToolTip:function(){var a=this.getToolTip();a.rendered&&a.disable();this.hiddenTip=false},showToolTip:function(){var a=this.getToolTip();a.showAt([0,0]);a.update(this.getErrors());this.repositionTip();a.enable()},repositionTip:function(){var a=this.getToolTip(),
b=Ext.get(this.context.row),c=this.scrollingViewEl,d=this.lastScrollTop,e=d+c.dom.clientHeight,g=b.getHeight(),h=b.getOffsetsTo(this.context.view.body)[1];if(h+g>d&&h<e){a.showAt(a.getAlignToXY(c,"tl-tr",[15,b.getOffsetsTo(c)[1]]));this.hiddenTip=false}else{a.hide();this.hiddenTip=true}},getErrors:function(){var a=[],b=this.query(">[isFormField]"),c=b.length,d;for(d=0;d<c;d++)a=a.concat(Ext.Array.map(b[d].getErrors(),this.createErrorListItem));!a.length&&(!this.autoCancel&&this.isDirty())&&(a[0]=
this.createErrorListItem(this.dirtyText));return'<ul class="'+Ext.plainListCls+'">'+a.join("")+"</ul>"},createErrorListItem:function(a){return'<li class="'+Ext.baseCSSPrefix+'grid-row-editor-errors-item">'+a+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);this.callParent()},clipBottom:function(a){this.el.setStyle("clip","rect(-1000px auto "+a+"px auto)")},clipTop:function(a){this.el.setStyle("clip","rect("+a+"px auto 1000px auto)")},clearClip:function(){this.el.setStyle("clip",
Ext.isIE8m||Ext.isIEQuirks?"rect(-1000px auto 1000px auto)":"auto")}},0,["roweditor"],"panel form component container roweditor box".split(" "),{panel:!0,form:!0,component:!0,container:!0,roweditor:!0,box:!0},["widget.roweditor"],0,[Ext.grid,"RowEditor"],0);Ext.define("ExtThemeNeptune.grid.RowEditor",{override:"Ext.grid.RowEditor",buttonUI:"default-toolbar"});
Ext.cmd.derive("Ext.view.DropZone",Ext.dd.DropZone,{indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(a){Ext.apply(this,a);if(!this.ddGroup)this.ddGroup="view-dd-zone-"+this.view.id;this.callParent([this.view.el])},fireViewEvent:function(){var a;this.lock();a=this.view.fireEvent.apply(this.view,arguments);this.unlock();return a},
getTargetFromEvent:function(a){var b=a.getTarget(this.view.getItemSelector()),c,d,e,g,h;if(!b){a=a.getPageY();e=0;c=this.view.getNodes();for(g=c.length;e<g;e++){d=c[e];h=Ext.fly(d).getBox();if(a<=h.bottom)return d}}return b},getIndicator:function(){if(!this.indicator)this.indicator=new Ext.Component({html:this.indicatorHtml,cls:this.indicatorCls,ownerCt:this.view,floating:true,shadow:false});return this.indicator},getPosition:function(a,b){var c=a.getXY()[1],d=Ext.fly(b).getRegion();return d.bottom-
c>=(d.bottom-d.top)/2?"before":"after"},containsRecordAtOffset:function(a,b,c){if(!b)return false;var d=this.view,b=d.indexOf(b);return(d=(c=d.getNode(b+c,true))?d.getRecord(c):null)&&Ext.Array.contains(a,d)},positionIndicator:function(a,b,c){var d=this.view,c=this.getPosition(c,a),e=d.getRecord(a),b=b.records;if(!Ext.Array.contains(b,e)&&(c=="before"&&!this.containsRecordAtOffset(b,e,-1)||c=="after"&&!this.containsRecordAtOffset(b,e,1))){this.valid=true;if(this.overRecord!=e||this.currentPosition!=
c){b=Ext.fly(a).getY()-d.el.getY()-1;c=="after"&&(b=b+Ext.fly(a).getHeight());this.getIndicator().setWidth(Ext.fly(d.el).getWidth()).showAt(0,b);this.overRecord=e;this.currentPosition=c}}else this.invalidateDrop()},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(a,b,c,d){Ext.Array.contains(d.records,this.view.getRecord(a))||this.positionIndicator(a,d,c);return this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(a,b,c,d){this.callParent(arguments);
this.overRecord=this.currentPosition=null;this.valid=false;this.indicator&&this.indicator.hide()},onContainerOver:function(a,b,c){a=this.view;if(a.dataSource.getCount())this.positionIndicator(a.all.last(),c,b);else{this.overRecord=this.currentPosition=null;this.getIndicator().setWidth(Ext.fly(a.el).getWidth()).showAt(0,0);this.valid=true}return this.dropAllowed},onContainerDrop:function(a,b,c){return this.onNodeDrop(a,null,b,c)},onNodeDrop:function(a,b,c,d){var e=this,g=false,b={wait:false,processDrop:function(){e.invalidateDrop();
e.handleNodeDrop(d,e.overRecord,e.currentPosition);g=true;e.fireViewEvent("drop",a,d,e.overRecord,e.currentPosition)},cancelDrop:function(){e.invalidateDrop();g=true}},c=false;if(e.valid){c=e.fireViewEvent("beforedrop",a,d,e.overRecord,e.currentPosition,b);if(b.wait)return;c!==false&&(g||b.processDrop())}return c},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}},1,0,0,0,0,0,[Ext.view,"DropZone"],0);
Ext.cmd.derive("Ext.grid.ViewDropZone",Ext.view.DropZone,{indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,b,c){var d=this.view,e=d.getStore(),g,h,i;if(a.copy){g=a.records;a.records=[];h=0;for(i=g.length;h<i;h++)a.records.push(g[h].copy())}else a.view.store.remove(a.records,a.view===d);if(b&&c){b=e.indexOf(b);c!=="before"&&
b++;e.insert(b,a.records)}else e.add(a.records);d.getSelectionModel().select(a.records)}},0,0,0,0,0,0,[Ext.grid,"ViewDropZone"],0);
Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.AbstractPlugin,{disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1E3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,
onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a){var b,c,d;if(this.headerCt.dragging){if(this.activeHd){this.activeHd.el.dom.style.cursor="";delete this.activeHd}}else if(b=a.getTarget("."+this.colHeaderCls,3,true)){b=Ext.getCmp(b.id);if(b.isOnLeftEdge(a)){if(a=b.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])")){d=
this.headerCt.up("tablepanel");c=a.up("tablepanel");c===d||d.ownerCt.isXType("tablepanel")&&d.ownerCt.view.lockedGrid===c||(a=null)}}else a=b.isOnRightEdge(a)?b:null;if(a){if(a.isGroupHeader){a=a.getGridColumns();a=a[a.length-1]}if(a&&!a.fixed&&!(a.resizable===false||this.disabled)){this.activeHd=a;b.el.dom.style.cursor=this.eResizeCursor;if(b.triggerEl)b.triggerEl.dom.style.cursor=this.eResizeCursor}}else{b.el.dom.style.cursor="";if(b.triggerEl)b.triggerEl.dom.style.cursor="";this.activeHd=null}}},
onBeforeStart:function(){if((this.dragHd=this.activeHd)&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}return this.headerCt.dragging=false},getConstrainRegion:function(){var a=this.dragHd.el,b=0,c;if(this.headerCt.forceFit){if(c=this.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])")){this.headerInSameGrid(c)||(c=null);b=c.getWidth()-this.minColWidth}}else b=(c=this.dragHd.up("tablepanel")).isLocked?this.dragHd.up("[scrollerOwner]").getWidth()-
c.getWidth()-30:this.maxColWidth-a.getWidth();return this.adjustConstrainRegion(a.getRegion(),0,b,0,this.minColWidth)},onStart:function(){var a=this.dragHd,b=a.el.getWidth(),c=a.getOwnerHeaderCt(),d,e,g,h;this.headerCt.dragging=true;this.origWidth=b;if(!this.dynamic){d=e=c.up("tablepanel");if(d.ownerLockable)e=d.ownerLockable;a=this.getLeftMarkerX(e);g=e.getLhsMarker();h=e.getRhsMarker();d=d.body.getHeight()+c.getHeight();c=c.getOffsetsTo(e)[1];g.setLocalY(c);h.setLocalY(c);g.setHeight(d);h.setHeight(d);
this.setMarkerX(g,a);this.setMarkerX(h,a+b)}},onDrag:function(){var a;if(this.dynamic)this.doResize();else{a=this.headerCt.up("tablepanel");if(a.ownerLockable)a=a.ownerLockable;this.setMarkerX(this.getMovingMarker(a),this.calculateDragX(a))}},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var a=this.headerCt.up("tablepanel");if(a.ownerLockable)a=a.ownerLockable;this.setMarkerX(a.getLhsMarker(),-9999);this.setMarkerX(a.getRhsMarker(),
-9999)}this.doResize()}},doResize:function(){var a=this.dragHd,b;if(a){b=this.tracker.getOffset("point");a.flex&&delete a.flex;Ext.suspendLayouts();this.adjustColumnWidth(b[0]);if(this.headerCt.forceFit){(a=a.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&!this.headerInSameGrid(a)&&(a=null);if(a){delete a.flex;a.setWidth(a.getWidth()-b[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(a){var b=this.dragHd.up("tablepanel");return!!a.up(b)},disable:function(){this.disabled=true;
this.tracker&&this.tracker.disable()},enable:function(){this.disabled=false;this.tracker&&this.tracker.enable()},calculateDragX:function(a){return this.tracker.getXY("point")[0]-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,b,c,d,e){return a.adjust(b,c,d,e)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}},0,0,0,0,["plugin.gridheaderresizer"],
0,[Ext.grid.plugin,"HeaderResizer"],0);
Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){if(a.getTarget(this.colInnerSelector)){var b=a.getTarget(this.colHeaderSelector),
c;if(b){c=Ext.getCmp(b.id);if(!this.headerCt.dragging&&c.draggable&&!c.isOnLeftEdge(a)&&!c.isOnRightEdge(a)){a=document.createElement("div");a.innerHTML=Ext.getCmp(b.id).text;return{ddel:a,header:c}}}}return false},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=
false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0);
Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),
{cls:"col-move-top",html:"&#160;"},true);this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator)this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true);return this.bottomIndicator},getLocation:function(a,b){var c=a.getXY()[0],d=Ext.fly(b).getRegion();return{pos:d.right-c<=(d.right-d.left)/2?"after":"before",header:Ext.getCmp(b.id),
node:b}},positionIndicator:function(a,b,c){var d=a.header,e=this.getLocation(c,b),b=e.header,c=e.pos,g,h;if(!(b===this.lastTargetHeader&&c===this.lastDropPos)){g=d.nextSibling("gridcolumn:not([hidden])");h=d.previousSibling("gridcolumn:not([hidden])");this.lastTargetHeader=b;this.lastDropPos=c;if(!b.draggable&&c==="before"&&b.getIndex()===0)return false;a.dropLocation=e;if(d!==b&&(c==="before"&&g!==b||c==="after"&&h!==b)&&!b.isDescendantOf(d)){a=Ext.dd.DragDropManager.getRelated(this);d=a.length;
for(e=0;e<d;e++){g=a[e];g!==this&&g.invalidateDrop&&g.invalidateDrop()}this.valid=true;a=this.getTopIndicator();d=this.getBottomIndicator();if(c==="before"){c="bc-tl";e="tc-bl"}else{c="bc-tr";e="tc-br"}c=a.getAlignToXY(b.el,c);b=d.getAlignToXY(b.el,e);g=this.headerCt.el;e=g.getX()-this.indicatorXOffset;g=g.getX()+g.getWidth();c[0]=Ext.Number.constrain(c[0],e,g);b[0]=Ext.Number.constrain(b[0],e,g);a.setXY(c);d.setXY(b);a.show();d.show()}else this.invalidateDrop()}},invalidateDrop:function(){this.valid=
false;this.hideIndicators()},onNodeOver:function(a,b,c,d){var b=d.header,e,g,h;if(d.header.el.dom===a)e=false;else{d.isLock=d.isUnlock=false;g=this.getLocation(c,a).header;e=b.ownerCt===g.ownerCt;if(!e&&!b.ownerCt.sealed&&!g.ownerCt.sealed){e=true;h=b.up("tablepanel");g=g.up("tablepanel");d.isLock=g.isLocked&&!h.isLocked;d.isUnlock=!g.isLocked&&h.isLocked;if(d.isUnlock&&b.lockable===false||d.isLock&&!b.isLockable())e=false}}e?this.positionIndicator(d,a,c):this.valid=false;return this.valid?this.dropAllowed:
this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide();this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){var e=d.header,g=d.dropLocation,h=g.header,i=e.ownerCt,j=i.items.indexOf(e),k=h.ownerCt,l=k.items.indexOf(h),m=this.headerCt,n=m.columnManager,p=n.getHeaderIndex(e),n=n.getHeaderIndex(h),o=e.isGroupHeader?e.query(":not([isGroupHeader])").length:1,q=i===k;if(g.pos===
"after"){l++;n=n+(h.isGroupHeader?h.query(":not([isGroupHeader])").length:1)}if(d.isLock){i=i.up("[scrollerOwner]");i.lock(e,l);d.isLock=false;this.onNodeDrop(a,b,c,d)}else if(d.isUnlock){i=i.up("[scrollerOwner]");i.unlock(e,l);d.isUnlock=false;this.onNodeDrop(a,b,c,d)}else{this.invalidateDrop();a=e.getWidth();if(q){if(l===j){m.onHeaderMoved(e,o,p,n);return}l>j&&(l=l-1)}Ext.suspendLayouts();if(q)k.move(j,l);else{i.remove(e,false);k.insert(l,e)}if(k.isGroupHeader){if(!q){e.savedFlex=e.flex;delete e.flex;
e.width=a}}else if(e.savedFlex){e.flex=e.savedFlex;delete e.width}m.purgeCache();Ext.resumeLayouts(true);m.onHeaderMoved(e,o,p,n)}}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0);
Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.AbstractPlugin,{init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=new Ext.grid.header.DragZone(this.headerCt);this.dropZone=new Ext.grid.header.DropZone(this.headerCt);this.disabled&&this.dragZone.disable()},enable:function(){this.disabled=false;this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=
true;this.dragZone&&this.dragZone.disable()}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0);
Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:!0,baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",
triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){this.headerCounter=0;this.plugins=this.plugins||[];if(!this.isColumn){if(this.enableColumnResize){this.resizer=new Ext.grid.plugin.HeaderResizer;this.plugins.push(this.resizer)}if(this.enableColumnMove){this.reorderer=new Ext.grid.plugin.HeaderReorderer;this.plugins.push(this.reorderer)}}if(this.isColumn&&(!this.items||this.items.length===0)){this.isContainer=false;this.layout={type:"container",calculate:Ext.emptyFn}}else{this.layout=
Ext.apply({type:"gridcolumn",align:"stretch"},this.initialConfig.layout);if(this.isRootHeader)this.grid.columnManager=this.columnManager=new Ext.grid.ColumnManager(this)}this.defaults=this.defaults||{};Ext.applyIf(this.defaults,{triStateSort:this.triStateSort,sortable:this.sortable});this.menuTask=new Ext.util.DelayedTask(this.updateMenuDisabledState,this);this.callParent();this.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow",
"columnschanged","sortchange","menucreate")},isLayoutRoot:function(){return this.hiddenHeaders?false:this.callParent()},getOwnerHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},onDestroy:function(){this.menu&&this.menu.un("hide",this.onMenuHide,this);this.menuTask.cancel();Ext.destroy(this.resizer,this.reorderer);this.callParent()},applyColumnsState:function(a){if(a&&a.length){var b=this.items.items,c=b.length,d=0,e=a.length,g,h,i,j;for(g=0;g<e;g++){i=a[g];for(j=c;j--;){h=
b[j];if(h.getStateId&&h.getStateId()==i.id){d!==j&&this.moveHeader(j,d);h.applyColumnState&&h.applyColumnState(i);++d;break}}}}},getColumnsState:function(){var a=[],b;this.items.each(function(c){(b=c.getColumnState&&c.getColumnState())&&a.push(b)});return a},onAdd:function(a){if(!a.headerId)a.headerId=a.initialConfig.id||Ext.id(null,"header-");if(!a.getStateId())a.stateId=a.initialConfig.id||"h"+ ++this.headerCounter;this.callParent(arguments);this.onColumnsChanged()},onMove:function(){this.callParent(arguments);
this.onColumnsChanged()},onShow:function(){this.callParent(arguments);this.onColumnsChanged()},onColumnsChanged:function(){for(var a=this;a;){a.purgeCache();if(a.isRootHeader)break;a=a.ownerCt}a&&a.rendered&&a.fireEvent("columnschanged",a)},onRemove:function(a){var b=this.ownerCt;this.callParent(arguments);if(!this.destroying){this.onColumnsChanged();if(this.isGroupHeader&&!this.items.getCount()&&b){this.detachComponent(a);Ext.suspendLayouts();b.remove(this);Ext.resumeLayouts(true)}}},applyDefaults:function(a){var b;
if(a&&!a.isComponent&&a.xtype=="rownumberer")b=a;else{b=this.callParent(arguments);if(!a.isGroupHeader&&!("width"in b)&&!b.flex)b.width=this.defaultWidth}return b},setSortState:function(){var a=this.up("[store]").store.getFirstSorter(),b;if(a)(b=this.down("gridcolumn[dataIndex="+a.property+"]"))&&b.setSortState(a.direction,false,true);else this.clearOtherSortStates(null)},getHeaderMenu:function(){var a=this.getMenu();if(a)if(a=a.child("#columnItem"))return a.menu;return null},onHeaderVisibilityChange:function(a,
b){var c=this.getHeaderMenu(),d;this.purgeCache();if(c){(d=this.getMenuItemForHeader(c,a))&&d.setChecked(b,true);c.isVisible()&&this.menuTask.delay(50)}},updateMenuDisabledState:function(a){var b=this.query(":not([hidden])"),c,d=b.length,e,g;a||(a=this.getMenu());for(c=0;c<d;++c){e=b[c];if(g=this.getMenuItemForHeader(a,e)){e=e.isHideable()?"enable":"disable";g.menu&&(e=e+"CheckChange");g[e]()}}},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(a){var b=
this.ownerCt;this.forceFit&&delete this.flex;this.onHeaderVisibilityChange(a,true);if(!a.isGroupHeader&&b)b.onHeaderShow(this,a);this.fireEvent("columnshow",this,a);this.fireEvent("columnschanged",this)},onHeaderHide:function(a){var b=this.ownerCt;this.onHeaderVisibilityChange(a,false);if(!a.isGroupHeader&&b)b.onHeaderHide(this,a);this.fireEvent("columnhide",this,a);this.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},
onHeaderResize:function(a,b){var c=this.view,d=this.ownerCt;if(c&&c.body.dom){this.tempLock();if(d)d.onHeaderResize(this,a,b)}this.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",this,a,b,c);this.fireEvent("headerclick",this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent("headercontextmenu",this,a,b,c);this.fireEvent("headercontextmenu",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){a.fireEvent("headertriggerclick",this,a,b,c)!==false&&this.fireEvent("headertriggerclick",
this,a,b,c)!==false&&this.showMenuBy(c,a)},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#ascItem"),e=c.down("#descItem"),g;c.activeHeader=c.ownerButton=b;b.setMenuActive(true);g=b.sortable?"enable":"disable";if(d)d[g]();if(e)e[g]();c.showBy(a)},onMenuHide:function(a){a.activeHeader.setMenuActive(false)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this.menu;this.gridDataColumns=this.hideableColumns=null;this.columnManager&&
this.columnManager.invalidate();if(a&&a.hidden){a.hide();a.destroy();this.menu=null}},onHeaderMoved:function(a,b,c,d){var e=this.ownerCt;if(e&&e.onHeaderMove)e.onHeaderMove(this,a,b,c,d);this.fireEvent("columnmove",this,a,c,d)},getMenu:function(){if(!this.menu){this.menu=new Ext.menu.Menu({hideOnParentHide:false,items:this.getMenuItems(),listeners:{hide:this.onMenuHide,scope:this}});this.fireEvent("menucreate",this,this.menu)}this.updateMenuDisabledState(this.menu);return this.menu},getMenuItems:function(){var a=
[],b=this.enableColumnHide?this.getColumnMenu(this):null;this.sortable&&(a=[{itemId:"ascItem",text:this.sortAscText,cls:this.menuSortAscCls,handler:this.onSortAscClick,scope:this},{itemId:"descItem",text:this.sortDescText,cls:this.menuSortDescCls,handler:this.onSortDescClick,scope:this}]);if(b&&b.length){this.sortable&&a.push("-");a.push({itemId:"columnItem",text:this.columnsText,cls:this.menuColsIcon,menu:b,hideOnClick:false})}return a},onSortAscClick:function(){this.getMenu().activeHeader.setSortState("ASC")},
onSortDescClick:function(){this.getMenu().activeHeader.setSortState("DESC")},getColumnMenu:function(a){for(var b=[],c=0,d=a.query(">gridcolumn[hideable]"),e=d.length,g;c<e;c++){a=d[c];g=new Ext.menu.CheckItem({text:a.menuText||a.text,checked:!a.hidden,hideOnClick:false,headerId:a.id,menu:a.isGroupHeader?this.getColumnMenu(a):void 0,checkHandler:this.onColumnCheckChange,scope:this});b.push(g);a.on({destroy:Ext.Function.bind(g.destroy,g)})}return b},onColumnCheckChange:function(a,b){Ext.getCmp(a.headerId)[b?
"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){for(var a=0,b=this.getVisibleGridColumns(),c=b.length,d=0,e;d<c;d++){e=b[d];a=e.getDesiredWidth?a+(e.getDesiredWidth()||0):a+e.getWidth()}return a},clearOtherSortStates:function(a){for(var b=this.getGridColumns(),c=b.length,d=0;d<c;d++)b[d]!==a&&b[d].setSortState(null,true)},getVisibleGridColumns:function(){var a=this.getGridColumns(),b=[],c=a.length,d;for(d=0;d<c;d++)a[d].hidden||(b[b.length]=
a[d]);return b},getGridColumns:function(a,b){if(!a&&this.gridDataColumns)return this.gridDataColumns;var c=a||[],d,e,g,h,i,b=b||this.hidden;if(this.items){d=this.items.items;e=0;for(g=d.length;e<g;e++){h=d[e];if(h.isGroupHeader)h.getGridColumns(c,b);else{h.hiddenAncestor=b;c.push(h)}}}if(!a)this.gridDataColumns=c;if(!a&&g){e=0;for(g=c.length;e<g;e++){h=c[e];h.isFirstVisible=h.isLastVisible=false;if(!h.hidden&&!h.hiddenAncestor){if(!i)h.isFirstVisible=true;i=h}}if(i)i.isLastVisible=true}return c},
getHideableColumns:function(){var a=this.hideableColumns;if(!a)a=this.hideableColumns=this.query("[hideable]");return a},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(a){var b=this.view;b&&b.autoSizeColumn(a)}},0,["headercontainer"],["component","container","box","headercontainer"],
{component:!0,container:!0,box:!0,headercontainer:!0},["widget.headercontainer"],0,[Ext.grid.header,"Container"],0);
Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:!0,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+
Ext.baseCSSPrefix+'column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",
groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var a;if(this.header!=null){this.text=this.header;this.header=null}if(!this.triStateSort)this.possibleSortStates.length=2;if(this.columns!=null){this.isGroupHeader=true;this.items=this.columns;this.columns=this.flex=this.width=null;this.cls=(this.cls||"")+" "+this.groupHeaderCls;this.sortable=this.resizable=
false;this.align="center"}else if(this.flex)this.minWidth=this.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth;this.addCls(Ext.baseCSSPrefix+"column-header-align-"+this.align);if(a=this.renderer){if(typeof a=="string")this.renderer=Ext.util.Format[a];this.hasCustomRenderer=true}else if(this.defaultRenderer){this.scope=this;this.renderer=this.defaultRenderer}this.callParent(arguments);a={element:this.clickTargetName,click:this.onTitleElClick,contextmenu:this.onTitleElContextMenu,mouseenter:this.onTitleMouseOver,
mouseleave:this.onTitleMouseOut,scope:this};if(this.resizable)a.dblclick=this.onTitleElDblClick;this.on(a)},onAdd:function(a){if(a.isColumn){a.isSubHeader=true;a.addCls(this.groupSubHeaderCls)}this.hidden&&a.hide();this.callParent(arguments)},onRemove:function(a){if(a.isSubHeader){a.isSubHeader=false;a.removeCls(this.groupSubHeaderCls)}this.callParent(arguments)},initRenderData:function(){var a="",b=this.tooltip,c=this.tooltipType=="qtip"?"data-qtip":"title";Ext.isEmpty(b)||(a=c+'="'+b+'" ');return Ext.applyIf(this.callParent(arguments),
{text:this.text,menuDisabled:this.menuDisabled,tipMarkup:a})},applyColumnState:function(a){this.applyColumnsState(a.columns);if(a.hidden!=null)this.hidden=a.hidden;if(a.locked!=null)this.locked=a.locked;if(a.sortable!=null)this.sortable=a.sortable;if(a.width!=null){this.flex=null;this.width=a.width}else if(a.flex!=null){this.width=null;this.flex=a.flex}},getColumnState:function(){var a=this.items.items,b=a?a.length:0,c,d=[],e={id:this.getStateId()};this.savePropsToState(["hidden","sortable","locked",
"flex","width"],e);if(this.isGroupHeader){for(c=0;c<b;c++)d.push(a[c].getColumnState());if(d.length)e.columns=d}else this.isSubHeader&&this.ownerCt.hidden&&delete this.hidden;"width"in e&&delete e.flex;return e},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;this.rendered&&this.textEl.update(a)},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),
this)},beforeRender:function(){var a=this.up("tablepanel");this.callParent();if(a&&(!this.sortable||a.sortableColumns===false)&&!this.groupable&&!this.lockable&&(a.enableColumnHide===false||!this.getOwnerHeaderCt().getHideableColumns().length))this.menuDisabled=true;this.protoEl.unselectable()},afterRender:function(){var a=this.triggerEl;this.callParent(arguments);(!Ext.isIE8||!Ext.isStrict)&&this.mon(this.getFocusEl(),{focus:this.onTitleMouseOver,blur:this.onTitleMouseOut,scope:this});if(a&&this.self.triggerElWidth===
void 0){a.setStyle("display","block");this.self.triggerElWidth=a.getWidth();a.setStyle("display","")}this.keyNav=new Ext.util.KeyNav(this.el,{enter:this.onEnterKey,down:this.onDownKey,scope:this})},afterComponentLayout:function(a,b,c,d){var e=this.getOwnerHeaderCt();this.callParent(arguments);if(e&&(c!=null||this.flex)&&a!==c)e.onHeaderResize(this,a,true)},onDestroy:function(){Ext.destroy(this.textEl,this.keyNav,this.field);this.keyNav=null;this.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},
onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl)this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a){if(this.isOnLeftEdge(a))(a=this.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&a.getOwnerHeaderCt()===this.getOwnerHeaderCt()&&a.autoSize();else if(this.isOnRightEdge(a))if(this.isGroupHeader&&a.getPoint().isContainedBy(this.layout.innerCt)){a=
this.query("gridcolumn:not([hidden]):not([isGroupHeader])");this.getOwnerHeaderCt().autoSizeColumn(a[a.length-1])}else this.autoSize()},autoSize:function(){var a,b,c,d;if(this.isGroupHeader){a=this.query("gridcolumn:not([hidden]):not([isGroupHeader])");b=a.length;d=this.getOwnerHeaderCt();Ext.suspendLayouts();for(c=0;c<b;c++)d.autoSizeColumn(a[c]);Ext.resumeLayouts(true)}else this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,b){var c=this.getOwnerHeaderCt();if(c&&!c.ddLock)if(this.triggerEl&&
(a.target===this.triggerEl.dom||b===this.triggerEl.dom||a.within(this.triggerEl)))c.onHeaderTriggerClick(this,a,b);else if(a.getKey()||!this.isOnLeftEdge(a)&&!this.isOnRightEdge(a)){this.toggleSortState();c.onHeaderClick(this,a,b)}},onTitleElContextMenu:function(a,b){var c=this.getOwnerHeaderCt();if(c&&!c.ddLock)c.onHeaderContextMenu(this,a,b)},processEvent:function(a,b,c,d,e,g){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var a;if(this.sortable){a=Ext.Array.indexOf(this.possibleSortStates,
this.sortState);a=(a+1)%this.possibleSortStates.length;this.setSortState(this.possibleSortStates[a])}},doSort:function(a){var b=this.up("tablepanel"),c=b.store;if(b.ownerLockable&&c.isNodeStore)c=b.ownerLockable.lockedGrid.store;c.sort({property:this.getSortParam(),direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(a,b,c){var d=this.ascSortCls,e=this.descSortCls,g=this.getOwnerHeaderCt(),h=this.sortState,a=a||null;if(!this.sorting&&h!==a&&this.getSortParam()!=null){if(a&&
!c){this.sorting=true;this.doSort(a);this.sorting=false}switch(a){case "DESC":this.addCls(e);this.removeCls(d);break;case "ASC":this.addCls(d);this.removeCls(e);break;default:this.removeCls([d,e])}g&&(!this.triStateSort&&!b)&&g.clearOtherSortStates(this);this.sortState=a;(this.triStateSort||a!=null)&&g.fireEvent("sortchange",g,this,a)}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};a.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a]);return a.result},hasOtherMenuEnabledChildren:function(a){var b,
c;if(!this.isXType("headercontainer"))return a.result=false;b=this.query(">:not([hidden]):not([menuDisabled])");c=b.length;Ext.Array.contains(b,a.hideCandidate)&&c--;if(c)return false;a.hideCandidate=this},isLockable:function(){var a={result:this.lockable!==false};a.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a]);return a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){if(!this.isXType("headercontainer"))return a.result=
false;if(this.query(">:not([hidden])").length>1)return false},hide:function(a){var b=this.getOwnerHeaderCt(),c=this.ownerCt,d,e;if(!this.isVisible())return this;if(!b){this.callParent();return this}if(b.forceFit){this.visibleSiblingCount=b.getVisibleGridColumns().length-1;if(this.flex){this.savedWidth=this.getWidth();this.flex=null}}if(c.isGroupHeader&&!a){c=c.query(">:not([hidden])");if(c.length===1&&c[0]==this){this.ownerCt.hide();return}}Ext.suspendLayouts();if(this.isGroupHeader){c=this.items.items;
e=0;for(d=c.length;e<d;e++){a=c[e];a.hidden||a.hide(true)}}this.callParent();b.onHeaderHide(this);Ext.resumeLayouts(true);return this},show:function(a,b){var c=this.getOwnerHeaderCt(),d=this.ownerCt,e,g,h,i,j;g=Ext.grid.header.Container.prototype.defaultWidth;if(this.isVisible())return this;if(this.rendered){i=c.el.getViewSize().width-(c.view.el.dom.scrollHeight>c.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0);if(c.forceFit){e=Ext.ComponentQuery.query(":not([flex])",c.getVisibleGridColumns());
if(e.length)this.width=this.savedWidth||this.width||g;else{e=c.getVisibleGridColumns();c=e.length;j=this.visibleSiblingCount;h=this.savedWidth||this.width||g;h=Math.min(h*(j/c),g,Math.max(i-c*g,g));this.width=null;this.flex=h;i=i-h;for(g=j=0;g<c;g++){h=e[g];h.flex=h.width||h.getWidth();j=j+h.flex;h.width=null}for(g=0;g<c;g++){h=e[g];h.flex=h.flex/j*i}}}Ext.suspendLayouts();this.isSubHeader&&d.hidden&&d.show(false,true);this.callParent(arguments);if(this.isGroupHeader&&b!==true&&!this.query(":not([hidden])").length){e=
this.items.items;g=0;for(c=e.length;g<c;g++){h=e[g];h.hidden&&h.show(true)}}Ext.resumeLayouts(true);if(d=this.getOwnerHeaderCt())d.onHeaderShow(this)}else this.hidden=false},getDesiredWidth:function(){return this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?this.componentLayout.lastComponentSize.width:this.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+
"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(a){return this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)}},0,["gridcolumn"],["component","gridcolumn","container","box","headercontainer"],{component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0);
Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",actionIdRe:RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(a){var b=Ext.apply({},a),a=b.items||this.items||[this],c,d;this.origRenderer=b.renderer||this.renderer;this.origScope=b.scope||this.scope;this.renderer=this.scope=b.renderer=b.scope=null;b.items=null;this.callParent([b]);
this.items=a;b=0;for(d=a.length;b<d;++b)if(a[b].getClass){c=true;break}if(this.origRenderer||c)this.hasCustomRenderer=true},defaultRenderer:function(a,b,c,d,e,g,h){var i=Ext.baseCSSPrefix,j=this.origScope||this,k=this.items,l=k.length,m=0,n,p,o,q;p=Ext.isFunction(this.origRenderer)?this.origRenderer.apply(j,arguments)||"":"";for(b.tdCls=b.tdCls+(" "+Ext.baseCSSPrefix+"action-col-cell");m<l;m++){n=k[m];q=(o=n.disabled||(n.isDisabled?n.isDisabled.call(n.scope||j,h,d,e,n,c):false))?null:n.tooltip||(n.getTip?
n.getTip.apply(n.scope||j,arguments):null);if(!n.hasActionConfiguration){n.stopSelection=this.stopSelection;n.disable=Ext.Function.bind(this.disableAction,this,[m],0);n.enable=Ext.Function.bind(this.enableAction,this,[m],0);n.hasActionConfiguration=true}p=p+('<img role="button" alt="'+(n.altText||this.altText)+'" src="'+(n.icon||Ext.BLANK_IMAGE_URL)+'" class="'+i+"action-col-icon "+i+"action-col-"+(""+m)+" "+(o?i+"item-disabled":" ")+" "+(Ext.isFunction(n.getClass)?n.getClass.apply(n.scope||j,arguments):
n.iconCls||this.iconCls||"")+'"'+(q?' data-qtip="'+q+'"':"")+" />")}return p},enableAction:function(a,b){a?Ext.isNumber(a)||(a=Ext.Array.indexOf(this.items,a)):a=0;this.items[a].disabled=false;this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(this.disabledCls);b||this.fireEvent("enable",this)},disableAction:function(a,b){a?Ext.isNumber(a)||(a=Ext.Array.indexOf(this.items,a)):a=0;this.items[a].disabled=true;this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+
a).addCls(this.disabledCls);b||this.fireEvent("disable",this)},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(a,b,c,d,e,g,h,i){var j=g.getTarget(),k,l;(l=a=="keydown"&&g.getKey())&&!Ext.fly(j).findParent(b.getCellSelector())&&(j=Ext.fly(c).down("."+Ext.baseCSSPrefix+"action-col-icon",true));if(j&&(k=j.className.match(this.actionIdRe))){j=this.items[parseInt(k[1],10)];k=j.disabled||(j.isDisabled?j.isDisabled.call(j.scope||this.origScope||
this,b,d,e,j,h):false);if(j&&!k)if(a=="click"||l==g.ENTER||l==g.SPACE)(l=j.handler||this.handler)&&l.call(j.scope||this.origScope||this,b,d,e,j,g,h,i);else if(a=="mousedown"&&j.stopSelection!==false)return false}return this.callParent(arguments)},cascade:function(a,b){a.call(b||this,this)},getRefItems:function(){return[]}},1,["actioncolumn"],"component gridcolumn container actioncolumn box headercontainer".split(" "),{component:!0,gridcolumn:!0,container:!0,actioncolumn:!0,box:!0,headercontainer:!0},
["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0);
Ext.cmd.derive("Ext.grid.column.Boolean",Ext.grid.column.Column,{alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(a){return a===void 0?this.undefinedText:!a||a==="false"?this.falseText:this.trueText}},0,["booleancolumn"],"booleancolumn component gridcolumn container box headercontainer".split(" "),{booleancolumn:!0,component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.booleancolumn"],0,[Ext.grid.column,
"Boolean",Ext.grid,"BooleanColumn"],0);
Ext.cmd.derive("Ext.grid.column.CheckColumn",Ext.grid.column.Column,{alternateClassName:"Ext.ux.CheckColumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange");this.scope=this;this.callParent(arguments)},processEvent:function(a,b,c,d,e,g,h,i){var j=a==="keydown"&&g.getKey(),k=a=="mousedown";if(!this.disabled&&(k||j==g.ENTER||
j==g.SPACE)){var j=this.dataIndex,l=!h.get(j);if(this.fireEvent("beforecheckchange",this,d,l)!==false){h.set(j,l);this.fireEvent("checkchange",this,d,l);k&&g.stopEvent();this.stopSelection||b.selModel.selectByPosition({row:d,column:e});return false}return!this.stopSelection}return this.callParent(arguments)},onEnable:function(a){this.callParent(arguments);this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+this.id).removeCls(this.disabledCls);a||this.fireEvent("enable",this)},onDisable:function(a){this.callParent(arguments);
this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+this.id).addCls(this.disabledCls);a||this.fireEvent("disable",this)},renderer:function(a,b){var c=Ext.baseCSSPrefix,d=[c+"grid-checkcolumn"];if(this.disabled)b.tdCls=b.tdCls+(" "+this.disabledCls);a&&d.push(c+"grid-checkcolumn-checked");return'<img class="'+d.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}},1,["checkcolumn"],"checkcolumn component gridcolumn container box headercontainer".split(" "),{checkcolumn:!0,component:!0,gridcolumn:!0,
container:!0,box:!0,headercontainer:!0},["widget.checkcolumn"],0,[Ext.grid.column,"CheckColumn",Ext.ux,"CheckColumn"],0);
Ext.cmd.derive("Ext.grid.column.Date",Ext.grid.column.Column,{alternateClassName:"Ext.grid.DateColumn",initComponent:function(){if(!this.format)this.format=Ext.Date.defaultFormat;this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)}},0,["datecolumn"],"component gridcolumn container datecolumn box headercontainer".split(" "),{component:!0,gridcolumn:!0,container:!0,datecolumn:!0,box:!0,headercontainer:!0},["widget.datecolumn"],0,[Ext.grid.column,"Date",
Ext.grid,"DateColumn"],0);Ext.cmd.derive("Ext.grid.column.Number",Ext.grid.column.Column,{alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)}},0,["numbercolumn"],"component gridcolumn container box headercontainer numbercolumn".split(" "),{component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0,numbercolumn:!0},["widget.numbercolumn"],0,[Ext.grid.column,"Number",Ext.grid,"NumberColumn"],0);
Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",text:"&#160",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",constructor:function(a){this.width=this.width;this.callParent(arguments);this.scope=this},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",
rowspan:void 0,renderer:function(a,b,c,d,e,g){a=this.rowspan;e=g.currentPage;c=c.index;if(a)b.tdAttr='rowspan="'+a+'"';if(c==null){c=d;e>1&&(c=c+(e-1)*g.pageSize)}return c+1}},1,["rownumberer"],"rownumberer component gridcolumn container box headercontainer".split(" "),{rownumberer:!0,component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0);
Ext.define("ExtThemeNeptune.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:25});
Ext.cmd.derive("Ext.grid.column.Template",Ext.grid.column.Column,{alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){this.tpl=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl);this.hasCustomRenderer=true;this.callParent(arguments)},defaultRenderer:function(a,b,c){return this.tpl.apply(Ext.apply({},c.data,c.getAssociatedData()))}},0,["templatecolumn"],"templatecolumn component gridcolumn container box headercontainer".split(" "),{templatecolumn:!0,
component:!0,gridcolumn:!0,container:!0,box:!0,headercontainer:!0},["widget.templatecolumn"],0,[Ext.grid.column,"Template",Ext.grid,"TemplateColumn"],0);
Ext.cmd.derive("Ext.grid.feature.Feature",Ext.util.Observable,{wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a;this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(a,b,c,d){return[a,b,c,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=
true}},1,0,0,0,["feature.feature"],0,[Ext.grid.feature,"Feature"],0);
Ext.cmd.derive("Ext.grid.feature.AbstractSummary",Ext.grid.feature.Feature,{summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(a,b){if(a.record.isSummary){this.summaryFeature.outputSummaryRecord(a.record,a,b);return false}},priority:1E3},showSummaryRow:!0,init:function(){this.view.summaryFeature=this;this.rowTpl=this.view.self.prototype.rowTpl;
this.view.addRowTpl(this.summaryRowTpl).summaryFeature=this},toggleSummaryRow:function(a){this.showSummaryRow=!!a},outputSummaryRecord:function(a,b,c){for(var d=b.view,e=d.rowValues,b=b.columns||d.headerCt.getVisibleGridColumns(),g=b.length,h,i={view:d,record:a,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:d.getRowId(a),columns:b},a=0;a<g;a++){h=b[a];h.savedRenderer=h.renderer;if(h.summaryRenderer)h.renderer=h.summaryRenderer;else if(!h.summaryType)h.renderer=Ext.emptyFn;
if(!h.dataIndex)h.dataIndex=h.id}d.rowValues=i;d.self.prototype.rowTpl.applyOut(i,c);d.rowValues=e;for(a=0;a<g;a++){h=b[a];h.renderer=h.savedRenderer;h.savedRenderer=null}},getSummary:function(a,b,c,d){d=d.records;if(b){if(Ext.isFunction(b))return a.getAggregate(b,null,d,[c]);switch(b){case "count":return d.length;case "min":return a.getMin(d,c);case "max":return a.getMax(d,c);case "sum":return a.getSum(d,c);case "average":return a.getAverage(d,c);default:return""}}},generateSummaryData:function(){var a=
this.view.store,b=a.groups.items,c=a.proxy.reader,a=b.length,d=this.getGroupField(),e={},g=this.lockingPartner,h,i,j,k,l,m;if(this.remoteRoot&&c.rawData){k=true;m={};i=c.root;c.root=this.remoteRoot;c.buildExtractors(true);j=c.getRoot(c.rawData)||[];a=j.length;c.convertRecordData||c.buildExtractors();for(h=0;h<a;++h){l={};c.convertRecordData(l,j[h]);m[l[d]]=l}c.root=i;c.buildExtractors(true)}for(h=0;h<a;++h){c=b[h];if(k||c.isDirty()||!c.hasAggregate()){d=k?this.populateRemoteRecord(c,m):this.populateRecord(c);
(!g||this.view.ownerCt===this.view.ownerCt.ownerLockable.normalGrid)&&c.commit()}else d=c.getAggregateRecord();e[c.key]=d}return e},populateRemoteRecord:function(a,b){var c=a.getAggregateRecord(true),d=b[a.key],e;c.beginEdit();for(e in d)d.hasOwnProperty(e)&&e!==c.idProperty&&c.set(e,d[e]);c.endEdit(true);c.commit(true);return c},populateRecord:function(a){var b=this.grid.ownerLockable?this.grid.ownerLockable.view:this.view,c=this.view.store,d=a.getAggregateRecord(),b=b.headerCt.getGridColumns(),
e=b.length,g,h,i;d.beginEdit();for(g=0;g<e;++g){h=b[g];i=h.dataIndex||h.id;d.set(i,this.getSummary(c,h.summaryType,i,a))}d.endEdit(true);d.commit();return d}},0,0,0,0,["feature.abstractsummary"],0,[Ext.grid.feature,"AbstractSummary"],0);
Ext.cmd.derive("Ext.grid.feature.GroupStore",Ext.util.Observable,{isStore:!0,constructor:function(a,b){this.superclass.constructor.apply(this,arguments);this.groupingFeature=a;this.bindStore(b);this.processStore(b);this.view.dataSource=this},bindStore:function(a){if(this.store){Ext.destroy(this.storeListeners);this.store=null}if(a){this.storeListeners=a.on({bulkremove:this.onBulkRemove,add:this.onAdd,update:this.onUpdate,refresh:this.onRefresh,clear:this.onClear,scope:this,destroyable:true});this.store=
a}},processStore:function(a){var b=a.getGroups(),c=b.length,d,e,g,h=this.data,i=this.groupingFeature.groupCache,j=this.groupingFeature.clearGroupCache(),k=this.groupingFeature.startCollapsed;h?h.clear():h=this.data=new Ext.util.MixedCollection(false,Ext.data.Store.recordIdFn);if(a.getCount()){this.groupingFeature.startCollapsed=false;for(d=0;d<c;d++){e=b[d];j[e.name]=e;e.isCollapsed=k||i[e.name]&&i[e.name].isCollapsed;if(e.isCollapsed){e.placeholder=g=new a.model(null,"group-"+e.name+"-placeholder");
g.set(this.getGroupField(),e.name);g.rows=g.children=e.children;g.isCollapsedPlaceholder=true;h.add(g)}else h.insert(this.data.length,e.children)}}},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(a){var b;return this.store.isGrouped()&&(b=this.groupingFeature.groupCache[a.get(this.getGroupField())])?b.isCollapsed||false:false},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(a,
b){return b<this.getCount()},getRange:function(a,b,c){var d=this.data.getRange(a,b);c&&c.callback&&c.callback.call(c.scope||this,d,a,b,c);return d},getAt:function(a){return this.getRange(a,a)[0]},getById:function(a){return this.store.getById(a)},expandGroup:function(a){var b;typeof a==="string"&&(a=this.groupingFeature.groupCache[a]);if(a&&a.children.length&&(b=this.indexOf(a.children[0],true,true))!==-1){a.isCollapsed=false;this.isExpandingOrCollapsing=1;this.data.removeAt(b);this.fireEvent("bulkremove",
this,[this.getGroupPlaceholder(a)],[b]);this.data.insert(b,a.children);this.fireEvent("add",this,a.children,b);this.fireEvent("groupexpand",this,a);this.isExpandingOrCollapsing=0}},collapseGroup:function(a){var b,c,d,e,g;typeof a==="string"&&(a=this.groupingFeature.groupCache[a]);if(a&&(e=a.children.length)&&(b=this.indexOf(a.children[0],true))!==-1){a.isCollapsed=true;this.isExpandingOrCollapsing=2;this.data.removeRange(b,e);g=Array(e);c=0;for(d=b;c<e;c++,d++)g[c]=d;this.fireEvent("bulkremove",this,
a.children,g);this.data.insert(b,c=this.getGroupPlaceholder(a));this.fireEvent("add",this,[c],b);this.fireEvent("groupcollapse",this,a);this.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(a){if(!a.placeholder){var b=a.placeholder=new this.store.model(null,"group-"+a.name+"-placeholder");b.set(this.getGroupField(),a.name);b.rows=b.children=a.children;b.isCollapsedPlaceholder=true}return a.placeholder},indexOf:function(a,b,c){var d,e,g,h=0;if(a&&(c||!this.isInCollapsedGroup(a))){c=this.store.getGroups();
d=c.length;for(e=0;e<d;e++){g=c[e];if(g.name===this.store.getGroupString(a)){a=Ext.Array.indexOf(g.children,a);return h+a}h=h+(b&&this.isCollapsed(g.name)?1:g.children.length)}}return-1},indexOfTotal:function(a){var b=a.index;return b||b===0?b:this.istore.ndexOf(a)},onRefresh:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onBulkRemove:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onClear:function(){this.processStore(this.store);this.fireEvent("clear",
this)},onAdd:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onUpdate:function(a,b,c,d){var e=this.groupingFeature.getRecordGroup(b);if(a.isGrouped()){if(d&&Ext.Array.contains(d,this.groupingFeature.getGroupField()))return this.onRefresh(this.store);if(e.isCollapsed)this.fireEvent("update",this,e.placeholder);else{Ext.suspendLayouts();this.fireEvent("update",this,b,c,d);a=e.children[0];e=e.children[e.children.length-1];a!==b&&this.fireEvent("update",this,a,"edit");e!==b&&
e!==a&&this.fireEvent("update",this,e,"edit");Ext.resumeLayouts(true)}}else this.fireEvent("update",this,b,c,d)}},1,0,0,0,0,0,[Ext.grid.feature,"GroupStore"],0);
Ext.cmd.derive("Ext.grid.feature.Grouping",Ext.grid.feature.Feature,{eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",
ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,tableTpl:{before:function(a){this.groupingFeature.disabled||a.rows.length===1&&a.rows[0].isSummary||this.groupingFeature.setup(a.rows,a.view.rowValues)},after:function(a){this.groupingFeature.disabled||
a.rows.length===1&&a.rows[0].isSummary||this.groupingFeature.cleanup(a.rows,a.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = !me.disabled && (values.isFirstRow || values.summaryRecord);","}","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}"',
'class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row<tpl if="!summaryRecord"> '+Ext.baseCSSPrefix+'grid-group-row</tpl>">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+
Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%">',
"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(a,b){var a=Ext.fly(a,"syncDest"),b=Ext.fly(b,"sycSrc"),c=this.owner,d=a.down(c.eventSelector,
true),e,g=a.down(c.summaryRowSelector,true),h,i,j;if(d&&(e=b.down(c.eventSelector,true))){d.style.height=e.style.height="";(i=d.offsetHeight)>(j=e.offsetHeight)?Ext.fly(e).setHeight(i):j>i&&Ext.fly(d).setHeight(j)}if(g&&(h=b.down(c.summaryRowSelector,true))){g.style.height=h.style.height="";(i=g.offsetHeight)>(j=h.offsetHeight)?Ext.fly(h).setHeight(i):j>i&&Ext.fly(g).setHeight(j)}},syncContent:function(a,b){var a=Ext.fly(a,"syncDest"),b=Ext.fly(b,"sycSrc"),c=this.owner,d=a.down(c.eventSelector,true),
e=b.down(c.eventSelector,true),g=a.down(c.summaryRowSelector,true),c=b.down(c.summaryRowSelector,true);d&&e&&Ext.fly(d).syncContent(e);g&&c&&Ext.fly(g).syncContent(c)}}],constructor:function(){this.groupCache={};this.callParent(arguments)},init:function(a){var b=this.view;b.isGrouping=true;if(this.lockingPartner&&this.lockingPartner.groupCache)this.groupCache=this.lockingPartner.groupCache;this.mixins.summary.init.call(this);this.callParent(arguments);b.headerCt.on({columnhide:this.onColumnHideShow,
columnshow:this.onColumnHideShow,columnmove:this.onColumnMove,scope:this});b.addTableTpl(this.tableTpl).groupingFeature=this;b.addRowTpl(Ext.XTemplate.getTpl(this,"groupTpl")).groupingFeature=this;b.preserveScrollOnRefresh=true;b.store.buffered?this.collapsible=false:this.dataSource=this.lockingPartner&&this.lockingPartner.dataSource?b.dataSource=this.lockingPartner.dataSource:b.dataSource=new Ext.grid.feature.GroupStore(this,b.store);this.grid.on({reconfigure:this.onReconfigure});b.on({afterrender:this.afterViewRender,
scope:this,single:true})},clearGroupCache:function(){var a=this.groupCache={};if(this.lockingPartner)this.lockingPartner.groupCache=a;return a},vetoEvent:function(a,b,c,d){if(d.type!=="mouseover"&&d.type!=="mouseout"&&d.type!=="mouseenter"&&d.type!=="mouseleave"&&d.getTarget(this.eventSelector))return false},enable:function(){var a=this.view,b=a.store;this.lastGroupField=this.getGroupField();a.isGrouping=true;if(this.lastGroupIndex){this.block();b.group(this.lastGroupIndex);this.unblock()}this.callParent();
(a=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&a.setChecked(true,true);this.refreshIf()},disable:function(){var a=this.view,b=a.store;a.isGrouping=false;if(a=b.groupers.first()){this.lastGroupIndex=a.property;this.block();b.clearGrouping();this.unblock()}this.callParent();(b=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&b.setChecked(false,true);this.refreshIf()},refreshIf:function(){var a=this.grid.ownerCt,b=this.view;!b.store.remoteGroup&&!this.blockRefresh&&(a&&a.lockable?
a.view.refresh():b.refresh())},afterViewRender:function(){this.view.on({scope:this,groupclick:this.onGroupClick});this.enableGroupingMenu&&this.injectGroupingMenu();this.pruneGroupedHeader();this.lastGroupField=this.getGroupField();this.block();this.onGroupChange();this.unblock()},injectGroupingMenu:function(){var a=this.view.headerCt;a.showMenuBy=this.showMenuBy;a.getMenuItems=this.getMenuItems()},onColumnHideShow:function(){var a=this.view,b=a.headerCt,c=b.getMenu().down("#groupMenuItem"),d=b.getGridColumns().length;
c&&(b.getVisibleGridColumns().length>1?c.enable():c.disable());if(a.rendered){a=a.el.query("."+this.ctCls);c=0;for(b=a.length;c<b;++c)a[c].colSpan=d}},onColumnMove:function(){var a=this.view.store,b,c,d,e,g;if(a.isGrouped()){b=a.getGroups();d=b.length;for(c=0;c<d;c++){e=b[c];g=e.children[0];e=e.children[e.children.length-1];a.fireEvent("update",a,g,"edit",null);e!==g&&a.fireEvent("update",a,e,"edit",null)}}},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#groupMenuItem"),e=b.groupable===
false||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",c=c.down("#groupToggleMenuItem"),g=this.view.store.isGrouped();d[e]();if(c){c.setChecked(g,true);c[g?"enable":"disable"]()}Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,b=a.groupByText,c=a.disabled||!a.getGroupField(),d=a.showGroupsText,e=a.enableNoGroups,g=a.view.headerCt.getMenuItems;return function(){var h=g.call(this);h.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",
itemId:"groupMenuItem",text:b,handler:a.onGroupMenuItemClick,scope:a});e&&h.push({itemId:"groupToggleMenuItem",text:d,checked:!c,checkHandler:a.onGroupToggleMenuItemClick,scope:a});return h}},onGroupMenuItemClick:function(a){var a=a.parentMenu.activeHeader,b=this.view.store;this.lastGroupIndex=null;this.block();this.enable();b.group(a.dataIndex);this.pruneGroupedHeader();this.unblock();this.refreshIf()},block:function(a){this.blockRefresh=this.view.blockRefresh=true;this.lockingPartner&&!a&&this.lockingPartner.block(true)},
unblock:function(a){this.blockRefresh=this.view.blockRefresh=false;this.lockingPartner&&!a&&this.lockingPartner.unblock(true)},onGroupToggleMenuItemClick:function(a,b){this[b?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this.getGroupedHeader();if(this.hideGroupedHeader&&a){Ext.suspendLayouts();this.prunedHeader&&this.prunedHeader!==a&&this.prunedHeader.show();this.prunedHeader=a;a.hide();Ext.resumeLayouts(true)}},getHeaderNode:function(a){return Ext.get(this.createGroupId(a))},getGroup:function(a){var b=
this.groupCache,c=b[a];c||(c=b[a]={isCollapsed:false});return c},isExpanded:function(a){return!this.getGroup(a).isCollapsed},expand:function(a,b){this.doCollapseExpand(false,a,b)},expandAll:function(){var a=this.view,b=this.groupCache,c,d=this.lockingPartner,e;for(c in b)if(b.hasOwnProperty(c))b[c].isCollapsed=false;Ext.suspendLayouts();a.suspendEvent("beforerefresh","refresh");if(d){e=d.view;e.suspendEvent("beforerefresh","refresh")}this.dataSource.onRefresh();a.resumeEvent("beforerefresh","refresh");
d&&e.resumeEvent("beforerefresh","refresh");Ext.resumeLayouts(true);for(c in b)if(b.hasOwnProperty(c)){this.afterCollapseExpand(false,c);d&&d.afterCollapseExpand(false,c)}},collapse:function(a,b){this.doCollapseExpand(true,a,b)},isAllCollapsed:function(){var a=this.groupCache,b;for(b in a)if(a.hasOwnProperty(b)&&!a[b].isCollapsed)return false;return true},isAllExpanded:function(){var a=this.groupCache,b;for(b in a)if(a.hasOwnProperty(b)&&a[b].isCollapsed)return false;return true},collapseAll:function(){var a=
this.view,b=this.groupCache,c,d=this.lockingPartner,e;for(c in b)if(b.hasOwnProperty(c))b[c].isCollapsed=true;Ext.suspendLayouts();a.suspendEvent("beforerefresh","refresh");if(d){e=d.view;e.suspendEvent("beforerefresh","refresh")}this.dataSource.onRefresh();a.resumeEvent("beforerefresh","refresh");d&&e.resumeEvent("beforerefresh","refresh");d&&!d.isAllCollapsed()&&d.collapseAll();Ext.resumeLayouts(true);for(c in b)if(b.hasOwnProperty(c)){this.afterCollapseExpand(true,c);d&&d.afterCollapseExpand(true,
c)}},doCollapseExpand:function(a,b,c){var d=this.lockingPartner,e=this.groupCache[b];if(e.isCollapsed!=a){Ext.suspendLayouts();a?this.dataSource.collapseGroup(e):this.dataSource.expandGroup(e);Ext.resumeLayouts(true);this.afterCollapseExpand(a,b,c);d&&d.afterCollapseExpand(a,b,false)}},afterCollapseExpand:function(a,b,c){var d=this.view,e;e=Ext.get(this.getHeaderNode(b));d.fireEvent(a?"groupcollapse":"groupexpand",d,e,b);c&&e.up(d.getItemSelector()).scrollIntoView(d.el,null,true)},onGroupChange:function(){var a=
this.getGroupField(),b,c;if(this.hideGroupedHeader){if(this.lastGroupField)(b=this.getMenuItem(this.lastGroupField))&&b.setChecked(true);if(a){b=this.view.headerCt.getVisibleGridColumns();c=b.length===1&&b[0].dataIndex==a;(b=this.getMenuItem(a))&&!c&&b.setChecked(false)}}this.refreshIf();this.lastGroupField=a},getMenuItem:function(a){var b=this.view,a=b.headerCt.down("gridcolumn[dataIndex="+a+"]"),b=b.headerCt.getMenu();return a?b.down("menuitem[headerId="+a.id+"]"):null},onGroupKey:function(a,b){var c=
this.getGroupName(b.target);if(c)this.onGroupClick(this.view,b.target,c,b)},onGroupClick:function(a,b,c,d){var a=this.groupCache,b=!this.isExpanded(c),e;if(this.collapsible)if(d.ctrlKey){Ext.suspendLayouts();for(e in a)e===c?b&&this.expand(c):this.doCollapseExpand(true,e,false);Ext.resumeLayouts(true)}else b?this.expand(c):this.collapse(c)},setupRowData:function(a,b,c){var d=this.refreshData,e=this.groupInfo,g=d.header,h=d.groupField,i=this.view.dataSource,j,k,l;c.isCollapsedGroup=false;c.summaryRecord=
null;if(d.doGrouping){j=this.view.store.groupers.first();if(a.children){k=j.getGroupString(a.children[0]);c.isFirstRow=c.isLastRow=true;c.itemClasses.push(this.hdCollapsedCls);c.isCollapsedGroup=true;c.groupInfo=e;e.groupField=h;e.name=k;e.groupValue=a.children[0].get(h);e.columnName=g?g.text:h;c.collapsibleCls=this.collapsible?this.collapsibleCls:this.hdNotCollapsibleCls;c.groupId=this.createGroupId(k);e.rows=e.children=a.children;if(this.showSummaryRow)c.summaryRecord=d.summaryData[k]}else{k=j.getGroupString(a);
c.isFirstRow=b===0;if(!c.isFirstRow)if(l=i.getAt(b-1))c.isFirstRow=!l.isEqual(j.getGroupString(l),k);c.isLastRow=b==i.getTotalCount()-1;if(!c.isLastRow)if(b=i.getAt(b+1))c.isLastRow=!b.isEqual(j.getGroupString(b),k);if(c.isFirstRow){e.groupField=h;e.name=k;e.groupValue=a.get(h);e.columnName=g?g.text:h;c.collapsibleCls=this.collapsible?this.collapsibleCls:this.hdNotCollapsibleCls;c.groupId=this.createGroupId(k);if(!this.isExpanded(k)){c.itemClasses.push(this.hdCollapsedCls);c.isCollapsedGroup=true}e.rows=
i.buffered?e.children=[]:e.children=this.getRecordGroup(a).children;c.groupInfo=e}if(c.isLastRow&&this.showSummaryRow)c.summaryRecord=d.summaryData[k]}}},setup:function(a,b){var c=this.refreshData,d=!this.disabled&&this.view.store.isGrouped();this.skippedRows=0;if(b.view.bufferedRenderer)b.view.bufferedRenderer.variableRowHeight=true;c.groupField=this.getGroupField();c.header=this.getGroupedHeader(c.groupField);c.doGrouping=d;b.groupHeaderTpl=Ext.XTemplate.getTpl(this,"groupHeaderTpl");if(d&&this.showSummaryRow)c.summaryData=
this.generateSummaryData()},cleanup:function(a,b){var c=this.refreshData;b.groupInfo=b.groupHeaderTpl=b.isFirstRow=null;c.groupField=c.header=null},getGroupName:function(a){var b=this.view,c=this.eventSelector,d;d=Ext.fly(a).findParent(c);if(!d)(a=Ext.fly(a).findParent(b.itemSelector))&&(d=a.down(c,true));if(d){b=d.id.split(b.id+"-hd-");if(b.length===2)return Ext.htmlDecode(b[1])}},getRecordGroup:function(a){var b=this.view.store.groupers.first();if(b)return this.groupCache[b.getGroupString(a)]},
createGroupId:function(a){return this.view.id+"-hd-"+Ext.htmlEncode(a)},createGroupCls:function(a){return this.view.id+"-"+Ext.htmlEncode(a)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var b=this.view.headerCt,c=this.lockingPartner,d;if(a=a||this.getGroupField()){a="[dataIndex="+a+"]";d=b.down(a);!d&&c&&(d=c.view.headerCt.down(a))}return d||null},getFireEventArgs:function(a,b,c,d){return[a,b,c,this.getGroupName(c),d]},destroy:function(){var a=
this.dataSource;this.view=this.prunedHeader=this.grid=this.groupCache=this.dataSource=null;this.callParent();a&&a.bindStore(null)},onReconfigure:function(a,b,c,d){if(b&&b!==d){b.buffered!==d.buffered&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores");if(b.buffered){a.bindStore(b);a.dataSource.processStore(b)}}}},1,0,0,0,["feature.grouping"],[["summary",Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,"Grouping"],0);
Ext.cmd.derive("Ext.grid.feature.GroupingSummary",Ext.grid.feature.Grouping,{showSummaryRow:!0,vetoEvent:function(a,b,c,d){var e=this.callParent(arguments);e!==false&&d.getTarget(this.summaryRowSelector)&&(e=false);return e}},0,0,0,0,["feature.groupingsummary"],0,[Ext.grid.feature,"GroupingSummary"],0);
Ext.cmd.derive("Ext.grid.feature.RowBody",Ext.grid.feature.Feature,{rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(a){this.rowBody.setup(a.rows,a.view.rowValues)},after:function(a){this.rowBody.cleanup(a.rows,a.view.rowValues)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);",
"this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(a,b){var c=this.owner,d=Ext.fly(a).down(c.eventSelector,true),e,g,h;if(d&&(e=Ext.fly(b).down(c.eventSelector,true)))(g=d.offsetHeight)>(h=e.offsetHeight)?Ext.fly(e).setHeight(g):
h>g&&Ext.fly(d).setHeight(h)},syncContent:function(a,b){var c=this.owner,d=Ext.fly(a).down(c.eventSelector,true),e;d&&(e=Ext.fly(b).down(c.eventSelector,true))&&Ext.fly(d).syncContent(e)}}],init:function(a){var b=this.view;b.rowBodyFeature=this;if(!b.findFeature("rowwrap")){a.mon(b,{element:"el",mousedown:this.onMouseDown,scope:this});this.mon(a.getStore(),"remove",this.onStoreRemove,this)}b.headerCt.on({columnschanged:this.onColumnsChanged,scope:this});b.addTableTpl(this.tableTpl).rowBody=this;b.addRowTpl(Ext.XTemplate.getTpl(this,
"extraRowTpl"));this.callParent(arguments)},onStoreRemove:function(a,b,c){a=this.view;if(a.rendered)if(c=a.getNode(c))(c=Ext.fly(c).next(this.eventSelector))&&c.remove()},onMouseDown:function(a){var b=a.getTarget(this.eventSelector);if(b&&Ext.fly(b=b.previousSibling).is(this.view.getItemSelector())){a.target=b;this.view.handleEvent(a)}},getSelectedRow:function(a,b){var c=a.getNode(b,false);return c?Ext.fly(c).down(this.eventSelector):null},onColumnsChanged:function(a){var b=this.view.el.query(this.rowBodyTdSelector),
a=a.getVisibleGridColumns().length,c=b.length,d;for(d=0;d<c;++d)b[d].colSpan=a},setupRowData:function(a,b,c){this.getAdditionalData&&Ext.apply(c,this.getAdditionalData(a.data,b,a,c))},setup:function(a,b){b.rowBodyCls=this.rowBodyCls;b.rowBodyColspan=b.view.getGridColumns().length},cleanup:function(a,b){b.rowBodyCls=b.rowBodyColspan=b.rowBody=null}},0,0,0,0,["feature.rowbody"],0,[Ext.grid.feature,"RowBody"],0);
Ext.cmd.derive("Ext.grid.feature.RowWrap",Ext.grid.feature.Feature,{rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:!1,tableTpl:{before:function(a){if(a.view.bufferedRenderer)a.view.bufferedRenderer.variableRowHeight=true},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+
'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(){this.view.addTableTpl(this.tableTpl);this.view.addRowTpl(Ext.XTemplate.getTpl(this,"wrapTpl"));this.view.headerCt.on({columnhide:this.onColumnHideShow,
columnshow:this.onColumnHideShow,scope:this})},onColumnHideShow:function(){var a=this.view,b=a.el.query(this.rowWrapTd),a=a.headerCt.getVisibleGridColumns().length,c=b.length,d;for(d=0;d<c;++d)b[d].colSpan=a}},0,0,0,0,["feature.rowwrap"],0,[Ext.grid.feature,"RowWrap"],0);
Ext.cmd.derive("Ext.grid.feature.Summary",Ext.grid.feature.AbstractSummary,{dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(a){var b=this,c=b.view;b.callParent(arguments);if(b.dock){a.headerCt.on({afterlayout:b.onStoreUpdate,scope:b});a.on({beforerender:function(){var d=[b.summaryTableCls];if(c.columnLines)d[d.length]=c.ownerCt.colLinesCls;b.summaryBar=a.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellPadding="0" cellSpacing="0" class="'+
d.join(" ")+'">','<tr class="'+b.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[b.dockedSummaryCls,b.dockedSummaryCls+"-"+b.dock],xtype:"component",dock:b.dock,weight:1E7})[0]},afterrender:function(){a.body.addCls(b.panelBodyCls+b.dock);c.mon(c.el,{scroll:b.onViewScroll,scope:b});b.onStoreUpdate()},single:true});a.headerCt.afterComponentLayout=Ext.Function.createSequence(a.headerCt.afterComponentLayout,function(){b.summaryBar.innerCt.setWidth(this.getFullWidth()+
Ext.getScrollbarSize().width)})}else b.view.addFooterFn(b.renderTFoot);a.on({columnmove:b.onStoreUpdate,scope:b});c.mon(c.store,{update:b.onStoreUpdate,datachanged:b.onStoreUpdate,scope:b})},renderTFoot:function(a,b){var c=a.view,d=c.findFeature("summary");if(d.showSummaryRow){b.push("<tfoot>");d.outputSummaryRecord(d.createSummaryRecord(c),a,b);b.push("</tfoot>")}},vetoEvent:function(a,b,c,d){return!d.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},
createSummaryRecord:function(a){var b=a.headerCt.getVisibleGridColumns(),c={records:a.store.getRange()},d=b.length,e,g,h=this.summaryRecord||(this.summaryRecord=new a.store.model(null,a.id+"-summary-record"));h.beginEdit();for(e=0;e<d;e++){g=b[e];if(!g.dataIndex)g.dataIndex=g.id;h.set(g.dataIndex,this.getSummary(a.store,g.summaryType,g.dataIndex,c))}h.endEdit(true);h.commit(true);h.isSummary=true;return h},onStoreUpdate:function(){var a=this.view,b=this.createSummaryRecord(a),c=a.createRowElement(b,
-1);if(a.rendered){if(a=this.dock?this.summaryBar.el.down("."+this.summaryRowCls,true):this.view.getNode(b)){b=a.parentNode;b.insertBefore(c,a);b.removeChild(a);if((c=this.lockingPartner)&&c.grid.rendered&&!this.calledFromLockingPartner){c.calledFromLockingPartner=true;c.onStoreUpdate();c.calledFromLockingPartner=false}}if(this.dock)this.onColumnHeaderLayout()}},onColumnHeaderLayout:function(){var a=this.view,b=a.headerCt.getVisibleGridColumns(),c,d=b.length,e,g=this.summaryBar.el,h;for(e=0;e<d;e++){c=
b[e];if(h=g.down(a.getCellSelector(c)))if(c.hidden)h.setDisplayed(false);else{h.setDisplayed(true);h.setWidth(c.width||(c.lastBox?c.lastBox.width:100))}}}},0,0,0,0,["feature.summary"],0,[Ext.grid.feature,"Summary"],0);
Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{constructor:function(a){var b,c=[],d=a.lockedGrid,e=a.normalGrid;this.lockable=a;this.callParent();d.columnManager.rootColumns=e.columnManager.rootColumns=a.columnManager=this.columnManager=new Ext.grid.ColumnManager(d.headerCt,e.headerCt);a=d.headerCt.events;for(b in a)a.hasOwnProperty(b)&&c.push(b);this.relayEvents(d.headerCt,c);this.relayEvents(e.headerCt,c)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},
getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this.lockable.lockedGrid.headerCt.getColumnsState(),b=this.lockable.normalGrid.headerCt.getColumnsState();return a.concat(b)},applyColumnsState:function(a){var b=this.lockable.lockedGrid,c=b.headerCt,d=this.lockable.normalGrid.headerCt,e=Ext.Array.toValueMap(c.items.items,"headerId"),g=Ext.Array.toValueMap(d.items.items,"headerId"),
h=[],i=[],j=1,k=a.length,l,m,n,p;for(l=0;l<k;l++){p=a[l];if(m=(n=e[p.id])||g[p.id]){m.applyColumnState&&m.applyColumnState(p);if(m.locked===void 0)m.locked=!!n;if(m.locked){h.push(m);!m.hidden&&typeof m.width=="number"&&(j=j+m.width)}else i.push(m)}}if(h.length+i.length==c.items.getCount()+d.items.getCount()){c.removeAll(false);d.removeAll(false);c.add(h);d.add(i);b.setWidth(j)}}},1,0,["component","container","box","headercontainer"],{component:!0,container:!0,box:!0,headercontainer:!0},0,0,[Ext.grid.locking,
"HeaderContainer"],0);
Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var b=[],c=this.eventRelayRe,d=a.locked.getView(),e=a.normal.getView(),g;Ext.apply(this,{lockedView:d,normalView:e,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel});this.mixins.observable.constructor.call(this,a);a=d.events;for(g in a)a.hasOwnProperty(g)&&c.test(g)&&b.push(g);this.relayEvents(d,
b);this.relayEvents(e,b);e.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});d.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});this.panel.on({render:this.onPanelRender,scope:this})},onPanelRender:function(){var a=this.loadMask,b={target:this.panel,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.panel.store};this.el=this.panel.body;this.fireEvent("render",this);if(a){Ext.isObject(a)&&
(b=Ext.apply(b,a));this.loadMask=new Ext.LoadMask(b)}},getGridColumns:function(){return this.lockedGrid.headerCt.getVisibleGridColumns().concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var b=this.lockedView,c;b.headerCt.cascade(function(b){if(b===a){c=true;return false}});return c?b:this.normalView},onItemMouseEnter:function(a,b){var c=this.lockedView,d=this.normalView;if(a.trackOver){a!==c&&(d=c);c=
d.getNode(b,false);d.highlightItem(c)}},onItemMouseLeave:function(a){var b=this.lockedView,c=this.normalView;if(a.trackOver){a!==b&&(c=b);c.clearHighlight()}},relayFn:function(a,b){var b=b||[],c=this.lockedView;c[a].apply(c,b);c=this.normalView;c[a].apply(c,b)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(a,b){return this.normalView.getNode(a,b)},getCell:function(a,b){var c=this.getViewForColumn(b).getNode(a,true);
return Ext.fly(c).down(b.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);b||(b=this.normalView.indexOf(a));return b},focus:function(){var a=this.getSelectionModel().getCurrentPosition();(a?a.view:this.normalView).focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(a){var b=this.lockedView.getRecord(a);b||(b=this.normalView.getRecord(a));return b},scrollBy:function(){var a=
this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(a,b,c){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var a=this.loadMask;this.clearListeners();a&&a.bindStore&&a.bindStore(null)}},
1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],0);
Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:"invalidateScrollerOnRefresh hideHeaders enableColumnHide enableColumnMove enableColumnResize sortableColumns columnLines rowLines".split(" "),normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b,
c;if(this.subGridXType)a=this.subGridXType;else{if(!a)return"gridpanel";b=this.getXTypes().split("/");c=b.length;a=b[c-1];b=b[c-2];a=b!=="tablepanel"?b:a}return a},injectLockable:function(){this.hasView=this.lockable=true;var a=Ext.getScrollbarSize().height,b=this.store=Ext.StoreManager.lookup(this.store),c=this.getSelectionModel(),d,e,g,h;h=this.findPlugin("bufferedrenderer");d=this.constructLockableFeatures();if(this.features)this.features=null;e=this.constructLockablePlugins();this.plugins=e.topPlugins;
g=Ext.apply({id:this.id+"-locked",isLocked:true,ownerLockable:this,xtype:this.determineXTypeToCreate(true),store:b,scrollerOwner:false,animate:false,scroll:a?false:"vertical",selModel:c,border:false,cls:this.lockedGridCls,isLayoutRoot:function(){return false},features:d.lockedFeatures,plugins:e.lockedPlugins},this.lockedGridConfig);d=Ext.apply({id:this.id+"-normal",isLocked:false,ownerLockable:this,xtype:this.determineXTypeToCreate(),store:b,scrollerOwner:false,selModel:c,border:false,isLayoutRoot:function(){return false},
features:d.normalFeatures,plugins:e.normalPlugins},this.normalGridConfig);this.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(d,this,this.bothCfgCopy,true);Ext.copyTo(g,this,this.bothCfgCopy,true);Ext.copyTo(d,this,this.normalCfgCopy,true);Ext.copyTo(g,this,this.lockedCfgCopy,true);for(e=0;e<this.normalCfgCopy.length;e++)delete this[this.normalCfgCopy[e]];for(e=0;e<this.lockedCfgCopy.length;e++)delete this[this.lockedCfgCopy[e]];this.addEvents("processcolumns","lockcolumn","unlockcolumn");this.addStateEvents(["lockcolumn",
"unlockcolumn"]);e=this.processColumns(this.columns);g.width=e.lockedWidth+Ext.num(c.headerWidth,0)+(e.locked.items.length?1:0);g.columns=e.locked;d.columns=e.normal;d.flex=1;g.viewConfig=this.lockedViewConfig||{};g.viewConfig.loadingUseMsg=false;g.viewConfig.loadMask=false;if(a)g.viewConfig.style="border-bottom:"+a+"px solid #f6f6f6;"+(g.viewConfig.style||"");d.viewConfig=this.normalViewConfig||{};d.viewConfig.loadMask=false;Ext.applyIf(g.viewConfig,this.viewConfig);Ext.applyIf(d.viewConfig,this.viewConfig);
this.lockedGrid=Ext.ComponentManager.create(g);if(this.isTree){this.lockedGrid.getView().animate=false;d.store=this.lockedGrid.view.store;d.deferRowRender=false;d.viewConfig.stripeRows=this.lockedGrid.view.stripeRows;d.rowLines=this.lockedGrid.rowLines}c=this.lockedGrid.getView();d.viewConfig.lockingPartner=c;this.normalGrid=Ext.ComponentManager.create(d);c.lockingPartner=g=this.normalGrid.getView();this.view=new Ext.grid.locking.View({loadingText:g.loadingText,loadingCls:g.loadingCls,loadingUseMsg:g.loadingUseMsg,
loadMask:this.loadMask!==false,locked:this.lockedGrid,normal:this.normalGrid,panel:this});d=h?{}:{scroll:{fn:this.onLockedViewScroll,element:"el",scope:this}};if(a){this.lockedGrid.on({afterlayout:this.afterLockedViewLayout,scope:this});c.getOverflowStyle();c.scrollFlags.y?this.lockedGrid.headerCt.forceFit=true:d.mousewheel={fn:this.onLockedViewMouseWheel,element:"el",scope:this}}c.on(d);d=h?{}:{scroll:{fn:this.onNormalViewScroll,element:"el",scope:this},scope:this};g.on(d);a=this.lockedGrid.headerCt;
h=this.normalGrid.headerCt;this.headerCt=this.view.headerCt=new Ext.grid.locking.HeaderContainer(this);a.lockedCt=true;a.lockableInjected=true;h.lockableInjected=true;a.on({add:{buffer:1,scope:this,fn:this.onLockedHeaderAdd},columnshow:this.onLockedHeaderShow,columnhide:this.onLockedHeaderHide,sortchange:this.onLockedHeaderSortChange,columnresize:this.onLockedHeaderResize,scope:this});h.on({sortchange:this.onNormalHeaderSortChange,scope:this});this.modifyHeaderCt();this.items=[this.lockedGrid,this.normalGrid];
this.relayHeaderCtEvents(a);this.relayHeaderCtEvents(h);this.storeRelayers=this.relayEvents(b,["filterchange"]);this.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(a){var b,c,d,e=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container),g=[],h=[];b={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:g};c={itemId:"normalHeaderCt",
stretchMaxPartner:"^^>>#lockedHeaderCt",items:h};var i={lockedWidth:0,locked:b,normal:c};if(Ext.isObject(a)){Ext.applyIf(b,a);Ext.applyIf(c,a);Ext.apply(e,a);a=a.items}b=0;for(c=a.length;b<c;++b){d=a[b];d.isComponent||(d=e.lookupComponent(e.applyDefaults(d)));d.processed=true;if(d.locked||d.autoLock){if(!d.hidden)i.lockedWidth=i.lockedWidth+(this.getColumnWidth(d)||e.defaultWidth);g.push(d)}else h.push(d);if(!d.headerId)d.headerId=(d.initialConfig||d).id||"h"+ ++this.headerCounter}this.fireEvent("processcolumns",
this,g,h);return i},getColumnWidth:function(a){var b=a.width||0,c,d;if(!b&&a.isGroupHeader){a=a.items.items;c=a.length;for(d=0;d<c;d++)b=b+this.getColumnWidth(a[d])}return b},afterLockedViewLayout:function(){var a=this.lockedGrid.getView(),b=a.el.dom,c=this.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;a.scrollFlags.x&&b.scrollWidth>b.clientWidth&&(c=0);a.el.dom.style.borderBottomWidth=c+"px";Ext.isBorderBox||a.el.setHeight(a.lastBox.height)},onLockedViewMouseWheel:function(a){var b=
-this.scrollDelta*a.getWheelDeltas().y,c=this.lockedGrid.getView().el.dom,d,e;if(!this.ignoreMousewheel){if(c){d=c.scrollTop!==c.scrollHeight-c.clientHeight;e=c.scrollTop!==0}if(b<0&&e||b>0&&d){a.stopEvent();c.scrollTop=c.scrollTop+b;this.normalGrid.getView().el.dom.scrollTop=c.scrollTop;this.onNormalViewScroll()}}},onLockedViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=b.el.dom,d=a.el.dom;if(c.scrollTop!==d.scrollTop){c.scrollTop=d.scrollTop;if(this.store.buffered){a=
a.el.child("table",true);b=b.el.child("table",true);b.style.position="absolute";b.style.top=a.style.top}}},onNormalViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=b.el.dom,d=a.el.dom;if(c.scrollTop!==d.scrollTop){d.scrollTop=c.scrollTop;if(this.store.buffered){a=a.el.child("table",true);b=b.el.child("table",true);a.style.position="absolute";a.style.top=b.style.top}}},syncRowHeights:function(){var a,b=this.lockedGrid.getView(),c=this.normalGrid.getView(),d=b.all.slice(),
e=c.all.slice(),g=d.length;if(e.length===g){for(a=0;a<g;a++)c.syncRowHeights(d[a],e[a]);a=c.el.dom.scrollTop;c.el.dom.scrollTop=a;b.el.dom.scrollTop=a}},modifyHeaderCt:function(){this.lockedGrid.headerCt.getMenuItems=this.getMenuItems(this.lockedGrid.headerCt.getMenuItems,true);this.normalGrid.headerCt.getMenuItems=this.getMenuItems(this.normalGrid.headerCt.getMenuItems,false);this.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.lockedGrid.headerCt.showMenuBy,this.showMenuBy);this.normalGrid.headerCt.showMenuBy=
Ext.Function.createInterceptor(this.normalGrid.headerCt.showMenuBy,this.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#unlockItem"),c=c.down("#lockItem"),e=d.prev();if(b.lockable===false){e.hide();d.hide();c.hide()}else{e.show();d.show();c.show();d.initialConfig.disabled||d.setDisabled(b.lockable===false);c.initialConfig.disabled||c.setDisabled(!b.isLockable())}},getMenuItems:function(a,b){var c=
this.unlockText,d=this.lockText,e=Ext.baseCSSPrefix+"hmenu-unlock",g=Ext.baseCSSPrefix+"hmenu-lock",h=Ext.Function.bind(this.onUnlockMenuClick,this),i=Ext.Function.bind(this.onLockMenuClick,this);return function(){var j=a.call(this);j.push("-",{itemId:"unlockItem",cls:e,text:c,handler:h,disabled:!b});j.push({itemId:"lockItem",cls:g,text:d,handler:i,disabled:b});return j}},syncLockedWidth:function(){var a=this.lockedGrid,b=a.view,c=b.el.dom,d=this.normalGrid,e=a.headerCt.getVisibleGridColumns().length,
g=d.headerCt.getVisibleGridColumns().length;Ext.suspendLayouts();if(g){d.show();if(e){if(!a.headerCt.forceFit){delete a.flex;a.setWidth(a.headerCt.getFullWidth())}a.addCls(this.lockedGridCls);a.show()}else{a.getView().refresh();a.hide()}b.el.setStyle(b.getOverflowStyle());this.ignoreMousewheel=b.scrollFlags.y}else{d.hide();c.style.borderBottomWidth="0";a.flex=1;delete a.width;a.removeCls(this.lockedGridCls);a.show();b.el.setStyle(d.view.getOverflowStyle());this.ignoreMousewheel=true}Ext.resumeLayouts(true);
return[e,g]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(a,b,c){c&&this.normalGrid.headerCt.clearOtherSortStates(null,true)},onNormalHeaderSortChange:function(a,b,c){c&&this.lockedGrid.headerCt.clearOtherSortStates(null,true)},lock:function(a,b){var c=this.normalGrid,
d=this.lockedGrid,e=c.headerCt,g=d.headerCt,a=a||e.getMenu().activeHeader,e=a.ownerCt;if(a.isLockable()){if(a.flex){a.width=a.getWidth();a.flex=null}Ext.suspendLayouts();e.remove(a,false);this.ignoreAddLockedColumn=a.locked=true;Ext.isDefined(b)?g.insert(b,a):g.add(a);this.ignoreAddLockedColumn=false;g=this.syncLockedWidth();g[0]&&d.getView().refresh();g[1]&&c.getView().refresh();Ext.resumeLayouts(true);this.fireEvent("lockcolumn",this,a)}},unlock:function(a,b){var c=this.normalGrid,d=this.lockedGrid,
e=c.headerCt,g=d.headerCt;Ext.isDefined(b)||(b=0);a=a||g.getMenu().activeHeader;Ext.suspendLayouts();a.ownerCt.remove(a,false);a.locked=false;e.insert(b,a);e=this.syncLockedWidth();e[0]&&d.getView().refresh();e[1]&&c.getView().refresh();Ext.resumeLayouts(true);this.fireEvent("unlockcolumn",this,a)},reconfigureLockable:function(a,b){var c=this.store,d=this.lockedGrid,e=this.normalGrid;Ext.suspendLayouts();if(b){d.headerCt.removeAll();e.headerCt.removeAll();b=this.processColumns(b);this.ignoreAddLockedColumn=
true;d.headerCt.add(b.locked.items);this.ignoreAddLockedColumn=false;e.headerCt.add(b.normal.items);this.syncLockedWidth()}if(a&&a!==c){this.store=a=Ext.data.StoreManager.lookup(a);d.bindStore(a);e.bindStore(a)}else{d.getView().refresh();e.getView().refresh()}Ext.resumeLayouts(true)},constructLockableFeatures:function(){var a=this.features,b,c,d,e,g=0,h;if(a){d=[];e=[];for(h=a.length;g<h;g++){b=a[g];b.isFeature||(b=Ext.create("feature."+b.ftype,b));switch(b.lockableScope){case "locked":d.push(b);
break;case "normal":e.push(b);break;default:b.lockableScope="both";d.push(b);e.push(c=b.clone());c.lockingPartner=b;b.lockingPartner=c}}}return{normalFeatures:e,lockedFeatures:d}},constructLockablePlugins:function(){var a=this.plugins,b,c,d,e,g,h,i=0,j;if(a){e=[];g=[];h=[];for(j=a.length;i<j;i++){b=a[i];switch(b.lockableScope){case "both":g.push(d=b.clonePlugin());h.push(c=b.clonePlugin());d.lockingPartner=c;c.lockingPartner=d;Ext.destroy(b);break;case "locked":g.push(b);break;case "normal":h.push(b);
break;default:e.push(b)}}}return{topPlugins:e,normalPlugins:h,lockedPlugins:g}},destroyLockable:function(){Ext.destroy(this.view)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])});
Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{lockableScope:"both",percentageFromEdge:0.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(a){var b=this,c=a.view,d={scroll:{fn:b.onViewScroll,element:"el",scope:b},boxready:b.onViewResize,resize:b.onViewResize,refresh:b.onViewRefresh,scope:b,destroyable:true};if(!b.variableRowHeight&&
a.ownerLockable)a.ownerLockable.syncRowHeight=false;if(a.isTree||a.ownerLockable&&a.ownerLockable.isTree){c.blockRefresh=false;c.loadMask=true}if(c.positionBody)d.refresh=b.onViewRefresh;b.grid=a;b.view=c;c.bufferedRenderer=b;c.preserveScrollOnRefresh=true;b.bindStore(c.dataSource);c.getViewRange=function(){return b.getViewRange()};b.position=0;b.gridListeners=a.on("reconfigure",b.onReconfigure,b);b.viewListeners=c.on(d)},bindStore:function(a){this.store&&this.unbindStore();this.storeListeners=a.on({scope:this,
clear:this.onStoreClear,destroyable:true});this.store=a;if(this.view.componentLayout.layoutCount)this.onViewResize(this.view,0,this.view.getHeight())},onReconfigure:function(a,b){b&&b!==this.store&&this.bindStore(b)},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){if(this.view.rendered&&!this.store.isDestroyed){if(this.scrollTop!==0){this.ignoreNextScrollEvent=true;this.view.el.dom.scrollTop=this.bodyTop=this.scrollTop=0}this.position=this.scrollHeight=
0;this.lastScrollDirection=this.scrollOffset=null;delete this.rowHeight}},onViewRefresh:function(){var a=this.view,b=this.scrollHeight,c;a.all.getCount()&&delete this.rowHeight;c=this.getScrollHeight();(!b||c!=b)&&this.stretchView(a,c);if(this.scrollTop!==a.el.dom.scrollTop)this.onViewScroll();else{this.setBodyTop(this.bodyTop);if(a.all.getCount()){this.viewSize=0;this.onViewResize(a,null,a.getHeight())}}},onViewResize:function(a,b,c,d,e){if(!e||c!==e)this.viewSize=this.setViewSize(Math.ceil(c/this.rowHeight)+
this.trailingBufferZone+this.leadingBufferZone)},stretchView:function(a,b){var c=this.store.buffered?this.store.getTotalCount():this.store.getCount();if(this.stretcher)this.stretcher.dom.style.marginTop=b-1+"px";else{var d=a.el;a.refreshCounter&&a.fixedNodes++;c&&this.view.all.endIndex===c-1&&(b=this.bodyTop+a.body.dom.offsetHeight);this.stretcher=d.createChild({style:{width:"1px",height:"1px",marginTop:b-1+"px",left:0,position:"absolute"}},d.dom.firstChild)}},setViewSize:function(a){if(a!==this.viewSize){this.scrollTop=
this.view.el.dom.scrollTop;var b=this.store,c=this.view.all.getCount(),d=this.lockingPartner;this.viewSize=b.viewSize=a;if(c){c=this.view.all.startIndex;b=Math.min(c+a-1,(b.buffered?b.getTotalCount():b.getCount())-1);d&&d.disable();this.renderRange(c,b);d&&d.enable()}}return a},getViewRange:function(){var a=this.view.all,b=this.store;return b.data.getCount()?b.getRange(a.startIndex,a.startIndex+(this.viewSize||this.store.defaultViewSize)-1):[]},scrollTo:function(a,b,c,d){var e=this,g=e.view,h=g.el.dom,
i=e.store,j=i.buffered?i.getTotalCount():i.getCount(),k,l,m,n,a=Math.min(Math.max(a,0),j-1);k=Math.max(Math.min(a-(e.leadingBufferZone+e.trailingBufferZone)/2,j-e.viewSize+1),0);n=k*e.rowHeight;j=Math.min(k+e.viewSize-1,j-1);i.getRange(k,j,{callback:function(j,k,q){e.renderRange(k,q,true);l=i.data.getRange(a,a)[0];m=g.getNode(l,false);g.body.dom.style.top=n+"px";e.position=e.scrollTop=h.scrollTop=n=Math.min(Math.max(0,n-g.body.getOffsetsTo(m)[1]),h.scrollHeight-h.clientHeight);if(Ext.isIE)h.scrollTop=
n;b&&g.selModel.select(l);c&&c.call(d||e,a,l)}})},onViewScroll:function(){var a=this.store,b=a.buffered?a.getTotalCount():a.getCount(),c,a=this.scrollTop=this.view.el.dom.scrollTop,d=false;if(this.ignoreNextScrollEvent)this.ignoreNextScrollEvent=false;else{if(!(this.disabled||b<this.viewSize)){b=a-this.position;c=b>0?1:-1;if(Math.abs(b)>=20||c!==this.lastScrollDirection){this.lastScrollDirection=c;this.handleViewScroll(this.lastScrollDirection);d=true}}if(!d&&this.lockingPartner&&this.lockingPartner.scrollTop!==
a)this.lockingPartner.view.el.dom.scrollTop=a}},handleViewScroll:function(a){var b=this.view.all,c=this.store,d=this.viewSize,c=c.buffered?c.getTotalCount():c.getCount(),e;a==-1?b.startIndex&&this.getFirstVisibleRowIndex()-b.startIndex<this.numFromEdge&&(e=Math.max(0,this.getLastVisibleRowIndex()+this.trailingBufferZone-d)):b.endIndex<c-1&&b.endIndex-this.getLastVisibleRowIndex()<this.numFromEdge&&(e=Math.max(0,this.getFirstVisibleRowIndex()-this.trailingBufferZone));if(e!=null){a=Math.min(e+d-1,
c-1);if(e!==b.startIndex||a!==b.endIndex){this.renderRange(e,a);return}}if(this.lockingPartner&&this.lockingPartner.view.el&&this.lockingPartner.scrollTop!==this.scrollTop)this.lockingPartner.view.el.dom.scrollTop=this.scrollTop},renderRange:function(a,b,c){if(this.store.rangeCached(a,b)){this.cancelLoad();if(this.synchronousRender||c)this.onRangeFetched(null,a,b);else{if(!this.renderTask)this.renderTask=new Ext.util.DelayedTask(this.onRangeFetched,this,null,false);this.renderTask.delay(1,null,null,
[null,a,b])}}else this.attemptLoad(a,b)},onRangeFetched:function(a,b,c,d){var e=this.view,g,h=e.all,i;g=0;var j=b*this.rowHeight,k=this.lockingPartner;if(!e.isDestroyed){if(!a){a=this.store.getRange(b,c);if(!a)return}if(b>h.endIndex||c<h.startIndex){h.clear(true);i=j}if(h.getCount())if(c>h.endIndex){i=Math.max(b-h.startIndex,0);if(this.variableRowHeight)g=h.item(h.startIndex+i,true).offsetTop;h.scroll(Ext.Array.slice(a,h.endIndex+1-b),1,i,b,c);i=this.variableRowHeight?this.bodyTop+g:j}else{i=Math.max(h.endIndex-
c,0);g=h.startIndex;h.scroll(Ext.Array.slice(a,0,h.startIndex-b),-1,i,b,c);i=this.variableRowHeight?this.bodyTop-h.item(g,true).offsetTop:j}else e.doAdd(a,b);this.position=this.scrollTop;e.positionBody&&this.setBodyTop(i,j);if(k&&!k.disabled&&!d){k.onRangeFetched(a,b,c,true);if(k.scrollTop!==this.scrollTop)k.view.el.dom.scrollTop=this.scrollTop}}},setBodyTop:function(a,b){var c=this.view,d=this.store,e=c.body.dom,g,a=Math.floor(a);if(b!==void 0){g=a-b;a=b}e.style.position="absolute";e.style.top=(this.bodyTop=
a)+"px";if(g)this.scrollTop=this.position=c.el.dom.scrollTop=c.el.dom.scrollTop-g;c.all.endIndex===(d.buffered?d.getTotalCount():d.getCount())-1&&this.stretchView(c,this.bodyTop+e.offsetHeight)},getFirstVisibleRowIndex:function(a,b,c,d){var e=this.view,g=e.all,h=g.elements,i=e.el.dom.clientHeight;if(g.getCount()&&this.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{a=g.startIndex;b=g.endIndex;c=this.scrollTop;d=c+i;if(this.bodyTop>d||this.bodyTop+e.body.getHeight()<c)return Math.floor(this.scrollTop/
this.rowHeight);e=a+Math.min(this.numFromEdge+(this.lastScrollDirection==-1?this.leadingBufferZone:this.trailingBufferZone),Math.floor((b-a)/2))}g=this.bodyTop+h[e].offsetTop;if(g+h[e].offsetHeight<c)return this.getFirstVisibleRowIndex(e+1,b,c,d);if(g<=c)return e;if(e!==a)return this.getFirstVisibleRowIndex(a,e-1,c,d)}return Math.floor(this.scrollTop/this.rowHeight)},getLastVisibleRowIndex:function(a,b,c,d){var e=this.view,g=e.all,h=g.elements,i=e.el.dom.clientHeight;if(g.getCount()&&this.variableRowHeight){if(arguments.length)e=
a+Math.floor((b-a)/2);else{a=g.startIndex;b=g.endIndex;c=this.scrollTop;d=c+i;if(this.bodyTop>d||this.bodyTop+e.body.getHeight()<c)return Math.floor(this.scrollTop/this.rowHeight)+Math.ceil(i/this.rowHeight);e=b-Math.min(this.numFromEdge+(this.lastScrollDirection==1?this.leadingBufferZone:this.trailingBufferZone),Math.floor((b-a)/2))}g=this.bodyTop+h[e].offsetTop;if(g>d)return this.getLastVisibleRowIndex(a,e-1,c,d);h=g+h[e].offsetHeight;if(h>=d)return e;if(e!==b)return this.getLastVisibleRowIndex(e+
1,b,c,d)}return this.getFirstVisibleRowIndex()+Math.ceil(i/this.rowHeight)},getScrollHeight:function(){var a=this.view,b=this.store,c=!this.hasOwnProperty("rowHeight");if(!this.store.getCount())return 0;if(c&&a.all.getCount())this.rowHeight=Math.floor(a.body.getHeight()/a.all.getCount());return this.scrollHeight=Math.floor((b.buffered?b.getTotalCount():b.getCount())*this.rowHeight)},attemptLoad:function(a,b){if(this.scrollToLoadBuffer){if(!this.loadTask)this.loadTask=new Ext.util.DelayedTask(this.doAttemptLoad,
this,[]);this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[a,b])}else this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:false})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:false})},destroy:function(){var a=this.view;a&&a.el&&a.el.un("scroll",this.onViewScroll,this);Ext.destroy(this.viewListeners,this.storeListeners,this.gridListeners)}},
0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0);
Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.AbstractPlugin,{clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(a){var b=this;b.addEvents("beforeedit","edit","validateedit","canceledit");b.callParent(arguments);b.mixins.observable.constructor.call(b);b.on("edit",function(a,d){b.fireEvent("afteredit",a,d)})},init:function(a){this.grid=a;this.view=a.view;this.initEvents();this.mon(a,{reconfigure:this.onReconfigure,
scope:this,beforerender:{fn:this.onReconfigure,single:true,scope:this}});a.relayEvents(this,this.relayedEvents);this.grid.ownerLockable&&this.grid.ownerLockable.relayEvents(this,this.relayedEvents);a.isEditable=true;a.editingPlugin=a.view.editingPlugin=this},onReconfigure:function(){var a=this.grid,a=a.ownerLockable?a.ownerLockable:a;this.initFieldAccessors(a.getView().getGridColumns())},destroy:function(){var a=this.grid;Ext.destroy(this.keyNav);this.clearListeners();if(a){this.removeFieldAccessors(a.columnManager.getColumns());
a.editingPlugin=a.view.editingPlugin=this.grid=this.view=this.editor=this.keyNav=null}},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b=this,c,d=a.length,e;for(c=0;c<d;c++){e=a[c];if(!e.getEditor)e.getEditor=function(a,c){return b.getColumnField(this,c)};if(!e.hasEditor)e.hasEditor=function(){return b.hasColumnField(this)};if(!e.setEditor)e.setEditor=function(a){b.setColumnField(this,a)}}},removeFieldAccessors:function(a){a.isGroupHeader?
a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b,c=a.length,d;for(b=0;b<c;b++){d=a[b];d.getEditor=d.hasEditor=d.setEditor=null}},getColumnField:function(a,b){var c=a.field;if(!c||!c.isFormField)c=a.field=this.createColumnField(a,b);return c},hasColumnField:function(a){return!!a.field},setColumnField:function(a,b){a.field=b;a.field=this.createColumnField(a)},createColumnField:function(a,b){var c=a.field;if(!c&&a.editor){c=a.editor;a.editor=null}!c&&b&&(c=b);if(c){if(c.isFormField)c.column=a;else{c=
Ext.isString(c)?{name:a.dataIndex,xtype:c,column:a}:Ext.apply({name:a.dataIndex,column:a},c);c=Ext.ComponentManager.create(c,this.defaultFieldXType)}a.field=c}return c},initEvents:function(){this.initEditTriggers();this.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this.view;if(this.triggerEvent=="cellfocus")this.mon(a,"cellfocus",this.onCellFocus,this);else if(this.triggerEvent=="rowfocus")this.mon(a,"rowfocus",this.onRowFocus,this);else{if(a.getSelectionModel().isCellModel)a.onCellFocus=
Ext.Function.bind(this.beforeViewCellFocus,this);this.mon(a,this.triggerEvent||"cell"+(this.clicksToEdit===1?"click":"dblclick"),this.onCellClick,this)}this.initAddRemoveHeaderEvents();a.on("render",this.initKeyNavHeaderEvents,this,{single:true})},beforeViewCellFocus:function(a){(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader))&&this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(a,b){this.startEdit(b,0)},onCellFocus:function(a,
b,c){this.startEdit(c.row,c.column)},onCellClick:function(a,b,c,d,e,g,h){(!a.expanderSelector||!h.getTarget(a.expanderSelector))&&this.startEdit(d,a.ownerCt.columnManager.getHeaderAtIndex(c))},initAddRemoveHeaderEvents:function(){this.mon(this.grid.headerCt,{scope:this,add:this.onColumnAdd,remove:this.onColumnRemove,columnmove:this.onColumnMove})},initKeyNavHeaderEvents:function(){this.keyNav=Ext.create("Ext.util.KeyNav",this.view.el,{enter:this.onEnterKey,esc:this.onEscKey,scope:this})},onColumnAdd:function(a,
b){this.initFieldAccessors(b)},onColumnRemove:function(a,b){this.removeFieldAccessors(b)},onColumnMove:function(a,b){this.initFieldAccessors(b)},onEnterKey:function(){var a=this.grid,b=a.getSelectionModel(),c;if(b.getCurrentPosition&&(c=b.getCurrentPosition())){b=c.record;a=c.columnHeader}else{b=b.getLastSelected();a=a.columnManager.getHeaderAtIndex(0)}b&&a&&this.startEdit(b,a)},onEscKey:function(){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(a,b){var c;c=this.grid.lockable?
this.grid:this.view;if(!c.componentLayoutCounter){c.on({boxready:Ext.Function.bind(this.startEdit,this,[a,b]),single:true});return false}if(this.grid.collapsed||!this.grid.view.isVisible(true))return false;c=this.getEditingContext(a,b);if(c==null||!this.preventBeforeCheck&&(this.beforeEdit(c)===false||this.fireEvent("beforeedit",this,c)===false||c.cancel))return false;this.editing=true;return c},getEditingContext:function(a,b){var c=this.grid,d=this.view,e=d.getNode(a,true),g,h;if(e)if(b=c.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(b)?
b:b.getVisibleIndex())){h=b.getVisibleIndex();if(Ext.isNumber(a)){g=a;a=d.getRecord(e)}else g=d.indexOf(e);if(a)return{grid:c,view:d,store:d.dataSource,record:a,field:b.dataIndex,value:a.get(b.dataIndex),row:e,column:b,rowIdx:g,colIdx:h}}},cancelEdit:function(){this.editing=false;this.fireEvent("canceledit",this,this.context)},completeEdit:function(){this.editing&&this.validateEdit()&&this.fireEvent("edit",this,this.context);this.context=null;this.editing=false},validateEdit:function(){var a=this.context;
return this.fireEvent("validateedit",this,a)!==false&&!a.cancel}},1,0,0,0,["editing.editing"],[["observable",Ext.util.Observable]],[Ext.grid.plugin,"Editing"],0);
Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{lockableScope:"both",init:function(a){var b=this.lockingPartner;this.callParent(arguments);this.editors=b?b.editors?b.editors:b.editors=new Ext.util.MixedCollection(false,function(a){return a.editorId}):new Ext.util.MixedCollection(false,function(a){return a.editorId})},onReconfigure:function(a,b,c){c&&this.editors.clear();this.callParent()},destroy:function(){if(this.editors){this.editors.each(Ext.destroy,Ext);this.editors.clear()}this.callParent(arguments)},
onBodyScroll:function(){var a=this.getActiveEditor(),b=this.view.el.getScroll();a&&(a.editing&&a.editingPlugin===this)&&(b.top!==this.scroll.top?a.field&&(a.field.triggerBlur?a.field.triggerBlur():a.field.blur()):a.realign());this.scroll=b},initCancelTriggers:function(){var a=this.grid;this.mon(a.view,"bodyscroll",this.onBodyScroll,this);this.mon(a,{columnresize:this.cancelEdit,columnmove:this.cancelEdit,scope:this})},isCellEditable:function(a,b){var c=this.getEditingContext(a,b);if(this.grid.view.isVisible(true)&&
c){b=c.column;a=c.record;if(b&&this.getEditor(a,b))return true}},startEdit:function(a,b,c){var d;if(!c){this.preventBeforeCheck=true;c=this.callParent(arguments);delete this.preventBeforeCheck;if(c===false)return false}if(c&&this.grid.view.isVisible(true)){a=c.record;b=c.column;this.completeEdit();if(b&&!b.getEditor(a))return false;this.context=c;c.originalValue=c.value=a.get(b.dataIndex);if(this.beforeEdit(c)===false||this.fireEvent("beforeedit",this,c)===false||c.cancel)return false;d=this.getEditor(a,
b);this.grid.view.cancelFocus();this.view.scrollCellIntoView(this.getCell(a,b));if(d){this.showEditor(d,c,c.value);return true}return false}},showEditor:function(a,b,c){var d=b.record,e=b.column,g=this.grid.getSelectionModel(),h=g.getCurrentPosition(),i=h&&h.view;if(i&&i!==this.view)return this.lockingPartner.showEditor(a,this.lockingPartner.getEditingContext(h.record,h.columnHeader),c);this.setEditingContext(b);this.setActiveEditor(a);this.setActiveRecord(d);this.setActiveColumn(e);g.selectByPosition&&
(!h||h.column!==b.colIdx||h.row!==b.rowIdx)&&g.selectByPosition({row:b.rowIdx,column:b.colIdx,view:this.view});a.startEdit(this.getCell(d,e),c,b);this.editing=true;this.scroll=this.view.el.getScroll()},completeEdit:function(){var a=this.getActiveEditor();if(a){a.completeEdit();this.editing=false}},setEditingContext:function(a){this.context=a;if(this.lockingPartner)this.lockingPartner.context=a},setActiveEditor:function(a){this.activeEditor=a;if(this.lockingPartner)this.lockingPartner.activeEditor=
a},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a;if(this.lockingPartner)this.lockingPartner.activeColumn=a},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a;if(this.lockingPartner)this.lockingPartner.activeRecord=a},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,b){var c=this.editors,d=b.getItemId(),e=c.getByKey(d),g=this.grid.ownerLockable||this.grid;if(!e){e=b.getEditor(a);
if(!e)return false;e instanceof Ext.grid.CellEditor?e.floating=true:e=new Ext.grid.CellEditor({floating:true,editorId:d,field:e});g.add(e);e.on({scope:this,specialkey:this.onSpecialKey,complete:this.onEditComplete,canceledit:this.cancelEdit});b.on("removed",this.cancelActiveEdit,this);c.add(e)}if(b.isTreeColumn){e.isForTree=b.isTreeColumn;e.addCls(Ext.baseCSSPrefix+"tree-cell-editor")}e.grid=this.grid;e.editingPlugin=this;return e},cancelActiveEdit:function(a){var b=this.context;b&&b.column===a&&
this.cancelEdit()},setColumnField:function(a,b){var c=this.editors.getByKey(a.getItemId());Ext.destroy(c,a.field);this.editors.removeAtKey(a.getItemId());this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(a,b,c){if(c.getKey()===c.TAB){c.stopEvent();if(a)a.onEditorTab(c);b=a.up("tablepanel").getSelectionModel();if(b.onEditorTab)return b.onEditorTab(a.editingPlugin,c)}},onEditComplete:function(a,b,c){var a=this.getActiveColumn(),d=this.context,
e;if(a){e=d.record;this.setActiveEditor(null);this.setActiveColumn(null);this.setActiveRecord(null);d.value=b;if(this.validateEdit()){e.isEqual(b,c)||e.set(a.dataIndex,b);d.view.focus(false,true);this.fireEvent("edit",this,d);this.editing=false}}},cancelEdit:function(){var a=this.getActiveEditor();this.setActiveEditor(null);this.setActiveColumn(null);this.setActiveRecord(null);if(a){a.cancelEdit();this.context.view.focus();this.callParent(arguments)}else return true},startEditByPosition:function(a){a.isCellContext||
(a=(new Ext.grid.CellContext(this.view)).setPosition(a));a.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex());return this.startEdit(a.record,a.columnHeader)}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0);
Ext.cmd.derive("Ext.grid.plugin.DivRenderer",Ext.AbstractPlugin,{tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ',
'data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"',
'style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",true)}},
init:function(a){a=a.getView();a.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");a.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");a.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");Ext.apply(a,this.selectors)}},0,0,0,0,["plugin.divrenderer"],0,[Ext.grid.plugin,"DivRenderer"],0);
Ext.cmd.derive("Ext.grid.plugin.DragDrop",Ext.AbstractPlugin,{dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){this.dragZone&&this.dragZone.unlock();this.dropZone&&this.dropZone.unlock();this.callParent()},disable:function(){this.dragZone&&this.dragZone.lock();this.dropZone&&this.dropZone.lock();this.callParent()},
onViewRender:function(a){var b;if(this.enableDrag){this.containerScroll&&(b=a.getEl());this.dragZone=new Ext.view.DragZone({view:a,ddGroup:this.dragGroup||this.ddGroup,dragText:this.dragText,containerScroll:this.containerScroll,scrollEl:b})}if(this.enableDrop)this.dropZone=new Ext.grid.ViewDropZone({view:a,ddGroup:this.dropGroup||this.ddGroup})}},0,0,0,0,["plugin.gridviewdragdrop"],0,[Ext.grid.plugin,"DragDrop"],0);
Ext.cmd.derive("Ext.grid.plugin.RowEditing",Ext.grid.plugin.Editing,{lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){this.callParent(arguments);if(!this.clicksToMoveEditor)this.clicksToMoveEditor=this.clicksToEdit;this.autoCancel=!!this.autoCancel},destroy:function(){Ext.destroy(this.editor);this.callParent(arguments)},startEdit:function(a,b){var c=this.getEditor(),d;if(c.beforeEdit()!==false)if(d=this.callParent(arguments)){this.context=d;this.lockingPartner&&
this.lockingPartner.cancelEdit();c.startEdit(d.record,d.column,d);return true}return false},cancelEdit:function(){if(this.editing){this.getEditor().cancelEdit();this.callParent(arguments)}else return true},completeEdit:function(){if(this.editing&&this.validateEdit()){this.editing=false;this.fireEvent("edit",this,this.context)}},validateEdit:function(){var a=this.context,b=a.record,c={},d={},e=this.editor.query(">[isFormField]"),g,h=e.length,i,j;for(g=0;g<h;g++){j=e[g];i=j.name;c[i]=j.getValue();d[i]=
b.get(i)}Ext.apply(a,{newValues:c,originalValues:d});return this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){if(!this.editor)this.editor=this.initEditor();return this.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){for(var a=this.view,b=["saveBtnText","cancelBtnText","errorsText","dirtyText"],c=b.length,d={autoCancel:this.autoCancel,errorSummary:this.errorSummary,fields:this.grid.headerCt.getGridColumns(),
hidden:true,view:a,editingPlugin:this},e,a=0;a<c;a++){e=b[a];Ext.isDefined(this[e])&&(d[e]=this[e])}return d},initEditTriggers:function(){var a=this,b=a.view,c=a.clicksToMoveEditor===1?"click":"dblclick";a.callParent(arguments);a.clicksToMoveEditor!==a.clicksToEdit&&a.mon(b,"cell"+c,a.moveEditorByClick,a);b.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:true})},startEditByClick:function(){(!this.editing||
this.clicksToMoveEditor===this.clicksToEdit)&&this.callParent(arguments)},moveEditorByClick:function(){this.editing&&this.superclass.onCellClick.apply(this,arguments)},onColumnAdd:function(a,b){if(b.isHeader){var c;this.initFieldAccessors(b);if((c=this.editor)&&c.onColumnAdd)c.onColumnAdd(b)}},onColumnRemove:function(a,b){if(b.isHeader){var c=this.getEditor();if(c&&c.onColumnRemove)c.onColumnRemove(a,b);this.removeFieldAccessors(b)}},onColumnResize:function(a,b,c){if(b.isHeader)if((a=this.getEditor())&&
a.onColumnResize)a.onColumnResize(b,c)},onColumnHide:function(a,b){var c=this.getEditor();if(c&&c.onColumnHide)c.onColumnHide(b)},onColumnShow:function(a,b){var c=this.getEditor();if(c&&c.onColumnShow)c.onColumnShow(b)},onColumnMove:function(a,b,c,d){a=this.getEditor();this.initFieldAccessors(b);if(a&&a.onColumnMove)a.onColumnMove(b,c,d)},setColumnField:function(a,b){this.getEditor().removeField(a);this.callParent(arguments);this.getEditor().setField(a)}},1,0,0,0,["plugin.rowediting"],0,[Ext.grid.plugin,
"RowEditing"],0);
Ext.cmd.derive("Ext.grid.plugin.RowExpander",Ext.AbstractPlugin,{lockableScope:"normal",rowBodyTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(a){var b=this.rowExpander;b.recordsExpanded[a.record.internalId]||a.itemClasses.push(b.rowCollapsedCls)},priority:500},setCmp:function(a){var b,c;this.callParent(arguments);this.recordsExpanded=
{};b=this.rowBodyTpl=Ext.XTemplate.getTpl(this,"rowBodyTpl");c=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:this.recordsExpanded,rowBodyHiddenCls:this.rowBodyHiddenCls,rowCollapsedCls:this.rowCollapsedCls,setupRowData:this.getRowBodyFeatureData,setup:this.setup,getRowBodyContents:function(a){return b.applyTemplate(a.getData())}},{ftype:"rowwrap",lockableScope:"normal"}];a.features=a.features?Ext.Array.push(c,a.features):c},init:function(a){var b=a,c,d;this.callParent(arguments);this.grid=
a;c=this.view=a.getView();this.addExpander();this.bindView(c);c.addRowTpl(this.addCollapsedCls).rowExpander=this;if(a.ownerLockable){b=a.ownerLockable;b.syncRowHeight=false;d=b.lockedGrid.getView();this.bindView(d);d.addRowTpl(this.addCollapsedCls).rowExpander=this;b.mon(b,"columnschanged",this.refreshRowHeights,this);b.mon(b.store,"datachanged",this.refreshRowHeights,this)}b.on("beforereconfigure",this.beforeReconfigure,this);if(a.ownerLockable&&!a.rowLines)c.on("rowfocus",this.refreshRowHeights,
this)},beforeReconfigure:function(a,b,c){a=this.getHeaderConfig();a.locked=true;c.unshift(a)},addExpander:function(){var a=this.grid,b=this.getHeaderConfig();if(a.ownerLockable){a=a.ownerLockable.lockedGrid;a.width=a.width+b.width}a.headerCt.insert(0,b)},getRowBodyFeatureData:function(a,b,c){this.self.prototype.setupRowData.apply(this,arguments);c.rowBody=this.getRowBodyContents(a);c.rowBodyCls=this.recordsExpanded[a.internalId]?"":this.rowBodyHiddenCls},setup:function(a,b){this.self.prototype.setup.apply(this,
arguments);if(!this.grid.ownerLockable)b.rowBodyColspan=b.rowBodyColspan-1},bindView:function(a){if(this.expandOnEnter)a.on("itemkeydown",this.onKeyDown,this);if(this.expandOnDblClick)a.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(a,b,c,d,e){if(e.getKey()==e.ENTER){b=a.store;a=a.getSelectionModel().getSelection();c=a.length;for(e=0;e<c;e++){d=b.indexOf(a[e]);this.toggleRow(d,a[e])}}},onDblClick:function(a,b,c,d){this.toggleRow(d,b)},toggleRow:function(a,b){var c=this.view,d=c.getNode(a),
d=Ext.fly(d,"_rowExpander"),e=d.down(this.rowBodyTrSelector,true),g=d.hasCls(this.rowCollapsedCls),h=g?"removeCls":"addCls",i,j;Ext.suspendLayouts();d[h](this.rowCollapsedCls);Ext.fly(e)[h](this.rowBodyHiddenCls);this.recordsExpanded[b.internalId]=g;c.refreshSize();if(this.grid.ownerLockable){c=this.grid.ownerLockable;j=c.getView();c=c.lockedGrid.view;i=d.getHeight();d=Ext.fly(c.getNode(a),"_rowExpander");d.setHeight(i);d[h](this.rowCollapsedCls);c.refreshSize()}else j=c;j.fireEvent(g?"expandbody":
"collapsebody",d.dom,b,e);Ext.resumeLayouts(true)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:true})},doRefreshRowHeights:function(){var a=this.recordsExpanded,b,c,d=this.grid.ownerLockable.lockedGrid.view,e=this.grid.ownerLockable.normalGrid.view,g,h,i;for(b in a)if(a.hasOwnProperty(b)){c=this.view.store.data.get(b);g=d.getNode(c,false);c=e.getNode(c,false);g.style.height=c.style.height="";h=g.offsetHeight;i=c.offsetHeight;if(i>h)g.style.height=
i+"px";else if(h>i)c.style.height=h+"px"}},getHeaderConfig:function(){var a=this;return{width:24,lockable:false,sortable:false,resizable:false,draggable:false,hideable:false,menuDisabled:true,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(b,c){if(!a.grid.ownerLockable)c.tdAttr=c.tdAttr+' rowspan="2"';return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander"></div>'},processEvent:function(b,c,d,e,g,h,i){if(b=="mousedown"&&h.getTarget(".x-grid-row-expander")){a.toggleRow(e,
i);return a.selectRowOnExpand}}}}},0,0,0,0,["plugin.rowexpander"],0,[Ext.grid.plugin,"RowExpander"],0);
Ext.cmd.derive("Ext.grid.property.Grid",Ext.grid.Panel,{alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var a=this;a.source=a.source||{};a.addCls(a.gridCls);a.plugins=a.plugins||[];a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b){return this.self.prototype.startEdit.call(this,
b,a.headerCt.child("#"+a.valueField))}}));a.selModel={selType:"cellmodel",onCellSelect:function(a){if(a.column!=1)a.column=1;return this.self.prototype.onCellSelect.call(this,a)}};a.sourceConfig=Ext.apply({},a.sourceConfig);if(!a.store)a.propStore=a.store=new Ext.grid.property.Store(a,a.source);a.configure(a.sourceConfig);a.sortableColumns&&a.store.sort("name","ASC");a.columns=new Ext.grid.property.HeaderContainer(a,a.store);a.addEvents("beforepropertychange","propertychange");a.callParent();a.getView().walkCells=
this.walkCells;a.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:true})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:true})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:true})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,a.headerCt.trueText],[false,a.headerCt.falseText]]})})};a.store.on("update",a.onUpdate,a)},configure:function(a){var b=
this.store,c=0,d=this.store.getCount(),e=this.nameField,g=this.valueField,h;this.configureLegacy(a);if(this.inferTypes)for(;c<d;++c){h=b.getAt(c);a=h.get(e);if(!this.getConfig(a,"type")){h=h.get(g);h=Ext.isDate(h)?"date":Ext.isNumber(h)?"number":Ext.isBoolean(h)?"boolean":"string";this.setConfig(a,"type",h)}}},getConfig:function(a,b,c){var a=this.sourceConfig[a],d;a&&(d=a[b]);return d||c},setConfig:function(a,b,c){var d=this.sourceConfig,e=d[a];if(e){if(!e.__copied){e=Ext.apply({__copied:true},e);
d[a]=e}}else e=d[a]={__copied:true};return e[b]=c},configureLegacy:function(a){this.copyLegacyObject(a,this.customRenderers,"renderer");this.copyLegacyObject(a,this.customEditors,"editor");this.copyLegacyObject(a,this.propertyNames,"displayName")},copyLegacyObject:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){a[d]||(a[d]={});a[d][c]=b[d]}},onUpdate:function(a,b,c){if(this.rendered&&c==Ext.data.Model.EDIT){a=b.get(this.valueField);c=b.modified.value;if(this.fireEvent("beforepropertychange",
this.source,b.getId(),a,c)!==false){this.source&&(this.source[b.getId()]=a);b.commit();this.fireEvent("propertychange",this.source,b.getId(),a,c)}else b.reject()}},walkCells:function(a,b,c,d,e,g){b=="left"?b="up":b=="right"&&(b="down");if((a=Ext.view.Table.prototype.walkCells.call(this,a,b,c,d,e,g))&&!a.column)a.column=1;return a},getCellEditor:function(a){var b=a.get(this.nameField),a=a.get(this.valueField),c=this.getConfig(b,"editor"),d=this.getConfig(b,"type"),e=this.editors;if(c){if(!(c instanceof
Ext.grid.CellEditor)){c instanceof Ext.form.field.Base||(c=Ext.ComponentManager.create(c,"textfield"));c=this.setConfig(b,"editor",new Ext.grid.CellEditor({field:c}))}}else if(d)switch(d){case "date":c=e.date;break;case "number":c=e.number;break;case "boolean":c=this.editors["boolean"];break;default:c=e.string}else c=Ext.isDate(a)?e.date:Ext.isNumber(a)?e.number:Ext.isBoolean(a)?e["boolean"]:e.string;c.editorId=b;return c},beforeDestroy:function(){this.callParent();this.destroyEditors(this.editors);
this.destroyEditors(this.customEditors);delete this.source},destroyEditors:function(a){for(var b in a)a.hasOwnProperty(b)&&Ext.destroy(a[b])},setSource:function(a,b){this.source=a;if(b!==void 0){this.sourceConfig=Ext.apply({},b);this.configure(this.sourceConfig)}this.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(a,b,c){this.propStore.setValue(a,b,c)},removeProperty:function(a){this.propStore.remove(a)}},0,["propertygrid"],"panel propertygrid component tablepanel container grid box gridpanel".split(" "),
{panel:!0,propertygrid:!0,component:!0,tablepanel:!0,container:!0,grid:!0,box:!0,gridpanel:!0},["widget.propertygrid"],0,[Ext.grid.property,"Grid",Ext.grid,"PropertyGrid"],0);
Ext.cmd.derive("Ext.grid.property.HeaderContainer",Ext.grid.header.Container,{alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(a,b){this.grid=a;this.store=b;this.callParent([{isRootHeader:true,enableColumnResize:Ext.isDefined(a.enableColumnResize)?a.enableColumnResize:
this.enableColumnResize,enableColumnMove:Ext.isDefined(a.enableColumnMove)?a.enableColumnMove:this.enableColumnMove,items:[{header:this.nameText,width:a.nameColumnWidth||this.nameWidth,sortable:a.sortableColumns,dataIndex:a.nameField,renderer:Ext.Function.bind(this.renderProp,this),itemId:a.nameField,menuDisabled:true,tdCls:this.nameColumnCls,innerCls:this.nameColumnInnerCls},{header:this.valueText,renderer:Ext.Function.bind(this.renderCell,this),getEditor:Ext.Function.bind(this.getCellEditor,this),
sortable:a.sortableColumns,flex:1,fixed:true,dataIndex:a.valueField,itemId:a.valueField,menuDisabled:true}]}])},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,b,c){var d=this.grid,d=d.getConfig(c.get(d.nameField),"renderer"),e=a;if(d)return d.apply(this,arguments);Ext.isDate(a)?e=this.renderDate(a):Ext.isBoolean(a)&&(e=this.renderBool(a));return Ext.util.Format.htmlEncode(e)},renderDate:Ext.util.Format.date,
renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfig(a,"displayName",a)}},1,0,["component","container","box","headercontainer"],{component:!0,container:!0,box:!0,headercontainer:!0},0,0,[Ext.grid.property,"HeaderContainer",Ext.grid,"PropertyColumnModel"],0);
Ext.cmd.derive("Ext.grid.property.Property",Ext.data.Model,{alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"},0,0,0,0,0,0,[Ext.grid.property,"Property",Ext,"PropGridProperty"],0);
Ext.cmd.derive("Ext.grid.property.Store",Ext.data.Store,{alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,constructor:function(a,b){this.grid=a;this.source=b;this.callParent([{data:b,model:Ext.grid.property.Property,proxy:this.getProxy()}])},getProxy:function(){if(!this.proxy)Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()});return this.proxy},getReader:function(){if(!this.reader)Ext.grid.property.Store.prototype.reader=
new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(a){var b,c,d={records:[],success:true};for(c in a)if(a.hasOwnProperty(c)){b=a[c];this.isEditableValue(b)&&d.records.push(new Ext.grid.property.Property({name:c,value:b},c))}d.total=d.count=d.records.length;return new Ext.data.ResultSet(d)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||a===null}});return this.reader},setSource:function(a){this.source=
a;this.suspendEvents();this.removeAll();this.proxy.data=a;this.load();this.resumeEvents();this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,b,c){var d=this.getRec(a);if(d){d.set("value",b);this.source[a]=b}else if(c){this.source[a]=b;d=new Ext.grid.property.Property({name:a,value:b},a);this.add(d)}},remove:function(a){var b=this.getRec(a);if(b){this.callParent([b]);delete this.source[a]}},
getRec:function(a){return this.getById(a)},getSource:function(){return this.source}},1,0,0,0,0,0,[Ext.grid.property,"Store",Ext.grid,"PropertyStore"],0);
Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a,b){var c=this.lastWidthModel,d=this.lastHeightModel,e=this.owner.body;this.callParent(arguments);c&&(c.fixed&&a.widthModel.shrinkWrap)&&e.setWidth(null);d&&(d.fixed&&a.heightModel.shrinkWrap)&&e.setHeight(null)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);a.targetContext!=
a&&(c=c+a.getPaddingInfo().height);return c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.callParent(arguments);a.targetContext!=a&&(c=c+a.getPaddingInfo().width);return c},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height;a.targetContext!=a&&(c=c-a.getPaddingInfo().height);
return a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width;a.targetContext!=a&&(c=c-a.getPaddingInfo().width);a.bodyContext.setWidth(c,!a.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0);
Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){if(a.target.collapsed)a.heightModel=this.sizeModels.shrinkWrap},beginLayoutCycle:function(a){var b=a.target;this.callParent(arguments);if(b.collapsed){a.setContentHeight(0);a.restoreMinHeight=b.minHeight;delete b.minHeight;if(a.widthModel.shrinkWrap){b=b.lastComponentSize;a.setContentWidth(b&&b.contentWidth||this.defaultCollapsedWidth)}}},finishedLayout:function(a){var b=
this.owner,c=a.restoreMinHeight;this.callParent(arguments);if(c)b.minHeight=c},calculateOwnerHeightFromContentHeight:function(a){var b=a.getBorderInfo(),c=a.target.legend;return a.getProp("contentHeight")+a.getPaddingInfo().height+(Ext.isIEQuirks||Ext.isIE8m?a.bodyContext.getPaddingInfo().top:0)+(c?c.getHeight():b.top)+b.bottom},publishInnerHeight:function(a,b){var c=a.target.legend;c&&(b=b-c.getHeight());this.callParent([a,b])},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}},
0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0);
Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1E3,collapseTarget:"next",horizontal:!1,vertical:!1,
size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this.getCollapseTarget();this.callParent();a.collapsed&&this.addCls(this.collapsedClsInternal);this.canResize||this.addCls(this.baseCls+"-noresize");Ext.applyIf(this.renderData,{collapseDir:this.getCollapseDirection(),collapsible:this.collapsible||a.collapsible});this.protoEl.unselectable()},onRender:function(){var a;this.callParent(arguments);if(this.performCollapse!==
false){this.renderData.collapsible&&this.mon(this.collapseEl,"click",this.toggleTargetCmp,this);this.collapseOnDblClick&&this.mon(this.el,"dblclick",this.toggleTargetCmp,this)}this.mon(this.getCollapseTarget(),{collapse:this.onTargetCollapse,expand:this.onTargetExpand,beforeexpand:this.onBeforeTargetExpand,beforecollapse:this.onBeforeTargetCollapse,scope:this});if(this.canResize){this.tracker=Ext.create(this.getTrackerConfig());this.relayEvents(this.tracker,["beforedragstart","dragstart","dragend"])}if(a=
this.collapseEl)a.lastCollapseDirCls=this.collapseDirProps[this.collapseDirection].cls},getCollapseDirection:function(){var a=this.collapseDirection,b,c;if(!a){b=this.collapseTarget;if(b.isComponent)a=b.collapseDirection;if(!a){c=this.ownerCt.layout.type;if(b.isComponent){a=this.ownerCt.items;b=Number(a.indexOf(b)===a.indexOf(this)-1)<<1|Number(c==="hbox")}else b=Number(this.collapseTarget==="prev")<<1|Number(c==="hbox");a=["bottom","right","top","left"][b]}this.collapseDirection=a}this.setOrientation(a===
"top"||a==="bottom"?"horizontal":"vertical");return a},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:this.collapseTarget==="prev"?this.previousSibling():this.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;b&&b.setDisplayed(a)},onBeforeTargetExpand:function(){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},
onTargetExpand:function(){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},
applyCollapseDirection:function(){var a=this.collapseEl,b=this.collapseDirProps[this.collapseDirection],c;if(a){(c=a.lastCollapseDirCls)&&a.removeCls(c);a.addCls(a.lastCollapseDirCls=b.cls)}},applyOrientation:function(){var a=this.orientation,b=this.orientationProps[a],c=this.size,d=b.fixedAxis,e=b.stretchedAxis,g=this.baseCls+"-";this[a]=true;this[b.opposite]=false;if(!this.hasOwnProperty(d)||this[d]==="100%")this[d]=c;if(!this.hasOwnProperty(e)||this[e]===c)this[e]="100%";this.removeCls(g+b.opposite);
this.addCls(g+a)},setOrientation:function(a){if(this.orientation!==a){this.orientation=a;this.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(){var a=this.getCollapseTarget(),b=a.placeholder;if(Ext.isFunction(a.expand)&&Ext.isFunction(a.collapse))(b=b&&!b.hidden?true:!a.hidden)&&(a.collapsed?a.expand():a.collapseDirection?a.collapse():a.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments);
Ext.isIE&&this.el&&this.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}},0,["splitter"],["component","box","splitter"],{component:!0,box:!0,splitter:!0},["widget.splitter"],0,[Ext.resizer,"Splitter"],0);
Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}},0,["bordersplitter"],["bordersplitter","component","box","splitter"],{bordersplitter:!0,component:!0,box:!0,splitter:!0},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0);
Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},
vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d=this.axisProps[c],e=!d.horizontal,g=d.sizeProp,h=0,i=a.childItems,j=i.length,k,l,m,n,p,o,q,r;for(l=0;l<j;++l){m=i[l];p=m.target;m.layoutPos={};if(p.region){m.region=o=p.region;m.isCenter=p.isCenter;m.isHorz=
p.isHorz;m.isVert=p.isVert;m.weight=p.weight||this.regionWeights[o]||0;b[p.id]=m;if(p.isCenter){k=m;n=p.flex;a.centerRegion=k}else if(e===m.isVert){m.reverseWeighting=o==d.borderEnd;o=p[g];r=typeof o;if(!p.collapsed)if(r=="string"&&(q=this.percentageRe.exec(o)))m.percentage=parseInt(q[1],10);else if(p.flex)h=h+(m.flex=p.flex)}}}if(k){a=k.target;if(b=a.placeholderFor){if(!n&&e===b.collapsedVertical()){n=0;k.collapseAxis=c}}else if(a.collapsed&&e===a.collapsedVertical()){n=0;k.collapseAxis=c}}n==null&&
(n=1);return Ext.apply({before:e?"top":"left",totalFlex:h+n},d)},beginLayout:function(a){var b=this.getLayoutItems(),c=this.padding,d=typeof c,e=false,g,h,i;if(c){if(d=="string"||d=="number")c=Ext.util.Format.parseBox(c)}else{c=a.getEl("getTargetEl").getPaddingInfo();e=true}a.outerPad=c;a.padOnContainer=e;d=0;for(c=b.length;d<c;++d){g=b[d];if(e=this.getSplitterTarget(g)){h=void 0;i=!!g.hidden;e.split?i!==e.hidden&&(h=!e.hidden):e.isCollapsingOrExpanding&&(h=!!e.collapsed);h?g.show():h===false&&g.hide()}}this.callParent(arguments);
b=a.childItems;c=b.length;h={};a.borderAxisHorz=this.beginAxis(a,h,"horz");a.borderAxisVert=this.beginAxis(a,h,"vert");for(d=0;d<c;++d){g=b[d];if(e=this.getSplitterTarget(g.target)){i=h[e.id];if(!i){i=a.getEl(e.el,this);i.region=e.region}g.collapseTarget=e=i;g.weight=e.weight;g.reverseWeighting=e.reverseWeighting;e.splitter=g;g.isHorz=e.isHorz;g.isVert=e.isVert}}this.sortWeightedItems(b,"reverseWeighting");this.setupSplitterNeighbors(b)},calculate:function(a){var b=this.getContainerSize(a),c=a.childItems,
d=c.length,e=a.borderAxisHorz,g=a.borderAxisVert,h=a.outerPad,i=a.padOnContainer,j,k;e.begin=h[this.padOnContainerProp];g.begin=h.top;k=e.end=e.flexSpace=b.width+(i?h[this.padOnContainerProp]:-h[this.padNotOnContainerProp]);i=g.end=g.flexSpace=b.height+(i?h.top:-h.bottom);for(b=0;b<d;++b){h=c[b];j=h.getMarginInfo();if(h.isHorz||h.isCenter){e.addUnflexed(j.width);k=k-j.width}if(h.isVert||h.isCenter){g.addUnflexed(j.height);i=i-j.height}if(!h.flex&&!h.percentage)if(h.isHorz||h.isCenter&&h.collapseAxis===
"horz"){j=h.getProp("width");e.addUnflexed(j);h.collapseTarget&&(k=k-j)}else if(h.isVert||h.isCenter&&h.collapseAxis==="vert"){j=h.getProp("height");g.addUnflexed(j);h.collapseTarget&&(i=i-j)}}for(b=0;b<d;++b){h=c[b];h.getMarginInfo();if(h.percentage)if(h.isHorz){j=Math.ceil(k*h.percentage/100);j=h.setWidth(j);e.addUnflexed(j)}else if(h.isVert){j=Math.ceil(i*h.percentage/100);j=h.setHeight(j);g.addUnflexed(j)}}for(b=0;b<d;++b){h=c[b];if(!h.isCenter){this.calculateChildAxis(h,e);this.calculateChildAxis(h,
g)}}this.finishAxis(a,g)+this.finishAxis(a,e)<2?this.done=false:this.finishPositions(c)},calculateChildAxis:function(a,b){var c=a.collapseTarget,d="set"+b.sizePropCap,e=b.sizeProp,g=a.getMarginInfo()[e],h,i;if(c)h=c.region;else{h=a.region;i=a.flex}c=h==b.borderBegin;if(!c&&h!=b.borderEnd){a[d](b.end-b.begin-g);d=b.begin}else{if(i){e=Math.ceil(b.flexSpace*(i/b.totalFlex));e=a[d](e)}else e=a.percentage?a.peek(e):a.getProp(e);e=e+g;if(c){d=b.begin;b.begin=b.begin+e}else b.end=d=b.end-e}a.layoutPos[b.posProp]=
d},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;if(d){d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]);d.layoutPos[b.posProp]=b.begin}return Ext.isNumber(c)?1:0},finishPositions:function(a){var b=a.length,c,d,e=this.horzMarginProp;for(c=0;c<b;++c){d=a[c];d.setProp("x",d.layoutPos.x+d.marginInfo[e]);d.setProp("y",d.layoutPos.y+d.marginInfo.top)}},getLayoutItems:function(){for(var a=this.owner,a=a&&a.items&&a.items.items||[],b=a.length,c=[],d=0,e,g;d<b;d++){e=a[d];g=e.placeholderFor;
(e.hidden||(!e.floated||e.isCollapsingOrExpanding===2)&&!(g&&g.isCollapsingOrExpanding===2))&&c.push(e)}return c},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(a){return(a=a.collapseTarget)&&a.collapsed?a.placeholder||a:a},isItemBoxParent:function(){return true},isItemShrinkWrap:function(){return true},insertSplitter:function(a,b,c,d){var e=a.region,c=Ext.apply({xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:a.splitterResize!==
false,splitterFor:a},d);if(a.collapseMode==="mini")c.collapsedCls=a.collapsedCls;a.splitter=this.owner.add(b+(e==="south"||e==="east"?0:1),c)},onAdd:function(a,b){var c=a.placeholderFor,d=a.region,e;this.callParent(arguments);if(d){Ext.apply(a,this.regionFlags[d]);a.initBorderRegion&&a.initBorderRegion();if(d==="center")this.centerRegion=a;else{c=a.split;d=!!a.hidden;if(typeof c==="object"){e=c;c=true}if((a.isHorz||a.isVert)&&(c||a.collapseMode=="mini"))this.insertSplitter(a,b,d||!c,e)}if(!a.hasOwnProperty("collapseMode"))a.collapseMode=
this.panelCollapseMode;if(!a.hasOwnProperty("animCollapse"))a.animCollapse=a.collapseMode!=="placeholder"?false:this.panelCollapseAnimate}else if(c){Ext.apply(a,this.regionFlags[c.region]);a.region=c.region;a.weight=c.weight}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a){var b=a.splitter;if(a.region){if(a.isCenter)this.centerRegion=null;delete a.isCenter;delete a.isHorz;delete a.isVert;if(b){this.owner.doRemove(b,true);delete a.splitter}}this.callParent(arguments)},
regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(a){var b={},c=a.length,
d=this.touchedRegions,e,g,h,i,j,k,l,m;for(e=0;e<c;++e){k=a[e].target;l=k.region;if(k.isCenter)h=k;else if(l){m=d[l];g=0;for(i=m.length;g<i;++g)(j=b[m[g]])&&j.neighbors.push(k);if(g=k.placeholderFor?k.placeholderFor.splitter:k.splitter)g.neighbors=[];b[l]=g}}if(h){m=d.center;g=0;for(i=m.length;g<i;++g)(j=b[m[g]])&&j.neighbors.push(h)}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north",
"south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b=this.sizePolicies,c,d;if(a.isCenter)return(c=a.placeholderFor)?c.collapsedVertical()?b.vert:b.horz:a.collapsed?a.collapsedVertical()?b.vert:b.horz:b.flexAll;if(c=a.collapseTarget)return c.isVert?b.vert:b.horz;if(a.region){if(a.isVert){c=a.height;d=b.vert}else{c=
a.width;d=b.horz}return a.flex||typeof c=="string"&&this.percentageRe.test(c)?b.flexAll:d}return this.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.define("ExtThemeNeptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});
Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var a=this.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&a.fireEvent("beforeactivate",a)===false)a=this.activeItem=this.owner.activeItem=null;else if(a.hasListeners.activate)a.on({boxready:function(){a.fireEvent("activate",a)},single:true});if(this.deferredRender){if(a)return this.getItemsRenderTree([a])}else return this.callParent(arguments)}},
renderChildren:function(){var a=this.getActiveItem();this.deferredRender?a&&this.renderItems([a],this.getRenderTarget()):this.callParent()},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return c&&c.parentNode===(b.dom||b)||false},getActiveItem:function(){var a=this.parseActiveItem(this.activeItem||this.owner&&this.owner.activeItem);return this.activeItem=a&&this.owner.items.indexOf(a)!=-1?a:null},parseActiveItem:function(a){return a&&a.isComponent?a:typeof a=="number"||a===void 0?
this.getLayoutItems()[a||0]:this.owner.getComponent(a)},configureItem:function(a){a.hidden=a===this.getActiveItem()?false:true;this.callParent(arguments)},onRemove:function(a){if(a===this.activeItem)this.activeItem=null},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;return c===false?false:c||b.cardSwitchAnimation},getNext:function(a){var b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c+1]||(a?b[0]:false)},next:function(a,b){return this.setActiveItem(this.getNext(b),
a)},getPrev:function(a){var b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c-1]||(a?b[b.length-1]:false)},prev:function(a,b){return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var b=this.owner,c=this.activeItem,d=b.rendered,a=this.parseActiveItem(a);if(b.items.indexOf(a)==-1){Ext.suspendLayouts();a=b.add(a);Ext.resumeLayouts()}if(a&&c!=a){if(a.fireEvent("beforeactivate",a,c)===false||c&&c.fireEvent("beforedeactivate",c,a)===false)return false;if(d){Ext.suspendLayouts();
a.rendered||this.renderItem(a,this.getRenderTarget(),b.items.length);if(c){if(this.hideInactive){c.hide();c.hiddenByLayout=true}c.fireEvent("deactivate",c,a)}a.hidden&&a.show();if(!a.hidden)this.activeItem=a;Ext.resumeLayouts(true)}else this.activeItem=a;a.fireEvent("activate",a,c);return this.activeItem}return false}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0);
Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',
' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',
"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){if(!this.activated&&this.canActivate&&this.rendered&&!this.isDisabled()&&this.isVisible()){this.el.addCls(this.activeCls);this.focus();this.activated=true;this.fireEvent("activate",this)}},getFocusEl:function(){return this.itemEl},deactivate:function(){if(this.activated){this.el.removeCls(this.activeCls);
this.blur();this.hideMenu();this.activated=false;this.fireEvent("deactivate",this)}},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement())(a=this.up(":not([hidden])"))&&a.focus()},expandMenu:function(a){if(this.menu){this.cancelDeferHide();if(a===0)this.doExpandMenu();else{clearTimeout(this.expandMenuTimer);this.expandMenuTimer=
Ext.defer(this.doExpandMenu,Ext.isNumber(a)?a:this.menuExpandDelay,this)}}},doExpandMenu:function(){var a=this.menu;if(this.activated&&(!a.rendered||!a.isVisible())){this.parentMenu.activeChild=a;a.parentItem=this;a.parentMenu=this.parentMenu;a.showBy(this,this.menuAlign)}},getRefItems:function(a){var b=this.menu,c;if(b){c=b.getRefItems(a);c.unshift(b)}return c||[]},hideMenu:function(a){if(this.menu){clearTimeout(this.expandMenuTimer);this.hideMenuTimer=Ext.defer(this.deferHideMenu,Ext.isNumber(a)?
a:this.menuHideDelay,this)}},initComponent:function(){var a=Ext.baseCSSPrefix,b=[a+"menu-item"];this.addEvents("activate","click","deactivate","textchange","iconchange");this.plain&&b.push(a+"menu-item-plain");this.cls&&b.push(this.cls);this.cls=b.join(" ");if(this.menu){a=this.menu;delete this.menu;this.setMenu(a)}this.callParent(arguments)},onClick:function(a){var b=this.clickHideDelay;this.href||a.stopEvent();if(!this.disabled){if(this.hideOnClick)b?this.deferHideParentMenusTimer=Ext.defer(this.deferHideParentMenus,
b,this):this.deferHideParentMenus();Ext.callback(this.handler,this.scope||this,[this,a]);this.fireEvent("click",this,a);this.hideOnClick||this.focus()}},onRemoved:function(){this.activated&&this.parentMenu.activeItem===this&&this.parentMenu.deactivateActiveItem();this.callParent(arguments);this.parentMenu=this.ownerButton=null},beforeDestroy:function(){this.rendered&&this.clearTip();this.callParent()},onDestroy:function(){clearTimeout(this.expandMenuTimer);this.cancelDeferHide();clearTimeout(this.deferHideParentMenusTimer);
this.setMenu(null);this.callParent(arguments)},beforeRender:function(){var a=Ext.BLANK_IMAGE_URL,b=this.glyph,c=Ext._glyphFontFamily,d,e;this.callParent();if(this.iconAlign==="right"){d=this.checkChangeDisabled?this.disabledCls:"";e=Ext.baseCSSPrefix+"menu-item-icon-right "+this.iconCls}else{d=(this.iconCls||"")+(this.checkChangeDisabled?" "+this.disabledCls:"");e=this.menu?this.arrowCls:""}if(typeof b==="string"){c=b.split("@");b=c[0];c=c[1]}Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,
icon:this.icon,iconCls:d,glyph:b,glyphCls:b?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:c,hasIcon:!(!this.icon&&!this.iconCls&&!b),iconAlign:this.iconAlign,plain:this.plain,text:this.text,arrowCls:e,blank:a,tabIndex:this.tabIndex})},onRender:function(){this.callParent(arguments);this.tooltip&&this.setTooltip(this.tooltip,true)},setMenu:function(a,b){var c=this.menu,d=this.arrowEl;if(c){delete c.parentItem;delete c.parentMenu;delete c.ownerItem;(b===true||b!==false&&this.destroyMenu)&&
Ext.destroy(c)}if(a){this.menu=Ext.menu.Manager.get(a);this.menu.ownerItem=this}else this.menu=null;if(this.rendered&&!this.destroying&&d)d[this.menu?"addCls":"removeCls"](this.arrowCls)},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;if(b)b.src=a||Ext.BLANK_IMAGE_URL;this.icon=a;this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var b=this.iconEl,c=this.iconCls;if(b){this.iconCls&&b.removeCls(this.iconCls);a&&b.addCls(a)}this.iconCls=
a;this.fireEvent("iconchange",this,c,a)},setText:function(a){var b=this.textEl||this.el,c=this.text;this.text=a;if(this.rendered){b.update(a||"");this.ownerCt.updateLayout()}this.fireEvent("textchange",this,c,a)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(a,b){if(this.rendered){b||this.clearTip();if(Ext.quickTipsActive&&Ext.isObject(a)){Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},
a));this.tooltip=a}else this.itemEl.dom.setAttribute(this.getTipAttr(),a)}else this.tooltip=a;return this}},0,["menuitem"],["component","menuitem","box"],{component:!0,menuitem:!0,box:!0},["widget.menuitem"],[["queryable",Ext.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0);
Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+
Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>',
'<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+
'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){this.checked=!!this.checked;this.addEvents("beforecheckchange","checkchange");this.callParent(arguments);Ext.menu.Manager.registerCheckable(this);if(this.group){this.showCheckbox=false;if(!this.iconCls&&!this.icon&&!this.glyph)this.iconCls=this.groupCls;if(this.initialConfig.hideOnClick!==false)this.hideOnClick=
true}},beforeRender:function(){this.callParent();this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){this.callParent();this.checked=!this.checked;this.setChecked(!this.checked,true);this.checkChangeDisabled&&this.disableCheckChange()},disableCheckChange:function(){var a=this.checkEl;a&&a.addCls(this.disabledCls);!(Ext.isIE10p||Ext.isIE9&&Ext.isStrict)&&this.rendered&&this.el.repaint();this.checkChangeDisabled=true},enableCheckChange:function(){var a=this.checkEl;a&&a.removeCls(this.disabledCls);
this.checkChangeDisabled=false},onClick:function(a){!this.disabled&&(!this.checkChangeDisabled&&(!this.checked||!this.group))&&this.setChecked(!this.checked);this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(a,b){if(this.checked!==a&&(b||this.fireEvent("beforecheckchange",this,a)!==false)){if(this.el)this.el[a?"addCls":"removeCls"](this.checkedCls)[!a?"addCls":"removeCls"](this.uncheckedCls);this.checked=a;Ext.menu.Manager.onCheckChange(this,
a);if(!b){Ext.callback(this.checkHandler,this.scope,[this,a]);this.fireEvent("checkchange",this,a)}}}},0,["menucheckitem"],["component","menucheckitem","menuitem","box"],{component:!0,menucheckitem:!0,menuitem:!0,box:!0},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0);
Ext.cmd.derive("Ext.menu.KeyNav",Ext.util.KeyNav,{constructor:function(a){this.menu=a.target;this.callParent([Ext.apply({down:this.down,enter:this.enter,esc:this.escape,left:this.left,right:this.right,space:this.enter,tab:this.tab,up:this.up},a)])},down:function(a){var b=this.menu.focusedItem;if(b&&a.getKey()==Ext.EventObject.DOWN&&this.isWhitelisted(b))return true;this.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem)b.onClick(a);else if(c&&c.isFormField)return true},
escape:function(){Ext.menu.Manager.hideAll()},focusNextItem:function(a){for(var b=this.menu,c=b.items,d=b.focusedItem,d=d?c.indexOf(d):-1,e=d+a,g=c.length,h=0,i;h<g&&e!==d;){e<0?e=g-1:e>=g&&(e=0);i=c.getAt(e);if(b.canActivateItem(i)){b.setActiveItem(i);break}e=e+a;++h}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(){var a=this.menu,b=a.focusedItem;if(b&&this.isWhitelisted(b))return true;a.hide();a.parentMenu&&a.parentMenu.focus()},right:function(){var a=this.menu,
b=a.focusedItem,c=a.activeItem;if(b&&this.isWhitelisted(b))return true;if(c)if(a=a.activeItem.menu){c.expandMenu(0);a.setActiveItem(a.child(":focusable"))}},tab:function(a){a.shiftKey?this.up(a):this.down(a)},up:function(a){var b=this.menu.focusedItem;if(b&&a.getKey()==Ext.EventObject.UP&&this.isWhitelisted(b))return true;this.focusNextItem(-1)}},1,0,0,0,0,0,[Ext.menu,"KeyNav"],0);
Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(){this.callParent();this.addCls(this.separatorCls)}},0,["menuseparator"],["component","menuseparator","menuitem","box"],{component:!0,menuseparator:!0,menuitem:!0,box:!0},["widget.menuseparator"],0,[Ext.menu,"Separator"],0);
Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var a=Ext.baseCSSPrefix,b=[a+"menu"],c=this.bodyCls?[this.bodyCls]:[],d=this.floating!==false;this.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(this);this.plain&&b.push(a+"menu-plain");this.cls=b.join(" ");
c.push(a+"menu-body",Ext.dom.Element.unselectableCls);this.bodyCls=c.join(" ");if(!this.layout)this.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"};if(d){if(this.minWidth===void 0)this.minWidth=this.defaultMinWidth}else{this.hidden=!!this.initialConfig.hidden;this.constrain=false}this.callParent(arguments)},registerWithOwnerCt:function(){if(this.floating){this.ownerCt=null;Ext.WindowManager.register(this)}},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},
getHierarchyState:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap)this.layout.align="stretch"},onBoxReady:function(){this.callParent(arguments);if(this.showSeparator)this.iconSepEl=this.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"});this.mon(this.el,{click:this.onClick,mouseover:this.onMouseOver,scope:this});this.mouseMonitor=this.el.monitorMouseLeave(100,
this.onMouseLeave,this);if(this.enableKeyNav)this.keyNav=new Ext.menu.KeyNav({target:this,keyMap:this.getKeyMap()})},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(a){var b=this.activeItem,c=this.focusedItem;if(b){b.deactivate();b.activated||delete this.activeItem}if(c&&a){c.blur();delete this.focusedItem}},
getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){typeof a=="string"?a=this.lookupItemFromString(a):Ext.isObject(a)&&(a=this.lookupItemFromObject(a));a.minWidth=a.minWidth||this.minWidth;return a},lookupItemFromObject:function(a){var b=Ext.baseCSSPrefix,c;a.isComponent||(a=a.xtype?Ext.ComponentManager.create(a,a.xtype):
Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a));if(a.isMenuItem)a.parentMenu=this;if(!a.isMenuItem&&!a.dock){c=[b+"menu-item-cmp"];!this.plain&&(a.indent!==false||a.iconCls==="no-icon")&&c.push(b+"menu-item-indent");a.rendered?a.el.addCls(c):a.cls=(a.cls||"")+" "+c.join(" ")}return a},lookupItemFromString:function(a){return a=="separator"||a=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},onClick:function(a){var b;if(this.disabled)a.stopEvent();
else{if((b=a.type==="click"?this.getItemFromEvent(a):this.activeItem)&&b.isMenuItem)if(!b.menu||!this.ignoreParentClicks)b.onClick(a);else a.stopEvent();if(!b||b.disabled)b=void 0;this.fireEvent("click",this,b,a)}},onDestroy:function(){Ext.menu.Manager.unregister(this);this.parentMenu=this.ownerButton=null;if(this.rendered){this.el.un(this.mouseMonitor);Ext.destroy(this.keyNav);this.keyNav=null}this.callParent(arguments)},onMouseLeave:function(a){this.deactivateActiveItem();this.disabled||this.fireEvent("mouseleave",
this,a)},onMouseOver:function(a){var b=!this.el.contains(a.getRelatedTarget()),c=this.getItemFromEvent(a),d=this.parentMenu,e=this.parentItem;if(b&&d){d.setActiveItem(e);e.cancelDeferHide();d.mouseMonitor.mouseenter()}if(!this.disabled){if(c&&!c.activated){this.setActiveItem(c);c.activated&&c.expandMenu&&c.expandMenu()}b&&this.fireEvent("mouseenter",this,a);this.fireEvent("mouseover",this,c,a)}},setActiveItem:function(a){if(a&&a!=this.activeItem){this.deactivateActiveItem();if(this.canActivateItem(a))if(a.activate){a.activate();
if(a.activated){this.focusedItem=this.activeItem=a;this.focus()}}else{a.focus();this.focusedItem=a}a.el.scrollIntoView(this.layout.getRenderTarget())}},showBy:function(a,b,c){this.callParent(arguments);this.hidden||this.setVerticalPosition();return this},beforeShow:function(){var a;if(this.floating){this.savedMaxHeight=this.maxHeight;a=this.container.getViewSize().height;this.maxHeight=Math.min(this.maxHeight||a,a)}this.callParent(arguments)},afterShow:function(){this.callParent(arguments);if(this.floating)this.maxHeight=
this.savedMaxHeight},setVerticalPosition:function(){var a,b=this.getY(),c=b,d=this.getHeight(),e=Ext.Element.getViewportHeight().height;a=this.el.parent();var g=a.getViewSize().height,h=b-a.getScroll().top;if(this.floating){a=this.maxHeight?this.maxHeight:g-h;d>g?c=b-h:a<d?c=b-(d-a):b+d>e&&(c=e-d)}this.setY(c)}},0,["menu"],["panel","component","container","menu","box"],{panel:!0,component:!0,container:!0,menu:!0,box:!0},["widget.menu"],0,[Ext.menu,"Menu"],0);
Ext.define("ExtThemeNeptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:!1});Ext.define("ExtThemeNeptune.menu.Separator",{override:"Ext.menu.Separator",border:!0});
Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){this.addEvents("click");
this.type=this.type||this.id;Ext.applyIf(this.renderData,{baseCls:this.baseCls,blank:Ext.BLANK_IMAGE_URL,type:this.type});this.tooltip=this.tooltip||this.qtip;this.callParent()},afterRender:function(){var a;this.callParent(arguments);this.el.on({click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});if(this.tooltip)if(Ext.quickTipsActive&&Ext.isObject(this.tooltip))Ext.tip.QuickTipManager.register(Ext.apply({target:this.id},this.tooltip));else{a=
this.tooltipType=="qtip"?"data-qtip":"title";this.el.dom.setAttribute(a,this.tooltip)}},getFocusEl:function(){return this.el},setType:function(a){var b=this.type;this.type=a;if(this.rendered){b&&this.toolEl.removeCls(this.baseCls+"-"+b);this.toolEl.addCls(this.baseCls+"-"+a)}else this.renderData.type=a;return this},onClick:function(a,b){if(this.disabled)return false;this.el.removeCls(this.toolPressedCls);this.el.removeCls(this.toolOverCls);this.stopEvent!==false&&a.stopEvent();this.handler?Ext.callback(this.handler,
this.scope||this,[a,b,this.ownerCt,this]):this.callback&&Ext.callback(this.callback,this.scope||this,[this.toolOwner||this.ownerCt,this,a]);this.fireEvent("click",this,a);return true},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id);this.callParent()},onMouseDown:function(){if(this.disabled)return false;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return false;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}},
0,["tool"],["component","tool","box"],{component:!0,tool:!0,box:!0},["widget.tool"],0,[Ext.panel,"Tool"],0);Ext.define("ExtThemeNeptune.panel.Tool",{override:"Ext.panel.Tool",height:16,width:16});
Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},
onBeforeStart:function(a){var b=this.getPrevCmp(),c=this.getNextCmp(),d=this.getSplitter().collapseEl,a=a.getTarget();if(!b||!c||d&&a===this.getSplitter().collapseEl.dom||c.collapsed||b.collapsed)return false;this.prevBox=b.getEl().getBox();this.nextBox=c.getEl().getBox();this.constrainTo=b=this.calculateConstrainRegion();return!b?false:b},onStart:function(){var a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var a=this.getSplitter(),
b=a.getWidth(),c=a.defaultSplitMin,d=a.orientation,a=this.prevBox,e=this.getPrevCmp(),g=this.nextBox,h=this.getNextCmp();if(d==="vertical"){b={prevCmp:e,nextCmp:h,prevBox:a,nextBox:g,defaultMin:c,splitWidth:b};d=new Ext.util.Region(a.y,this.getVertPrevConstrainRight(b),a.bottom,this.getVertPrevConstrainLeft(b));b=new Ext.util.Region(g.y,this.getVertNextConstrainRight(b),g.bottom,this.getVertNextConstrainLeft(b))}else{d=new Ext.util.Region(a.y+(e.minHeight||c),a.right,(e.maxHeight?a.y+e.maxHeight:
g.bottom-(h.minHeight||c))+b,a.x);b=new Ext.util.Region((h.maxHeight?g.bottom-h.maxHeight:a.y+(e.minHeight||c))-b,g.right,g.bottom-(h.minHeight||c),g.x)}return d.intersect(b)},performResize:function(a,b){for(var c=this.getSplitter(),d=c.orientation,e=this.getPrevCmp(),g=this.getNextCmp(),c=c.ownerCt,h=c.query(">[flex]"),i=h.length,d=d==="vertical",j=0,k=d?"width":"height",l,m;j<i;j++){l=h[j];m=d?l.getWidth():l.getHeight();l.flex=m}b=d?b[0]:b[1];if(e){m=this.prevBox[k]+b;e.flex?e.flex=m:e[k]=m}if(g){m=
this.nextBox[k]-b;g.flex?g.flex=m:g[k]=m}c.updateLayout()},endDrag:function(){if(this.overlay){this.overlay.remove();delete this.overlay}this.callParent(arguments)},onEnd:function(a){var b=this.getSplitter();b.removeCls(b.baseCls+"-active");this.performResize(a,this.getResizeOffset())},onDrag:function(){var a=this.getOffset("dragTarget"),b=this.getSplitter(),c=b.getEl();b.orientation==="vertical"?c.setX(this.startRegion.left+a[0]):c.setY(this.startRegion.top+a[1])},getSplitter:function(){return this.splitter},
getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},
getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0);
Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a=this.splitter,b=a.collapseTarget,c=a.defaultSplitMin,d=a.vertical?"Width":"Height",e="min"+d,g="max"+d,d="get"+d,h=a.neighbors,i=h.length,j=b.el.getBox(),k=j.x,l=j.y,m=j.right,j=j.bottom,n=a.vertical?m-k:j-l,p,o,q,r,t;q=(b[e]||Math.min(n,c))-n;b=(b=b[g])?b-n:1E9;t=n;for(p=0;p<i;++p){o=h[p];n=o[d]();r=n-o[g];n=n-(o[e]||Math.min(n,c));isNaN(r)||q<
r&&(q=r);b>n&&(b=n)}if(b-q<2)return null;j=new Ext.util.Region(l,m,j,k);this.constraintAdjusters[this.getCollapseDirection()](j,q,b,a);this.dragInfo={minRange:q,maxRange:b,targetSize:t};return j},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right=a.right+(c+d.getWidth())},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom=a.bottom+(c+d.getHeight())},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top=a.top-(c+d.getHeight())},right:function(a,b,c,d){a.right=a.left-b;a[0]=
a.x=a.left=a.x-c+d.getWidth()}},onBeforeStart:function(a){var b=this.splitter,c=b.collapseTarget,d=b.neighbors,e=this.getSplitter().collapseEl,g=a.getTarget(),a=d.length;if(e&&g===b.collapseEl.dom||c.collapsed)return false;for(b=0;b<a;++b){e=d[b];if(e.collapsed&&e.isHorz===c.isHorz)return false}return!(this.constrainTo=this.calculateConstrainRegion())?false:true},performResize:function(a,b){var c=this.splitter,d=c.getCollapseDirection(),e=c.collapseTarget,g=this.splitAdjusters[c.vertical?"horz":"vert"],
h=b[g.index],i=this.dragInfo;if(d=="right"||d=="bottom")h=-h;if(h=Math.min(Math.max(i.minRange,h),i.maxRange)){(c=c.ownerCt).suspendLayouts();g.adjustTarget(e,i.targetSize,h);c.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(void 0,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0);
Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b=this,c,d,e;if(!a.el)b.el=a.target.isComponent?a.target.getEl():a.target;this.callParent(arguments);if(b.preserveRatio&&b.minWidth&&b.minHeight){c=b.minWidth/b.el.getWidth();d=b.minHeight/b.el.getHeight();d>c?b.minWidth=b.el.getWidth()*d:b.minHeight=b.el.getHeight()*c}if(b.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,
arguments)},b.throttle);b.resize=function(a,c,d){d?Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments):e.apply(null,arguments)}}},onBeforeStart:function(){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this.target;if(this.dynamic)return a;if(!this.proxy)this.proxy=this.createProxy(a);this.proxy.show();return this.proxy},createProxy:function(a){var b=this.proxyCls,a=a.isComponent?a.getProxy().addCls(b):a.createProxy({tag:"div",cls:b,id:a.id+"-rzproxy"},Ext.getBody());
a.removeCls(Ext.baseCSSPrefix+"proxy-el");return a},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id);this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(a,b){var c=this.activeResizeHandle.region,d=this.getOffset(this.constrainTo?"dragTarget":null),e=this.startBox,g,h=0,i=0,j,k,l=g=0,m,n=d[0]<0?"right":"left",p=d[1]<0?"down":"up",o,c=this.convertRegionName(c);
switch(c){case "south":i=d[1];o=2;break;case "north":i=-d[1];l=-i;o=2;break;case "east":h=d[0];o=1;break;case "west":h=-d[0];g=-h;o=1;break;case "northeast":i=-d[1];l=-i;h=d[0];m=[e.x,e.y+e.height];o=3;break;case "southeast":i=d[1];h=d[0];m=[e.x,e.y];o=3;break;case "southwest":h=-d[0];g=-h;i=d[1];m=[e.x+e.width,e.y];o=3;break;case "northwest":i=-d[1];l=-i;h=-d[0];g=-h;m=[e.x+e.width,e.y+e.height];o=3}d={width:e.width+h,height:e.height+i,x:e.x+g,y:e.y+l};j=Ext.Number.snap(d.width,this.widthIncrement);
k=Ext.Number.snap(d.height,this.heightIncrement);if(j!=d.width||k!=d.height){switch(c){case "northeast":d.y=d.y-(k-d.height);break;case "north":d.y=d.y-(k-d.height);break;case "southwest":d.x=d.x-(j-d.width);break;case "west":d.x=d.x-(j-d.width);break;case "northwest":d.x=d.x-(j-d.width);d.y=d.y-(k-d.height)}d.width=j;d.height=k}if(d.width<this.minWidth||d.width>this.maxWidth){d.width=Ext.Number.constrain(d.width,this.minWidth,this.maxWidth);if(g)d.x=e.x+(e.width-d.width)}else this.lastX=d.x;if(d.height<
this.minHeight||d.height>this.maxHeight){d.height=Ext.Number.constrain(d.height,this.minHeight,this.maxHeight);if(l)d.y=e.y+(e.height-d.height)}else this.lastY=d.y;if(this.preserveRatio||a.shiftKey){g=this.startBox.width/this.startBox.height;l=Math.min(Math.max(this.minHeight,d.width/g),this.maxHeight);j=Math.min(Math.max(this.minWidth,d.height*g),this.maxWidth);if(o==1)d.height=l;else if(o==2)d.width=j;else{m=Math.abs(m[0]-this.lastXY[0])/Math.abs(m[1]-this.lastXY[1]);m>g?d.height=l:d.width=j;if(c==
"northeast")d.y=e.y-(d.height-e.height);else if(c=="northwest"){d.y=e.y-(d.height-e.height);d.x=e.x-(d.width-e.width)}else if(c=="southwest")d.x=e.x-(d.width-e.width)}}i===0&&(p="none");h===0&&(n="none");this.resize(d,{horizontal:n,vertical:p},b)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(a,b,c){this.getResizeTarget(c).setBox(a);this.originalTarget&&(this.dynamic||c)&&this.originalTarget.setBox(a)},onEnd:function(a){this.updateDimensions(a,true);this.proxy&&
this.proxy.hide()},convertRegionName:function(a){return a}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0);
Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1E4,maxWidth:1E4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",
s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(a,b){var c;c=this.handles;var d,e,g,h=0,i,j=[],k,l,m=Ext.dom.Element.unselectableCls;this.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(a)||Ext.isElement(a)||a.dom){c=a;a=b||{};a.target=c}this.mixins.observable.constructor.call(this,a);if(c=this.target)if(c.isComponent){c.addClsWithUI("resizable");this.el=c.getEl();if(c.minWidth)this.minWidth=c.minWidth;if(c.minHeight)this.minHeight=
c.minHeight;if(c.maxWidth)this.maxWidth=c.maxWidth;if(c.maxHeight)this.maxHeight=c.maxHeight;if(c.floating&&!this.hasOwnProperty("handles"))this.handles="n ne e se s sw w nw"}else this.el=this.target=Ext.get(c);else this.target=this.el=Ext.get(this.el);c=this.el.dom.tagName.toUpperCase();if(c=="TEXTAREA"||c=="IMG"||c=="TABLE"){this.originalTarget=this.target;c=this.el;d=c.getBox();this.target=this.el=this.el.wrap({cls:this.wrapCls,id:this.el.id+"-rzwrap",style:c.getStyles("margin-top","margin-bottom")});
this.el.setPositioning(c.getPositioning());c.clearPositioning();this.el.setBox(d);c.setStyle("position","absolute")}this.el.position();this.pinned&&this.el.addCls(this.pinnedCls);this.resizeTracker=new Ext.resizer.ResizeTracker({disabled:this.disabled,target:this.target,constrainTo:this.constrainTo,overCls:this.overCls,throttle:this.throttle,originalTarget:this.originalTarget,delegate:"."+this.handleCls,dynamic:this.dynamic,preserveRatio:this.preserveRatio,heightIncrement:this.heightIncrement,widthIncrement:this.widthIncrement,
minHeight:this.minHeight,maxHeight:this.maxHeight,minWidth:this.minWidth,maxWidth:this.maxWidth});this.resizeTracker.on({mousedown:this.onBeforeResize,drag:this.onResize,dragend:this.onResizeEnd,scope:this});if(this.handles=="all")this.handles="n s e w ne nw se sw";c=this.handles=this.handles.split(this.delimiterRe);e=this.possiblePositions;g=c.length;d=this.handleCls+" "+this.handleCls+"-{0}";if(this.target.isComponent){i=this.target.baseCls;d=d+(" "+i+"-handle "+i+"-handle-{0}");Ext.supports.CSS3BorderRadius&&
(d=d+(" "+i+"-handle-{0}-br"))}for(k=Ext.isIE6?' style="height:'+this.el.getHeight()+'px"':"";h<g;h++)if(c[h]&&e[c[h]]){i=e[c[h]];l=i==="east"||i==="west"?k:"";j.push('<div id="',this.el.id,"-",i,'-handle"',' class="',Ext.String.format(d,i)," ",m,'"',' unselectable="on"',l,"></div>")}Ext.DomHelper.append(this.el,j.join(""));for(h=0;h<g;h++)if(c[h]&&e[c[h]]){i=e[c[h]];this[i]=this.el.getById(this.el.id+"-"+i+"-handle");this[i].region=i;this.transparent&&this[i].setOpacity(0)}if(Ext.isNumber(this.width))this.width=
Ext.Number.constrain(this.width,this.minWidth,this.maxWidth);if(Ext.isNumber(this.height))this.height=Ext.Number.constrain(this.height,this.minHeight,this.maxHeight);if(this.width!==null||this.height!==null){if(this.originalTarget){this.originalTarget.setWidth(this.width);this.originalTarget.setHeight(this.height)}this.resizeTo(this.width,this.height)}this.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,
b){var c=this.el.getBox();return this.fireEvent("beforeresize",this,c.width,c.height,b)},onResize:function(a,b){var c=this.el.getBox();this.forceHandlesHeight();return this.fireEvent("resizedrag",this,c.width,c.height,b)},onResizeEnd:function(a,b){var c=this.el.getBox();this.forceHandlesHeight();return this.fireEvent("resize",this,c.width,c.height,b)},resizeTo:function(a,b){this.target.setSize(a,b);this.fireEvent("resize",this,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},
destroy:function(){var a,b=this.handles,c=b.length,d=this.possiblePositions,e;this.resizeTracker.destroy();for(a=0;a<c;a++)(e=this[d[b[a]]])&&e.remove()},forceHandlesHeight:function(){var a;if(Ext.isIE6){(a=this.east)&&a.setHeight(this.el.getHeight());(a=this.west)&&a.setHeight(this.el.getHeight());this.el.repaint()}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0);
Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.Model,{isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=a.ownerCt;this.primaryView=a;this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true);a.on({cellmousedown:this.onMouseDown,refresh:this.onViewRefresh,scope:this});if(b.optimizedColumnMove!==false)b.on("columnmove",this.onColumnMove,
this);this.enableKeyNav&&this.initKeyNav(a)},initKeyNav:function(a){if(a.rendered){a.el.set({tabIndex:-1});this.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,tab:this.onKeyTab,scope:this})}else a.on("render",Ext.Function.bind(this.initKeyNav,this,[a],0),this,{single:true})},getHeaderCt:function(){var a=this.getCurrentPosition();return(a?a.view:this.primaryView).headerCt},onKeyUp:function(a){this.doMove("up",
a)},onKeyDown:function(a){this.doMove("down",a)},onKeyLeft:function(a){this.doMove("left",a)},onKeyRight:function(a){this.doMove("right",a)},doMove:function(a,b){this.keyNavigation=true;this.move(a,b);this.keyNavigation=false},onVetoUIEvent:Ext.emptyFn,select:function(a,b,c){var b=this.getCurrentPosition(),d=this.view.store;if(a||a===0)if(a.isModel){a=d.indexOf(a);a=a!==-1?{row:a,column:b?b.column:0}:null}else typeof a==="number"&&(a={row:a,column:0});a?this.selectByPosition(a,c):this.deselect()},
deselect:function(a,b){this.selectByPosition(null,b)},move:function(a,b){var c=this.getCurrentPosition(),d;if(c)if(d=c.view.walkCells(c,a,b,this.preventWrap)){d.view=c.view;return this.setCurrentPosition(d)}},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(a,b){var c=this.selection;if(this.lastSelection=c)if(a&&a.record===c.record&&a.columnHeader===c.columnHeader&&a.view===c.view)a=null;else this.onCellDeselect(this.selection,b);if(a){this.nextSelection=
(new Ext.grid.CellContext(this.primaryView)).setPosition(a);this.selecting=true;this.onCellSelect(this.nextSelection,b);this.selecting=false;return this.selection=this.nextSelection}},isCellSelected:function(a,b,c){var d=this.getCurrentPosition();if(d&&d.view===a){a=(new Ext.grid.CellContext(a)).setPosition({row:b,column:c});return a.record===d.record&&a.columnHeader===d.columnHeader}},onStoreRemove:function(a,b,c){var d=this.getCurrentPosition(),e,g=b.length,h,i=0;this.callParent(arguments);if(d&&
!(c[0]>d.row)){for(e=0;e<g;e++){h=c[e];if(h<d.row)i++;else break}i&&d.setRow(d.row-i)}},onMouseDown:function(a,b,c,d,e,g){g!==-1&&this.setCurrentPosition({view:a,row:e,column:c})},onCellSelect:function(a,b){a&&(a.row!==void 0&&a.row>-1)&&this.doSelect(a.record,false,b)},onCellDeselect:function(a,b){a&&a.row!==void 0&&this.doDeselect(a.record,b)},onSelectChange:function(a,b,c,d){var e,g,h;if(b){e=this.nextSelection;g="select"}else{e=this.lastSelection||this.noSelection;g="deselect"}h=e.view||this.primaryView;
if((c||this.fireEvent("before"+g,this,a,e.row,e.column))!==false&&d()!==false){if(b){h.focusRow(a,true);h.onCellSelect(e)}else{h.onCellDeselect(e);delete this.selection}c||this.fireEvent(g,this,a,e.row,e.column)}},onKeyTab:function(a){var b=this.getCurrentPosition();if(b)if((b=b.view.editingPlugin)&&this.wasEditing)this.onEditorTab(b,a);else this.move(a.shiftKey?"left":"right",a)},onEditorTab:function(a,b){var c=this.move(b.shiftKey?"left":"right",b);if(c)this.wasEditing=a.startEdit(c.record,c.columnHeader)?
false:true},refresh:function(){var a=this.getCurrentPosition(),b;if(a&&(b=this.store.indexOf(this.selected.last()))!==-1)a.row=b},onColumnMove:function(a){if(a=a.up("tablepanel"))this.onViewRefresh(a.view)},onUpdate:function(a){if(this.isSelected(a)){a=this.selecting?this.nextSelection:this.selection;this.view.onCellSelect(a)}},onViewRefresh:function(a){var b=this.getCurrentPosition(),c=a.headerCt,d;if(b&&b.view===a){d=b.record;b=b.columnHeader;b.isDescendantOf(c)||(b=c.queryById(b.id)||c.down('[text="'+
b.text+'"]')||c.down('[dataIndex="'+b.dataIndex+'"]'));b&&a.store.indexOfId(d.getId())!==-1&&this.setCurrentPosition({row:d,column:b,view:a})}},selectByPosition:function(a,b){this.setCurrentPosition(a,b)}},1,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0);
Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.Model,{deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(a){a.on({itemmousedown:this.onRowMouseDown,itemclick:this.onRowClick,scope:this});this.enableKeyNav&&this.initKeyNav(a)},initKeyNav:function(a){if(a.rendered){a.el.set({tabIndex:-1});this.keyNav=new Ext.util.KeyNav({target:a,
ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(a,c,d,e,g){g.record=c;g.recordIndex=e;return g},up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,scope:this})}else a.on("render",Ext.Function.bind(this.initKeyNav,this,[a],0),this,{single:true})},onUpdate:function(a){var b=this.view,c;if(b&&this.isSelected(a)){c=b.indexOf(a);
b.onRowSelect(c);if(a===this.lastFocused)b.onRowFocus(c,true)}},getRowsVisible:function(){var a=false,b=this.views[0],c=b.all.first();if(c){a=c.getHeight();b=b.el.getHeight();a=Math.floor(b/a)}return a},onKeyEnd:function(a){var b=this,c=b.views[0];c.bufferedRenderer?c.bufferedRenderer.scrollTo(b.store.getCount()-1,false,function(c,e){b.afterKeyNavigate(a,e)}):b.afterKeyNavigate(a,c.getRecord(c.all.getCount()-1))},onKeyHome:function(a){var b=this,c=b.views[0];c.bufferedRenderer?c.bufferedRenderer.scrollTo(0,
false,function(c,e){b.afterKeyNavigate(a,e)}):b.afterKeyNavigate(a,c.getRecord(0))},onKeyPageUp:function(a){var b=this.views[0],c=this.getRowsVisible();if(c)if(b.bufferedRenderer){c=Math.max(a.recordIndex-c,0);(this.lastKeyEvent||(this.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent);b.bufferedRenderer.scrollTo(c,false,this.afterBufferedScrollTo,this)}else{b=b.walkRecs(a.record,-c);this.afterKeyNavigate(a,b)}},onKeyPageDown:function(a){var b=this.views[0],c=this.getRowsVisible();if(c)if(b.bufferedRenderer){c=
Math.min(a.recordIndex+c,this.store.getCount()-1);(this.lastKeyEvent||(this.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(a.browserEvent);b.bufferedRenderer.scrollTo(c,false,this.afterBufferedScrollTo,this)}else{b=b.walkRecs(a.record,c);this.afterKeyNavigate(a,b)}},onKeySpace:function(a){var b=this.lastFocused;b&&this.afterKeyNavigate(a,b)},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this.views[0].walkRecs(a.record,-1);b&&this.afterKeyNavigate(a,b)},onKeyDown:function(a){var b=this.views[0].walkRecs(a.record,
1);b&&this.afterKeyNavigate(a,b)},afterBufferedScrollTo:function(a,b){this.afterKeyNavigate(this.lastKeyEvent,b)},scrollByDeltaX:function(a){var b=this.views[0].up().horizontalScroller;b&&b.scrollByDeltaX(a)},onKeyLeft:function(){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(a,b,c,d,e){if(d!==-1&&this.allowRightMouseSelection(e))if(this.isSelected(b))this.mousedownAction=false;else{this.mousedownAction=true;this.processSelection(a,
b,c,d,e)}},onVetoUIEvent:function(a,b,c,d,e,g,h){if(a=="mousedown")this.mousedownAction=!this.isSelected(h)},onRowClick:function(a,b,c,d,e){this.mousedownAction?this.mousedownAction=false:this.processSelection(a,b,c,d,e)},processSelection:function(a,b,c,d,e){this.selectWithEvent(b,e)},allowRightMouseSelection:function(a){(a=this.ignoreRightMouseSelection&&a.button!==0)&&(a=this.hasSelection());return!a},onSelectChange:function(a,b,c,d){var e=this.views,g=e.length,h=e[0].indexOf(a),i=b?"select":"deselect",
j=0;if((c||this.fireEvent("before"+i,this,a,h))!==false&&d()!==false){for(;j<g;j++)if(b)e[j].onRowSelect(h,c);else e[j].onRowDeselect(h,c);c||this.fireEvent(i,this,a,h)}},onLastFocusChanged:function(a,b,c){var d=this.views,e=d.length,g,h=0;if(a){g=d[0].indexOf(a);if(g!=-1)for(;h<e;h++)d[h].onRowFocus(g,false,true)}if(b){g=d[0].indexOf(b);if(g!=-1)for(h=0;h<e;h++)d[h].onRowFocus(g,true,c)}this.callParent(arguments)},onEditorTab:function(a,b){var c=this.views[0],d=a.getActiveRecord(),e=a.getActiveColumn(),
e=c.getPosition(d,e),g=b.shiftKey?"left":"right";do e=c.walkCells(e,g,b,this.preventWrap);while(e&&(!e.columnHeader.getEditor(d)||!a.startEditByPosition(e)))},getCurrentPosition:function(){var a=this.selected.items[0];if(a)return(new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(a),0)},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(a,b){var c=this.store,d=this.getSelection(),d=this.views[0].indexOf(d[d.length-1])+1;if(d===c.getCount()||d===
0)c=false;else{this.doSelect(d,a,b);c=true}return c},selectPrevious:function(a,b){var c=this.views[0].indexOf(this.getSelection()[0])-1;if(c<0)c=false;else{this.doSelect(c,a,b);c=true}return c},isRowSelected:function(a){return this.isSelected(a)}},1,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0);
Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){this.addEvents("activate","deactivate","beforeclose","close");this.callParent(arguments);this.card&&this.setCard(this.card);this.overCls=["over",this.position+"-over"]},getTemplateArgs:function(){var a=
this.callParent();a.closable=this.closable;a.closeText=this.closeText;return a},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var a=this.up("tabbar"),b=this.up("tabpanel");this.callParent();this.addClsWithUI(this.position);this.active&&this.addClsWithUI([this.activeCls,this.position+"-"+this.activeCls]);this.syncClosableUI();if(!this.minWidth){this.minWidth=a?a.minTabWidth:this.minWidth;if(!this.minWidth&&b)this.minWidth=b.minTabWidth;if(this.minWidth&&
this.iconCls)this.minWidth=this.minWidth+25}if(!this.maxWidth){this.maxWidth=a?a.maxTabWidth:this.maxWidth;if(!this.maxWidth&&b)this.maxWidth=b.maxTabWidth}},onRender:function(){this.setElOrientation();this.callParent(arguments);this.closable&&this.closeEl.addClsOnOver(this.closeElOverCls);this.keyNav=new Ext.util.KeyNav(this.el,{enter:this.onEnterKey,del:this.onDeleteKey,scope:this})},setElOrientation:function(){var a=this.position;if(a==="left"||a==="right")this.el.setVertical(a==="right"?90:270)},
enable:function(a){this.callParent(arguments);this.removeClsWithUI(this.position+"-disabled");return this},disable:function(a){this.callParent(arguments);this.addClsWithUI(this.position+"-disabled");return this},onDestroy:function(){Ext.destroy(this.keyNav);delete this.keyNav;this.callParent(arguments)},setClosable:function(a){a=!arguments.length||!!a;if(this.closable!=a){this.closable=a;if(this.card)this.card.closable=a;this.syncClosableUI();if(this.rendered){this.syncClosableElements();this.updateLayout()}}},
syncClosableElements:function(){var a=this.closeEl;if(this.closable){if(!a)a=this.closeEl=this.btnWrap.insertSibling({tag:"a",cls:this.baseCls+"-close-btn",href:"#",title:this.closeText},"after");a.addClsOnOver(this.closeElOverCls)}else if(a){a.remove();delete this.closeEl}},syncClosableUI:function(){var a=[this.closableCls,this.closableCls+"-"+this.position];this.closable?this.addClsWithUI(a):this.removeClsWithUI(a)},setCard:function(a){this.card=a;this.setText(this.title||a.title);this.setIconCls(this.iconCls||
a.iconCls);this.setIcon(this.icon||a.icon);this.setGlyph(this.glyph||a.glyph)},onCloseClick:function(){this.fireEvent("beforeclose",this)!==false&&(this.tabBar?this.tabBar.closeTab(this):this.fireClose())},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(a){if(this.tabBar)this.tabBar.onClick(a,this.el)},onDeleteKey:function(){if(this.closable)this.onCloseClick()},activate:function(a){this.active=true;this.addClsWithUI([this.activeCls,this.position+"-"+this.activeCls]);a!==true&&
this.fireEvent("activate",this)},deactivate:function(a){this.active=false;this.removeClsWithUI([this.activeCls,this.position+"-"+this.activeCls]);a!==true&&this.fireEvent("deactivate",this)}},0,["tab"],["button","component","tab","box"],{button:!0,component:!0,tab:!0,box:!0},["widget.tab"],0,[Ext.tab,"Tab"],0);
Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{statics:{fromEvent:function(a){a=a.browserEvent||a;a=a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x==a.x&&this.y==a.y},isWithin:function(a,b){Ext.isObject(b)||(b={x:b,y:b});return this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y},isContainedBy:function(a){a instanceof
Ext.util.Region||(a=Ext.get(a.el||a).getRegion());return a.contains(this)},roundedEquals:function(a){return Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y)}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});
Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Header,{baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:'<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>;{%this.renderContainer(out,values)%};</div>;<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls};<tpl if="ui"> {baseCls}-strip-{ui};<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>;</tpl>">;</div>'.split(";"),_reverseDockNames:{left:"right",
right:"left"},initComponent:function(){this.plain&&this.addCls(this.baseCls+"-plain");this.addClsWithUI(this.orientation);this.addEvents("change");this.callParent(arguments);Ext.merge(this.layout,this.initialConfig.layout);this.layout.align=this.orientation=="vertical"?"left":"top";this.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(this.layout);this.remove(this.titleCmp);delete this.titleCmp;Ext.apply(this.renderData,{bodyCls:this.bodyCls,dock:this.dock})},onRender:function(){this.callParent();
if(this.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict)this.el.on({mousemove:this.onMouseMove,scope:this})},afterRender:function(){var a=this.layout;this.callParent();if(Ext.isIE9&&Ext.isStrict&&this.orientation==="vertical")a.innerCt.on("scroll",function(){a.innerCt.dom.scrollLeft=0})},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},adjustTabPositions:function(){var a=this.items.items,b=a.length,c;if(!Ext.isIE9m)if(this.dock==="right")for(;b--;){c=a[b];
c.isVisible()&&c.el.setStyle("left",c.lastBox.width+"px")}else if(this.dock==="left")for(;b--;){c=a[b];c.isVisible()&&c.el.setStyle("left",-c.lastBox.height+"px")}},getLayout:function(){this.layout.type=this.orientation==="horizontal"?"hbox":"vbox";return this.callParent(arguments)},onAdd:function(a){a.position=this.dock;this.callParent(arguments)},onRemove:function(a){if(a===this.previousTab)this.previousTab=null;this.callParent(arguments)},afterComponentLayout:function(a){var b=this.needsScroll;
this.callParent(arguments);b&&this.layout.overflowHandler.scrollToItem(this.activeTab);delete this.needsScroll},onClick:function(a,b){var c=this.tabPanel,d,e;if(!a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){if(this.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){e=this.getTabInfoFromPoint(a.getXY());d=e.tab;e=e.close}else e=(d=(d=a.getTarget("."+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(d.id))&&d.closeEl&&b===d.closeEl.dom;e&&a.preventDefault();if(d&&d.isDisabled&&!d.isDisabled())if(d.closable&&
e)d.onCloseClick();else{c?c.setActiveTab(d.card):this.setActiveTab(d);d.focus()}}},onMouseMove:function(a){var b=this._overTab,c;if(!a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){c=this.getTabInfoFromPoint(a.getXY());c=c.tab;if(c!==b){if(b&&b.rendered){b.onMouseLeave(a);this._overTab=null}if(c){c.onMouseEnter(a);this._overTab=c;c.disabled||this.el.setStyle("cursor","pointer")}else this.el.setStyle("cursor","default")}}},onMouseLeave:function(a){var b=this._overTab;if(b&&b.rendered)b.onMouseLeave(a)},
getTabInfoFromPoint:function(a){for(var b=this.items.items,c=b.length,d=this.layout.innerCt,e=d.getXY(),a=new Ext.util.Point(a[0],a[1]),g=0,h,i,j,k,l,m,n,p;g<c;g++){h=b[g].lastBox;l=e[0]+h.x;m=e[1]-d.dom.scrollTop+h.y;k=h.width;h=h.height;i=new Ext.util.Region(m,l+k,m+h,l);if(i.contains(a)){p=b[g];if(b=p.closeEl){d=b.getXY();j=b.getWidth();c=b.getHeight();if(this._isTabReversed===void 0)this._isTabReversed=n=p.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1;n=n?this._reverseDockNames[this.dock]:
this.dock;if(n==="right"){k=l+k-(d[1]-m+b.getHeight());l=m+(d[0]-l)}else{k=l+(d[1]-m);l=m+l+h-d[0]-b.getWidth()}l=new Ext.util.Region(l,k+j,l+c,k);j=l.contains(a)}break}}return{tab:p,close:j}},closeTab:function(a){var b=a.card,c=this.tabPanel,d;if(b&&b.fireEvent("beforeclose",b)===false)return false;d=this.findNextActivatable(a);Ext.suspendLayouts();if(c&&b){delete a.ownerCt;b.fireEvent("close",b);c.remove(b);if(c.getComponent(b)){a.ownerCt=this;Ext.resumeLayouts(true);return false}a.fireClose();
this.remove(a)}if(d){c?c.setActiveTab(d.card):this.setActiveTab(d);d.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(a){if(a.active&&this.items.getCount()>1)return this.previousTab&&this.previousTab!==a&&!this.previousTab.disabled?this.previousTab:a.next("tab[disabled=false]")||a.prev("tab[disabled=false]")},setActiveTab:function(a,b){if(!a.disabled&&a!==this.activeTab){if(this.activeTab)if(this.activeTab.isDestroyed)this.previousTab=null;else{this.previousTab=this.activeTab;this.activeTab.deactivate()}a.activate();
this.activeTab=a;this.needsScroll=true;if(!b){this.fireEvent("change",this,a,a.card);this.updateLayout()}}}},0,["tabbar"],["component","tabbar","container","box","header"],{component:!0,tabbar:!0,container:!0,box:!0,header:!0},["widget.tabbar"],0,[Ext.tab,"Bar"],0);Ext.define("ExtThemeNeptune.tab.Tab",{override:"Ext.tab.Tab",border:!1});
Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){this.callParent(arguments);if(this.mode==="SINGLE"&&this.showHeaderCheckbox!==true)this.showHeaderCheckbox=false},beforeViewRender:function(a){var b;this.callParent(arguments);if(!this.hasLockedHeader()||a.headerCt.lockedCt){if(this.showHeaderCheckbox!==
false)a.headerCt.on("headerclick",this.onHeaderClick,this);this.addCheckbox(a,true);b=a.ownerCt;if(a.headerCt.lockedCt)b=b.ownerCt;this.mon(b,"reconfigure",this.onReconfigure,this)}},bindComponent:function(a){this.sortable=false;this.callParent(arguments)},hasLockedHeader:function(){var a=this.views,b=a.length,c;for(c=0;c<b;c++)if(a[c].headerCt.lockedCt)return true;return false},addCheckbox:function(a,b){var c=this.injectCheckbox,d=a.headerCt;if(c!==false){c=="first"?c=0:c=="last"&&(c=d.getColumnCount());
Ext.suspendLayouts();if(a.getStore().buffered)this.showHeaderCheckbox=false;d.add(c,this.getHeaderConfig());Ext.resumeLayouts()}b!==true&&a.refresh()},onReconfigure:function(a,b,c){c&&this.addCheckbox(this.views[0])},toggleUiHeader:function(a){var b=this.views[0].headerCt.child("gridcolumn[isCheckerHd]"),c=this.checkerOnCls;b&&(a?b.addCls(c):b.removeCls(c))},onHeaderClick:function(a,b,c){if(b.isCheckerHd){c.stopEvent();a=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");this.preventFocus=true;a?
this.deselectAll():this.selectAll();delete this.preventFocus}},getHeaderConfig:function(){var a=this.showHeaderCheckbox!==false;return{isCheckerHd:a,text:"&#160;",clickTargetName:"el",width:this.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:a?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(this.renderer,this),editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},
refresh:function(){this.callParent(arguments);this.updateHeaderState()},renderer:function(a,b){var c=Ext.baseCSSPrefix;b.tdCls=c+"grid-cell-special "+c+"grid-cell-row-checker";return'<div class="'+c+'grid-row-checker">&#160;</div>'},processSelection:function(a,b,c,d,e){a=e.getTarget(this.checkSelector);if(!this.checkOnly||a)if(a){a=this.getSelectionMode();a!=="SINGLE"&&this.setSelectionMode("SIMPLE");this.selectWithEvent(b,e);this.setSelectionMode(a)}else this.selectWithEvent(b,e)},onSelectChange:function(){this.callParent(arguments);
this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.updateHeaderState();this.callParent(arguments)},resumeChanges:function(){this.callParent();
this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var a=this.store,b=a.getCount(),c=this.views,d=false,e=0,g;if(!a.buffered&&b>0){a=this.selected;g=0;for(d=a.getCount();g<d;++g){if(!this.storeHasSelected(a.getAt(g)))break;++e}d=b===e}c&&c.length&&this.toggleUiHeader(d)}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],0);
Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var a=[].concat(this.dockedItems||[]),b=this.activeTab||(this.activeTab=0),c=this.tabPosition;this.layout=new Ext.layout.container.Card(Ext.apply({owner:this,deferredRender:this.deferredRender,itemCls:this.itemCls,activeItem:b},this.layout));this.tabBar=
new Ext.tab.Bar(Ext.apply({ui:this.ui,dock:this.tabPosition,orientation:c=="top"||c=="bottom"?"horizontal":"vertical",plain:this.plain,cardLayout:this.layout,tabPanel:this},this.tabBar));a.push(this.tabBar);this.dockedItems=a;this.addEvents("beforetabchange","tabchange");this.callParent(arguments);(b=this.activeTab=this.getComponent(b))&&this.tabBar.setActiveTab(b.tab,true)},setActiveTab:function(a){var b;if(a=this.getComponent(a)){b=this.getActiveTab();if(b!==a&&this.fireEvent("beforetabchange",
this,a,b)===false)return false;if(!a.isComponent){Ext.suspendLayouts();a=this.add(a);Ext.resumeLayouts()}this.activeTab=a;Ext.suspendLayouts();this.layout.setActiveItem(a);if((a=this.activeTab=this.layout.getActiveItem())&&a!==b){this.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(true);b!==a&&this.fireEvent("tabchange",this,a,b)}else Ext.resumeLayouts(true);return a}},getActiveTab:function(){var a=this.getComponent(this.activeTab);return this.activeTab=a&&this.items.indexOf(a)!=-1?a:null},getTabBar:function(){return this.tabBar},
onAdd:function(a,b){var c=a.tabConfig||{},c=Ext.applyIf(c,{xtype:"tab",ui:this.tabBar.ui,card:a,disabled:a.disabled,closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:this.tabBar,position:this.tabPosition,closeText:a.closeText});a.tab=this.tabBar.insert(b,c);a.on({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow,iconchange:this.onItemIconChange,iconclschange:this.onItemIconClsChange,titlechange:this.onItemTitleChange});if(a.isPanel){if(this.removePanelHeader)a.rendered?
a.header&&a.header.hide():a.header=false;a.isPanel&&this.border&&a.setBorder(false)}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return false}},onItemIconChange:function(a,b){a.tab.setIcon(b)},onItemIconClsChange:function(a,b){a.tab.setIconCls(b)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(a,b){var c;this.destroying||this.items.getCount()==1?this.activeTab=null:
(c=this.tabBar.items.indexOf(this.tabBar.findNextActivatable(a.tab)))!==-1&&this.setActiveTab(c);this.callParent(arguments);delete a.tab.card;delete a.tab},onRemove:function(a){a.un({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow});!this.destroying&&a.tab.ownerCt===this.tabBar&&this.tabBar.remove(a.tab)}},0,["tabpanel"],["tabpanel","panel","component","container","box"],{tabpanel:!0,panel:!0,component:!0,container:!0,box:!0},["widget.tabpanel"],0,[Ext.tab,
"Panel",Ext,"TabPanel"],0);
Ext.cmd.derive("Ext.view.DragZone",Ext.dd.DragZone,{containerScroll:!1,constructor:function(a){var b;Ext.apply(this,a);if(!this.ddGroup)this.ddGroup="view-dd-zone-"+this.view.id;a=this.view;b=a.ownerCt;this.callParent([b?b.getTargetEl().dom:a.el.dom.parentNode]);this.ddel=Ext.get(document.createElement("div"));this.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(a,b,c){this.initTarget(a,b,c);this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(a){this.callParent();
a.el.focus()},onItemMouseDown:function(a,b,c,d,e){if(!this.isPreventDrag(e,b,c,d)){a.focusRow&&a.focusRow(b);this.handleMouseDown(e)}},isPreventDrag:function(){return false},getDragData:function(a){var b=this.view,c=a.getTarget(b.getItemSelector());if(c)return{copy:b.copy||b.allowCopy&&a.ctrlKey,event:new Ext.EventObjectImpl(a),view:b,ddel:this.ddel,item:c,records:b.getSelectionModel().getSelection(),fromPosition:Ext.fly(c).getXY()}},onInitDrag:function(a,b){var c=this.dragData,d=c.view,e=d.getSelectionModel(),
d=d.getRecord(c.item);e.isSelected(d)||e.select(d,true);c.records=e.getSelection();this.ddel.update(this.getDragText());this.proxy.update(this.ddel.dom);this.onStartDrag(a,b);return true},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,a==1?"":"s")},getRepairXY:function(a,b){return b?b.fromPosition:false}},1,0,0,0,0,0,[Ext.view,"DragZone"],0);
Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:!0,getGroupString:function(a){return a.get(this.property)}},0,0,0,0,0,0,[Ext.util,"Grouper"],0);
Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:!0,alternateClassName:"Ext.History",useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){this.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8;this.hiddenField=this.iframe=null;this.ready=false;this.currentToken=null;this.mixins.observable.constructor.call(this)},getHash:function(){var a=window.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null},setHash:function(a){var b=
this.useTopWindow?window.top:window;try{b.location.hash=a}catch(c){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(a){this.currentToken=a;this.fireEvent("change",a)},updateIFrame:function(a){var a='<html><body><div id="state">'+Ext.util.Format.htmlEncode(a)+"</div></body></html>",b;try{b=this.iframe.contentWindow.document;b.open();b.write(a);b.close();return true}catch(c){return false}},checkIFrame:function(){var a=this,b=a.iframe.contentWindow,c,d,e;if(!b||
!b.document)Ext.Function.defer(this.checkIFrame,10,this);else{c=b.document;d=(c=c.getElementById("state"))?c.innerText:null;e=a.getHash();Ext.TaskManager.start({run:function(){var c=b.document.getElementById("state"),c=c?c.innerText:null,h=a.getHash();if(c!==d){d=c;a.handleStateChange(c);a.setHash(c);e=c;a.doSave()}else if(h!==e){e=h;a.updateIFrame(h)}},interval:50,scope:a});a.ready=true;a.fireEvent("ready",a)}},startUp:function(){var a=this,b;a.currentToken=a.hiddenField.value||this.getHash();if(a.oldIEMode)a.checkIFrame();
else{b=a.getHash();Ext.TaskManager.start({run:function(){var c=a.getHash();if(c!==b){b=c;a.handleStateChange(b);a.doSave()}},interval:50,scope:a});a.ready=true;a.fireEvent("ready",a)}},init:function(a,b){var c=this,d=Ext.DomHelper;if(c.ready)Ext.callback(a,b,[c]);else if(Ext.isReady){c.hiddenField=Ext.getDom(c.fieldId);if(!c.hiddenField)c.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:c.fieldId}]},false,true).firstChild;
if(c.oldIEMode){c.iframe=Ext.getDom(c.iframeId);if(!c.iframe)c.iframe=d.append(c.hiddenField.parentNode,{tag:"iframe",id:c.iframeId,src:Ext.SSL_SECURE_URL})}c.addEvents("ready","change");if(a)c.on("ready",a,b,{single:true});c.startUp()}else Ext.onReady(function(){c.init(a,b)})},add:function(a,b){if(b!==false&&this.getToken()===a)return true;if(this.oldIEMode)return this.updateIFrame(a);this.setHash(a);return true},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?
this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0);
Ext.cmd.derive("Ext.ux.data.PagingMemoryProxy",Ext.data.proxy.Memory,{alternateClassName:"Ext.data.PagingMemoryProxy",read:function(a,b,c){var d=this.getReader().read(this.data),e,g,h,i,c=c||this;g=a.filters;if(g.length>0){i=[];Ext.each(d.records,function(a){var b=true,c=g.length,d;for(d=0;d<c;d++)var e=g[d],h=e.filterFn,e=e.scope,b=b&&h.call(e,a);b&&i.push(a)},this);d.records=i;d.totalRecords=d.total=i.length}e=a.sorters;if(e.length>0){h=function(a,b){var c=e[0].sort(a,b),d=e.length,g;for(g=1;g<
d;g++)c=c||e[g].sort.call(this,a,b);return c};d.records.sort(h)}if(a.start!==void 0&&a.limit!==void 0){d.records=d.records.slice(a.start,a.start+a.limit);d.count=d.records.length}Ext.apply(a,{resultSet:d});a.setCompleted();a.setSuccessful();Ext.Function.defer(function(){Ext.callback(b,c,[a])},10)}},0,0,0,0,["proxy.pagingmemory"],0,[Ext.ux.data,"PagingMemoryProxy",Ext.data,"PagingMemoryProxy"],0);
Ext.cmd.derive("Ext.ux.Router",Ext.Base,{singleton:!0,alternateClassName:"Ext.Router",constructor:function(){this.ready=false;this.routes=[];this.mixins.observable.constructor.call(this)},init:function(a){var b=this,c=Ext.History;if(a&&a.routes){b.processRoutes(a);if(!b.ready){b.ready=true;b.addEvents("routemissed","beforedispatch","dispatch");c.init();c.on("change",b.parse,b);Ext.onReady(function(){b.parse(c.getToken())})}}},processRoutes:function(a){var b,c=a.routes;for(b in c)c.hasOwnProperty(b)&&
this.routeMatcher(a,b,c[b])},routeMatcher:function(a,b,c){var d=this.routes,e=b,g=/([:*])(\w+)/g,h=/([-.+?\^${}()|\[\]\/\\])/g,i=[];if(c.regex){a={app:a,route:b,regex:c.regex,controller:c.controller,action:c.action};delete c.controller;delete c.action;a.rules=c}else{e=e.replace(h,"\\$1").replace(g,function(a,b,c){i.push(c);return b===":"?"([^/]*)":"(.*)"});a={app:a,route:b,names:i,matcher:RegExp("^"+e+"$"),manageArgs:b.indexOf("?")!==-1};if(Ext.isString(c)){c=c.split("#");a.controller=c[0];a.action=
c[1];a.rules=void 0}else{a.controller=c.controller;a.action=c.action;delete c.controller;delete c.action;a.rules=c}}d.push(a)},parse:function(a){var b,c,d,e,g,h,i,j,k,l,m=this.routes,n=0,p=m.length,a=a||"";l=a.split("?");k=l[1];for(l=l[0];n<p;n++){b=m[n];if(b.regex){if(c=a.match(b.regex)){c=c.slice(1);if(this.dispatch(a,b,c))return{captures:c}}}else{c=b.manageArgs?a.match(b.matcher):l.match(b.matcher);if(l===""&&b.route==="/"||l==="/"&&b.route==="")c=[];if(c){d={};e=b.names;j=b.rules;for(g=0;g<e.length;){h=
e[g++];i=c[g];if(j&&h in j&&!this.validateRule(j[h],i)){c=false;break}d[h]=i}k&&!b.manageArgs&&(d=Ext.applyIf(d,Ext.Object.fromQueryString(k)));if(c&&this.dispatch(a,b,d))return d}}}this.fireEvent("routemissed",a);return false},validateRule:function(a,b){return Ext.isFunction(a)?a(b):Ext.isFunction(a.test)?a.test(b):a===b},dispatch:function(a,b,c){var d;if(this.fireEvent("beforedispatch",a,b,c)===false)return false;d=this.getController(b);if(!d)return false;d[b.action].call(d,c,a,b);this.fireEvent("dispatch",
a,b,c,d);return true},redirect:function(a,b){var c=Ext.History;b!==false&&c.getToken()===a?this.parse(a):c.add(a)},getController:function(a){var b,c=a.app,d=Ext.ClassManager,e=a.controller;b=c.getModuleClassName(e,"controller");if(!d.get(b)){e=Ext.String.capitalize(e);b=c.getModuleClassName(e,"controller");if(!d.get(b))return false;a.controller=e}return c.getController(e)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.ux,"Router",Ext,"Router"],function(){Ext.override(Ext.app.Application,{enableRouter:true,
onBeforeLaunch:function(){this.callOverridden();this.enableRouter&&Ext.ux.Router.init(this)}})});Ext.cmd.derive("Prototype.model.Item",Ext.data.Model,{fields:["id","name","email","phone"],idProperty:"threadid"},0,0,0,0,0,0,[Prototype.model,"Item"],0);
Ext.cmd.derive("Prototype.store.Items",Ext.data.Store,{model:"Prototype.model.Item",autoLoad:!0,autoSync:!0,buffered:!0,leadingBufferZone:100,pageSize:25,proxy:{type:"rest",url:"rest/",reader:{type:"json",root:"items",totalProperty:"total"},writer:{type:"json"}}},0,0,0,0,0,0,[Prototype.store,"Items"],0);
Ext.cmd.derive("Prototype.controller.SubMenu",Ext.app.Controller,{refs:[{ref:"SubMenu",selector:"SubMenu"}],init:function(){Ext.ux.Router.on("beforedispatch",this.beforeDispatchSubMenu,this);Ext.ux.Router.on("dispatch",this.dispatchSubMenu,this)},beforeDispatchSubMenu:function(){this.getSubMenu().removeAll();this.slideOut()},dispatchSubMenu:function(a,b){var c=this.getSubMenu();"Settings"===b.controller&&c.add(this.getSettingsSubMenuItems(b.action));"Home"===b.controller&&c.add(this.getHomeSubMenuItems(b.action));
null!==c.child()&&this.slideIn(c.getEl())},getSettingsSubMenuItems:function(){return[{text:"Save"},{text:"Terminate"}]},getHomeSubMenuItems:function(a){if("index"===a)return[{text:"New",handler:function(){Ext.Router.redirect("home/new")}}];if("create"===a)return[{text:"Back",handler:function(){Ext.Router.redirect("home")}},{text:"Save",handler:function(){alert("Save")}}];if("edit"===a)return[{text:"Back",handler:function(){Ext.Router.redirect("home")}},{text:"Save",handler:function(){alert("Save")}},
{text:"Terminate",handler:function(){alert("Terminate")}}]},slideIn:function(){var a=this.getSubMenu();a.getEl().slideIn("t",{duration:400,callback:function(){a.doLayout()},scope:this})},slideOut:function(){this.getSubMenu().getEl().slideOut("t",{duration:400})}},0,0,0,0,0,0,[Prototype.controller,"SubMenu"],0);
Ext.cmd.derive("Prototype.controller.Router",Ext.app.Controller,{previousMatch:{},currentMatch:{},init:function(){Ext.ux.Router.on("routemissed",this.routeMissed,this);Ext.ux.Router.on("dispatch",this.dispatch,this)},routeMissed:function(a){Ext.window.MessageBox.show({title:"Error 404",msg:"Route not found: "+a,buttons:Ext.window.MessageBox.OK,icon:Ext.window.MessageBox.ERROR})},dispatch:function(a,b){this.currentMatch=b;this.animate();this.previousMatch=b},animate:function(){if(this.previousMatch.action){if(this.previousMatch.controller!==
this.currentMatch.controller){this.fade();return}if("index"===this.previousMatch.action&&"index"!==this.currentMatch.action){this.slide("l","r");return}if("index"!==this.previousMatch.action&&"index"===this.currentMatch.action){this.slide("r","l");return}}void 0===this.previousMatch.action&&this.display()},display:function(){var a=this.createViewClass();this.getTarget().add(Ext.create(a,{border:false}))},slide:function(a,b){var c=this.createViewClass(),d=this.getTarget();d.getEl().slideOut(a,{duration:400,
callback:function(){d.removeAll();d.add(Ext.create(c,{border:false}));d.getEl().slideIn(b,{duration:400,callback:function(){d.doLayout()},scope:this})},scope:this})},fade:function(){var a=this.createViewClass(),b=this.getTarget();b.getEl().fadeOut({duration:400,callback:function(){b.removeAll();b.add(Ext.create(a,{border:false}));b.getEl().fadeIn({duration:400,callback:function(){b.doLayout()},scope:this})},scope:this})},createViewClass:function(){var a,b;a=Ext.String.capitalize(this.currentMatch.action);
b=this.currentMatch.controller.charAt(0).toLowerCase()+this.currentMatch.controller.substr(1);if(a=Ext.ClassManager.get("Prototype.view."+b+"."+a))return a},getTarget:function(){return Ext.getCmp("viewport").down("#viewport-target")}},0,0,0,0,0,0,[Prototype.controller,"Router"],0);Ext.cmd.derive("Prototype.controller.Home",Ext.app.Controller,{index:function(){},edit:function(){},create:function(){}},0,0,0,0,0,0,[Prototype.controller,"Home"],0);
Ext.cmd.derive("Prototype.controller.Settings",Ext.app.Controller,{index:function(){}},0,0,0,0,0,0,[Prototype.controller,"Settings"],0);
Ext.cmd.derive("Prototype.view.MainMenu",Ext.container.Container,{height:35,bodyBorder:!1,border:!1,cls:"menu",html:'<div class="container pull-left"><ul class="menu"><li><a href="#">Product</a></li><li class="page1"><a href="#">Page 1</a></li><li class="page2"><a href="#settings">Page 2</a></li></ul></div><div class="container pull-right"><ul class="menu"><li class="home"><a href="#">Home</a></li><li class="profile"><a href="#">Marco Janssen</a></li></ul></div>'},0,["MainMenu"],["MainMenu","component",
"container","box"],{MainMenu:!0,component:!0,container:!0,box:!0},["widget.MainMenu"],0,[Prototype.view,"MainMenu"],0);Ext.cmd.derive("Prototype.view.SubMenu",Ext.toolbar.Toolbar,{height:49,padding:"0 0 0 20px",ui:"menu-sub"},0,["SubMenu"],["toolbar","component","container","box","SubMenu"],{toolbar:!0,component:!0,container:!0,box:!0,SubMenu:!0},["widget.SubMenu"],0,[Prototype.view,"SubMenu"],0);
Ext.cmd.derive("Prototype.view.home.Index",Ext.container.Container,{layout:"border",style:{backgroundColor:"transparent"},items:[{region:"east",xtype:"container",width:25,minWidth:25,height:25},{region:"east",xtype:"panel",width:250,minWidth:100,height:200,stateful:!0,stateId:"home.grid.Filter",collapsible:!0,ui:"filter-panel"},{region:"center",xtype:"grid",title:"Grid",stateful:!0,stateId:"home.Grid",store:Ext.create("Prototype.store.Items"),ui:"center-grid",columns:[{text:"Name",dataIndex:"name"},
{text:"Email",dataIndex:"email",flex:1},{text:"Phone",dataIndex:"phone"},{xtype:"actioncolumn",width:100,items:[{icon:null,tooltip:"Edit",iconCls:"grid-button-edit",altText:"Edit",handler:function(a,b){var c=a.getStore().getAt(b);Ext.Router.redirect("home/edit/"+c.get("id"))}},{icon:null,tooltip:"Preview",iconCls:"grid-button-preview",altText:"Preview",handler:function(a,b){var c=a.getStore().getAt(b);alert("Preview "+c.get("name"))}},{icon:null,tooltip:"Delete",iconCls:"grid-button-delete",altText:"Delete",
handler:function(a,b){var c=a.getStore().getAt(b);alert("Terminate "+c.get("name"))}}]}]}]},0,0,["component","container","box"],{component:!0,container:!0,box:!0},0,0,[Prototype.view.home,"Index"],0);
Ext.cmd.derive("Prototype.view.home.Edit",Ext.form.Panel,{ui:"center-grid",bodyPadding:20,buttonAlign:"left",fieldDefaults:{labelAlign:"right",labelWidth:85,msgTarget:"side"},items:[{xtype:"fieldset",title:"Contact Information",defaultType:"textfield",defaults:{width:280},items:[{fieldLabel:"First Name",emptyText:"First Name",name:"first"},{fieldLabel:"Last Name",emptyText:"Last Name",name:"last"},{fieldLabel:"Company",name:"company"},{fieldLabel:"Email",name:"email",vtype:"email"},{xtype:"combobox",
fieldLabel:"State",name:"state",emptyText:"Select a state...",store:[]},{xtype:"datefield",fieldLabel:"Date of Birth",name:"dob",allowBlank:!1,maxValue:new Date}]}],buttons:[{text:"Load"},{text:"Submit",disabled:!0,formBind:!0}]},0,0,["panel","form","component","container","box"],{panel:!0,form:!0,component:!0,container:!0,box:!0},0,0,[Prototype.view.home,"Edit"],0);
Ext.cmd.derive("Prototype.view.home.Create",Ext.form.Panel,{ui:"center-grid",bodyPadding:20,buttonAlign:"left",fieldDefaults:{labelAlign:"right",labelWidth:85,msgTarget:"side"},items:[{xtype:"fieldset",title:"Contact Information",defaultType:"textfield",defaults:{width:280},items:[{fieldLabel:"First Name",emptyText:"First Name",name:"first"},{fieldLabel:"Last Name",emptyText:"Last Name",name:"last"},{fieldLabel:"Company",name:"company"},{fieldLabel:"Email",name:"email",vtype:"email"},{xtype:"combobox",
fieldLabel:"State",name:"state",emptyText:"Select a state...",store:[]},{xtype:"datefield",fieldLabel:"Date of Birth",name:"dob",allowBlank:!1,maxValue:new Date}]}],buttons:[{text:"Load"},{text:"Submit",disabled:!0,formBind:!0}]},0,0,["panel","form","component","container","box"],{panel:!0,form:!0,component:!0,container:!0,box:!0},0,0,[Prototype.view.home,"Create"],0);
Ext.cmd.derive("Prototype.view.settings.Index",Ext.form.Panel,{ui:"center-grid",bodyPadding:20,buttonAlign:"left",autoScroll:!0,fieldDefaults:{labelAlign:"right",labelWidth:85,msgTarget:"side"},items:[{xtype:"fieldset",title:"Contact Information",defaultType:"textfield",defaults:{width:280},items:[{fieldLabel:"First Name",emptyText:"First Name",name:"first"},{fieldLabel:"Last Name",emptyText:"Last Name",name:"last"},{fieldLabel:"Company",name:"company"},{fieldLabel:"Email",name:"email",vtype:"email"},
{xtype:"combobox",fieldLabel:"State",name:"state",emptyText:"Select a state...",store:[]},{xtype:"datefield",fieldLabel:"Date of Birth",name:"dob",allowBlank:!1,maxValue:new Date}]}],buttons:[{text:"Load"},{text:"Submit",disabled:!0,formBind:!0}]},0,0,["panel","form","component","container","box"],{panel:!0,form:!0,component:!0,container:!0,box:!0},0,0,[Prototype.view.settings,"Index"],0);
Ext.onReady(function(){splashscreen=Ext.getBody().mask("Loading application","splashscreen");splashscreen.addCls("splashscreen");Ext.DomHelper.insertFirst(Ext.query(".x-mask-msg")[0],{cls:"x-splash-icon"})});
Ext.cmd.derive("Prototype.Application",Ext.app.Application,{name:"Prototype",views:"MainMenu SubMenu home.Index home.Edit home.Create settings.Index".split(" "),controllers:["SubMenu","Router","Home","Settings"],stores:["Items"],routes:{"/":"home#index",home:"home#index","home/new":"home#create","home/edit/:id":"home#edit",settings:"settings#index"},launch:function(){this.fadeSplash()},fadeSplash:function(){(new Ext.util.DelayedTask(function(){splashscreen.fadeOut({duration:1E3,remove:true});splashscreen.next().fadeOut({duration:1E3,
remove:true,listeners:{afteranimate:function(){Ext.getBody().unmask()}}})})).delay(500)}},0,0,0,0,0,0,[Prototype,"Application"],0);
Ext.cmd.derive("Prototype.view.Viewport",Ext.container.Viewport,{id:"viewport",layout:{type:"border"},style:{backgroundImage:"url(resources/img/background.jpg)"},items:[{region:"north",xtype:"MainMenu"},{region:"north",xtype:"SubMenu"},{region:"center",xtype:"container",id:"viewport-target",layout:"fit"}]},0,0,["viewport","component","container","box"],{viewport:!0,component:!0,container:!0,box:!0},0,0,[Prototype.view,"Viewport"],0);
Ext.application({name:"Prototype",extend:"Prototype.Application",autoCreateViewport:!0});